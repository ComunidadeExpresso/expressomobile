if(!Date.now||!Date.prototype.getTime)Date.now=function(){return(new Date).getTime()};if(!global.performance||!global.performance.now){var startTime=Date.now();global.performance||(global.performance={}),global.performance.now=function(){return Date.now()-startTime}}var lastTime=Date.now(),vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!global.requestAnimationFrame;++x)global.requestAnimationFrame=global[vendors[x]+"RequestAnimationFrame"],global.cancelAnimationFrame=global[vendors[x]+"CancelAnimationFrame"]||global[vendors[x]+"CancelRequestAnimationFrame"];global.requestAnimationFrame||(global.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=16+lastTime-t;return n<0&&(n=0),lastTime=t,setTimeout(function(){lastTime=Date.now(),e(performance.now())},n)}),global.cancelAnimationFrame||(global.cancelAnimationFrame=function(e){clearTimeout(e)});