var CONST=require("../const"),utils=module.exports={_uid:0,_saidHello:!1,EventEmitter:require("eventemitter3"),pluginTarget:require("./pluginTarget"),async:require("async"),uid:function(){return++utils._uid},hex2rgb:function(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t},hex2string:function(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e},rgb2hex:function(e){return(e[0]*255<<16)+(e[1]*255<<8)+e[2]*255},canUseNewCanvasBlendModes:function(){if(typeof document=="undefined")return!1;var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=e+"AP804Oa6"+t;var r=new Image;r.src=e+"/wCKxvRF"+t;var i=document.createElement("canvas");i.width=6,i.height=1;var s=i.getContext("2d");s.globalCompositeOperation="multiply",s.drawImage(n,0,0),s.drawImage(r,2,0);var o=s.getImageData(2,0,1,1).data;return o[0]===255&&o[1]===0&&o[2]===0},getNextPowerOfTwo:function(e){if(e>0&&(e&e-1)===0)return e;var t=1;while(t<e)t<<=1;return t},isPowerOfTwo:function(e,t){return e>0&&(e&e-1)===0&&t>0&&(t&t-1)===0},getResolutionOfUrl:function(e){var t=CONST.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):1},sayHello:function(e){if(utils._saidHello)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c Pixi.js "+CONST.VERSION+" - ✰ "+e+" ✰  %c "+" %c "+" http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Pixi.js "+CONST.VERSION+" - "+e+" - http://www.pixijs.com/");utils._saidHello=!0},isWebGLSupported:function(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!!n&&!!n.getContextAttributes().stencil}catch(r){return!1}},sign:function(e){return e?e<0?-1:1:0},TextureCache:{},BaseTextureCache:{}};