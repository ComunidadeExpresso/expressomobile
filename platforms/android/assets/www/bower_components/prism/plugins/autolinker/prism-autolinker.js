(function(){if(typeof self!="undefined"&&!self.Prism||typeof global!="undefined"&&!global.Prism)return;var e=/\b([a-z]{3,7}:\/\/|tel:)[\w\-+%~/.:#=?&amp;]+/,t=/\b\S+@[\w.]+[a-z]{2}/,n=/\[([^\]]+)]\(([^)]+)\)/,r=["comment","url","attr-value","string"];Prism.hooks.add("before-highlight",function(i){if(!i.grammar||i.grammar["url-link"])return;Prism.languages.DFS(i.grammar,function(i,s,o){r.indexOf(o)>-1&&Prism.util.type(s)!=="Array"&&(s.pattern||(s=this[i]={pattern:s}),s.inside=s.inside||{},o=="comment"&&(s.inside["md-link"]=n),o=="attr-value"?Prism.languages.insertBefore("inside","punctuation",{"url-link":e},s):s.inside["url-link"]=e,s.inside["email-link"]=t)}),i.grammar["url-link"]=e,i.grammar["email-link"]=t}),Prism.hooks.add("wrap",function(e){if(/-link$/.test(e.type)){e.tag="a";var t=e.content;if(e.type=="email-link"&&t.indexOf("mailto:")!=0)t="mailto:"+t;else if(e.type=="md-link"){var r=e.content.match(n);t=r[2],e.content=r[1]}e.attributes.href=t}})})();