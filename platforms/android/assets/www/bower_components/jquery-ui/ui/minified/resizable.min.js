/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)})(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(n,r){if("hidden"===e(n).css("overflow"))return!1;var i=r&&"left"===r?"scrollLeft":"scrollTop",s=!1;return n[i]>0?!0:(n[i]=1,s=n[i]>0,n[i]=0,s)},_create:function(){var n,r,i,s,o,u=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},r=0;n.length>r;r++)i=e.trim(n[r]),o="ui-resizable-"+i,s=e("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:a.zIndex}),"se"===i&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(s);this._renderAxis=function(n){var r,i,s,o;n=n||this.element;for(r in this.handles)this.handles[r].constructor===String?this.handles[r]=this.element.children(this.handles[r]).first().show():(this.handles[r].jquery||this.handles[r].nodeType)&&(this.handles[r]=e(this.handles[r]),this._on(this.handles[r],{mousedown:u._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[r],this.element),o=/sw|ne|nw|se|n|s/.test(r)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(r)?"Top":/se|sw|s/.test(r)?"Bottom":/^e$/.test(r)?"Right":"Left"].join(""),n.css(s,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[r])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){u.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){a.disabled||u.resizing||(e(this).addClass("ui-resizable-autohide"),u._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var n,r=function(n){e(n).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(r(this.element),n=this.element,this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()),this.originalElement.css("resize",this.originalResizeStyle),r(this.originalElement),this},_mouseCapture:function(n){var r,i,s=!1;for(r in this.handles)i=e(this.handles[r])[0],(i===n.target||e.contains(i,n.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(n){var r,i,s,o=this.options,u=this.element;return this.resizing=!0,this._renderProxy(),r=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(r+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:u.width(),height:u.height()},this.originalSize=this._helper?{width:u.outerWidth(),height:u.outerHeight()}:{width:u.width(),height:u.height()},this.sizeDiff={width:u.outerWidth()-u.width(),height:u.outerHeight()-u.height()},this.originalPosition={left:r,top:i},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),u.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(n){var r,i,s=this.originalMousePosition,o=this.axis,u=n.pageX-s.left||0,a=n.pageY-s.top||0,f=this._change[o];return this._updatePrevProperties(),f?(r=f.apply(this,[n,u,a]),this._updateVirtualBoundaries(n.shiftKey),(this._aspectRatio||n.shiftKey)&&(r=this._updateRatio(r,n)),r=this._respectSize(r,n),this._updateCache(r),this._propagate("resize",n),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",n,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(n){this.resizing=!1;var r,i,s,o,u,a,f,l=this.options,c=this;return this._helper&&(r=this._proportionallyResizeElements,i=r.length&&/textarea/i.test(r[0].nodeName),s=i&&this._hasScroll(r[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,u={width:c.helper.width()-o,height:c.helper.height()-s},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,f=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(e.extend(u,{top:f,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",n),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>i&&(s.maxHeight=i)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var n=this.element,r=this.options;this.elementOffset=n.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++r.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(n,r,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[n,r,i]))},sw:function(n,r,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[n,r,i]))},ne:function(n,r,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[n,r,i]))},nw:function(n,r,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[n,r,i]))}},_propagate:function(n,r){e.ui.plugin.call(this,n,[r,this.ui()]),"resize"!==n&&this._trigger(n,r,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(n){var r=e(this).resizable("instance"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&r._hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:i.width,height:i.height}),r._updateCache(i),r._propagate("resize",n)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,r,i,s,o,u,a,f=e(this).resizable("instance"),l=f.options,c=f.element,h=l.containment,p=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;p&&(f.containerElement=e(p),/document/.test(h)||h===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(p),r=[],e(["Top","Right","Left","Bottom"]).each(function(e,t){r[e]=f._num(n.css("padding"+t))}),f.containerOffset=n.offset(),f.containerPosition=n.position(),f.containerSize={height:n.innerHeight()-r[3],width:n.innerWidth()-r[1]},i=f.containerOffset,s=f.containerSize.height,o=f.containerSize.width,u=f._hasScroll(p,"left")?p.scrollWidth:o,a=f._hasScroll(p)?p.scrollHeight:s,f.parentData={element:p,left:i.left,top:i.top,width:u,height:a}))},resize:function(n){var r,i,s,o,u=e(this).resizable("instance"),a=u.options,f=u.containerOffset,l=u.position,c=u._aspectRatio||n.shiftKey,h={top:0,left:0},p=u.containerElement,d=!0;p[0]!==document&&/static/.test(p.css("position"))&&(h=f),l.left<(u._helper?f.left:0)&&(u.size.width=u.size.width+(u._helper?u.position.left-f.left:u.position.left-h.left),c&&(u.size.height=u.size.width/u.aspectRatio,d=!1),u.position.left=a.helper?f.left:0),l.top<(u._helper?f.top:0)&&(u.size.height=u.size.height+(u._helper?u.position.top-f.top:u.position.top),c&&(u.size.width=u.size.height*u.aspectRatio,d=!1),u.position.top=u._helper?f.top:0),s=u.containerElement.get(0)===u.element.parent().get(0),o=/relative|absolute/.test(u.containerElement.css("position")),s&&o?(u.offset.left=u.parentData.left+u.position.left,u.offset.top=u.parentData.top+u.position.top):(u.offset.left=u.element.offset().left,u.offset.top=u.element.offset().top),r=Math.abs(u.sizeDiff.width+(u._helper?u.offset.left-h.left:u.offset.left-f.left)),i=Math.abs(u.sizeDiff.height+(u._helper?u.offset.top-h.top:u.offset.top-f.top)),r+u.size.width>=u.parentData.width&&(u.size.width=u.parentData.width-r,c&&(u.size.height=u.size.width/u.aspectRatio,d=!1)),i+u.size.height>=u.parentData.height&&(u.size.height=u.parentData.height-i,c&&(u.size.width=u.size.height*u.aspectRatio,d=!1)),d||(u.position.left=u.prevPosition.left,u.position.top=u.prevPosition.top,u.size.width=u.prevSize.width,u.size.height=u.prevSize.height)},stop:function(){var n=e(this).resizable("instance"),r=n.options,i=n.containerOffset,s=n.containerPosition,o=n.containerElement,u=e(n.helper),a=u.offset(),f=u.outerWidth()-n.sizeDiff.width,l=u.outerHeight()-n.sizeDiff.height;n._helper&&!r.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-s.left-i.left,width:f,height:l}),n._helper&&!r.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-s.left-i.left,width:f,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var n=e(this).resizable("instance"),r=n.options;e(r.alsoResize).each(function(){var n=e(this);n.data("ui-resizable-alsoresize",{width:parseInt(n.width(),10),height:parseInt(n.height(),10),left:parseInt(n.css("left"),10),top:parseInt(n.css("top"),10)})})},resize:function(n,r){var i=e(this).resizable("instance"),s=i.options,o=i.originalSize,u=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-u.top||0,left:i.position.left-u.left||0};e(s.alsoResize).each(function(){var n=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=n.parents(r.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(s[t]=n||null)}),n.css(s)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var n=e(this).resizable("instance"),r=n.options,i=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof r.ghost?r.ghost:""),n.ghost.appendTo(n.helper)},resize:function(){var n=e(this).resizable("instance");n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(){var n=e(this).resizable("instance");n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var n,r=e(this).resizable("instance"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=f[0]||1,c=f[1]||1,h=Math.round((s.width-o.width)/l)*l,p=Math.round((s.height-o.height)/c)*c,d=o.width+h,v=o.height+p,m=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&v>i.maxHeight,y=i.minWidth&&i.minWidth>d,b=i.minHeight&&i.minHeight>v;i.grid=f,y&&(d+=l),b&&(v+=c),m&&(d-=l),g&&(v-=c),/^(se|s|e)$/.test(a)?(r.size.width=d,r.size.height=v):/^(ne)$/.test(a)?(r.size.width=d,r.size.height=v,r.position.top=u.top-p):/^(sw)$/.test(a)?(r.size.width=d,r.size.height=v,r.position.left=u.left-h):((0>=v-c||0>=d-l)&&(n=r._getPaddingPlusBorderDimensions(this)),v-c>0?(r.size.height=v,r.position.top=u.top-p):(v=c-n.height,r.size.height=v,r.position.top=u.top+o.height-v),d-l>0?(r.size.width=d,r.position.left=u.left-h):(d=l-n.width,r.size.width=d,r.position.left=u.left+o.width-d))}}),e.ui.resizable});