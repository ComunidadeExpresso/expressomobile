/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)})(function(e){return e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var n=e(this).attr("title")||"";return e("<a>").text(n).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(n,r){var i=(n.attr("aria-describedby")||"").split(/\s+/);i.push(r),n.data("ui-tooltip-id",r).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(n){var r=n.data("ui-tooltip-id"),i=(n.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(r,i);-1!==s&&i.splice(s,1),n.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?n.attr("aria-describedby",i):n.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(n,r){var i=this;return"disabled"===n?(this[r?"_disable":"_enable"](),this.options[n]=r,void 0):(this._super(n,r),"content"===n&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)}),void 0)},_disable:function(){var n=this;e.each(this.tooltips,function(r,i){var s=e.Event("blur");s.target=s.currentTarget=i.element[0],n.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var n=e(this);n.is("[title]")&&n.data("ui-tooltip-title",n.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var n=e(this);n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title"))})},open:function(n){var r=this,i=e(n?n.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),n&&"mouseover"===n.type&&i.parents().each(function(){var n,i=e(this);i.data("ui-tooltip-open")&&(n=e.Event("blur"),n.target=n.currentTarget=this,r.close(n,!0)),i.attr("title")&&(i.uniqueId(),r.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(n,i),this._updateContent(i,n))},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;return"string"==typeof r?this._open(t,e,r):(n=r.call(e[0],function(n){i._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,n))})}),n&&this._open(t,e,n),void 0)},_open:function(n,r,i){function s(e){l.of=e,u.is(":hidden")||u.position(l)}var o,u,a,f,l=e.extend({},this.options.position);if(i){if(o=this._find(r))return o.tooltip.find(".ui-tooltip-content").html(i),void 0;r.is("[title]")&&(n&&"mouseover"===n.type?r.attr("title",""):r.removeAttr("title")),o=this._tooltip(r),u=o.tooltip,this._addDescribedBy(r,u.attr("id")),u.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(f=i.clone(),f.removeAttr("id").find("[id]").removeAttr("id")):f=i,e("<div>").html(f).appendTo(this.liveRegion),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:s}),s(n)):u.position(e.extend({of:r},this.options.position)),u.hide(),this._show(u,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){u.is(":visible")&&(s(l.of),clearInterval(a))},e.fx.interval)),this._trigger("open",n,{tooltip:u})}},_registerCloseHandlers:function(n,r){var i={keyup:function(n){if(n.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(n);i.currentTarget=r[0],this.close(i,!0)}}};r[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(r).tooltip)}),n&&"mouseover"!==n.type||(i.mouseleave="close"),n&&"focusin"!==n.type||(i.focusout="close"),this._on(!0,r,i)},close:function(n){var r,i=this,s=e(n?n.currentTarget:this.element),o=this._find(s);return o?(r=o.tooltip,o.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),o.hiding=!0,r.stop(!0),this._hide(r,this.options.hide,function(){i._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),n&&"mouseleave"===n.type&&e.each(this.parents,function(n,r){e(r.element).attr("title",r.title),delete i.parents[n]}),o.closing=!0,this._trigger("close",n,{tooltip:r}),o.hiding||(o.closing=!1)),void 0):(s.removeData("ui-tooltip-open"),void 0)},_tooltip:function(n){var r=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=r.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[i]={element:n,tooltip:r}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var n=this;e.each(this.tooltips,function(r,i){var s=e.Event("blur"),o=i.element;s.target=s.currentTarget=o[0],n.close(s,!0),e("#"+r).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});