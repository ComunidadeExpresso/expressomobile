/* TinySort CharOrder 1.1.1
* Copyright (c) 2008-2013 Ron Valstar http://www.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/

(function(e,t){var n,r=[],i,s,o=9472,u={},a,f=String.fromCharCode,l=Math.min,c=null,h=t.plugin.indexOf,p,d;for(var v=32,m=f(v),g=255;v<g;v++,m=f(v).toLowerCase())h.call(r,m)===-1&&r.push(m);r.sort(),t.charorder={id:"TinySort CharOrder",version:"1.1.0",requires:"TinySort 1.4",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"}},t.defaults.charOrder=n,t.plugin(function(t){p=t,d=p.order=="asc"?1:-1;if(p.charOrder!=n){n=p.charOrder;if(!p.charOrder)s=!1,o=9472,u={},a=i=c;else{i=r.slice(0),s=!1;for(var l=[],v=function(e,t){l.push(t),u[p.cases?e:e.toLowerCase()]=t},m="",g="z",y=n.length,w,E,S=0;S<y;S++){var x=n[S],T=x.charCodeAt(),N=T>96&&T<123;if(!N)if(x=="["){var C=l.length,L=C?l[C-1]:g,A=n.substr(S+1).match(/[^\]]*/)[0],O=A.match(/{[^}]*}/g);if(O)for(w=0,E=O.length;w<E;w++){var M=O[w];S+=M.length,A=A.replace(M,""),v(M.replace(/[{}]/g,""),L),s=!0}for(w=0,E=A.length;w<E;w++)v(L,A[w]);S+=A.length+1}else if(x=="{"){var _=n.substr(S+1).match(/[^}]*/)[0];v(_,f(o++)),S+=_.length+1,s=!0}else l.push(x);if(l.length&&(N||S===y-1)){var D=l.join("");m+=D,e.each(D.split(""),function(e,t){i.splice(h.call(i,t),1)});var P=l.slice(0);P.splice(0,0,h.call(i,g)+1,0),Array.prototype.splice.apply(i,P),l.length=0}S+1===y?a=new RegExp("["+m+"]","gi"):N&&(g=x)}}}},function(t,n,r,o){if(!t&&p.charOrder){s&&e.each(u,function(e,t){n=n.replace(e,t),r=r.replace(e,t)});if(n.match(a)!==c||r.match(a)!==c)for(var f=0,v=l(n.length,r.length);f<v;f++){var m=h.call(i,n[f]),g=h.call(i,r[f]);if(o=d*(m<g?-1:m>g?1:0))break}}return o})})(jQuery,jQuery.tinysort);