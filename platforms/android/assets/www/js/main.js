/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */

/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
*/

//     Underscore.js 1.5.1
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*
 *      jquery.xmpp.js
 *
 *      Copyright 2011 Alvaro Garcia <maxpowel@gmail.com>
 *
 *      This program is free software; you can redistribute it and/or modify
 *      it under the terms of the GNU General Public License as published by
 *      the Free Software Foundation; either version 3 of the License, or
 *      (at your option) any later version.
 *
 *      This program is distributed in the hope that it will be useful,
 *      but WITHOUT ANY WARRANTY; without even the implied warranty of
 *      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *      GNU General Public License for more details.
 *
 *      You should have received a copy of the GNU General Public License
 *      along with this program; if not, write to the Free Software
 *      Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 *      MA 02110-1301, USA.
 */

/**
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 **/

/*
 RequireJS text 0.27.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// MIT license

// moment.js
// version : 2.1.0
// author : Tim Wood
// license : MIT
// momentjs.com

/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */

/*! jQuery UI - v1.11.4 - 2015-05-31
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

/*
 *
 * Wijmo Library 2.3.4
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/

/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 2.1.3-pre
 */

/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */

/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.0.1 - JavaScript Vector Library                           │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\

/* TinySort 1.5.3
* Copyright (c) 2008-2013 Ron Valstar http://tinysort.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/

/*
 * jQuery contextMenu - Plugin for simple contextMenu handling
 *
 * Version: 1.5.8
 *
 * Authors: Rodney Rehm, Addy Osmani (patches for FF)
 * Web: http://medialize.github.com/jQuery-contextMenu/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */

/*!
 * JavaScript Linkify - v0.3 - 6/27/2009
 * http://benalman.com/projects/javascript-linkify/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 * 
 * Some regexps adapted from http://userscripts.org/scripts/review/7122
 */

// Script: JavaScript Linkify: Process links in text!
//
// *Version: 0.3, Last updated: 6/27/2009*
// 
// Project Home - http://benalman.com/projects/javascript-linkify/
// GitHub       - http://github.com/cowboy/javascript-linkify/
// Source       - http://github.com/cowboy/javascript-linkify/raw/master/ba-linkify.js
// (Minified)   - http://github.com/cowboy/javascript-linkify/raw/master/ba-linkify.min.js (2.8kb)
// 
// About: License
// 
// Copyright (c) 2009 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// This working example, complete with fully commented code, illustrates one way
// in which this code can be used.
// 
// Linkify - http://benalman.com/code/projects/javascript-linkify/examples/linkify/
// 
// About: Support and Testing
// 
// Information about what browsers this code has been tested in.
// 
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.7, Safari 3-4, Chrome, Opera 9.6-10.
// 
// About: Release History
// 
// 0.3 - (6/27/2009) Initial release

/*
*
* Wijmo Library 2.3.4
* http://wijmo.com/
*
* Copyright(c) GrapeCity, Inc.  All rights reserved.
* 
* Dual licensed under the MIT or GPL Version 2 licenses.
* licensing@wijmo.com
* http://www.wijmo.com/license
*
* * Wijmo Dialog widget.
*
* Depends:
*	jquery.ui.core.js
*	jquery.ui.widget.js
*	jquery.ui.dialog.js
*	jquery.wijmo.wijutil.js
*
*/

/**
 * jQuery.ScrollTo
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 5/25/2009
 *
 * @projectDescription Easy element scrolling using jQuery.
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * Works with jQuery +1.2.6. Tested on FF 2/3, IE 6/7/8, Opera 9.5/6, Safari 3, Chrome 1 on WinXP.
 *
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * @id jQuery.scrollTo
 * @id jQuery.fn.scrollTo
 * @param {String, Number, DOMElement, jQuery, Object} target Where to scroll the matched elements.
 *	  The different options for target are:
 *		- A number position (will be applied to all axes).
 *		- A string position ('44', '100px', '+=90', etc ) will be applied to all axes
 *		- A jQuery/DOM element ( logically, child of the element to scroll )
 *		- A string selector, that will be relative to the element to scroll ( 'li:eq(2)', etc )
 *		- A hash { top:x, left:y }, x and y can be any kind of number/string like above.
*		- A percentage of the container's dimension/s, for example: 50% to go to the middle.
 *		- The string 'max' for go-to-end. 
 * @param {Number} duration The OVERALL length of the animation, this argument can be the settings object instead.
 * @param {Object,Function} settings Optional set of settings or the onAfter callback.
 *	 @option {String} axis Which axis must be scrolled, use 'x', 'y', 'xy' or 'yx'.
 *	 @option {Number} duration The OVERALL length of the animation.
 *	 @option {String} easing The easing method for the animation.
 *	 @option {Boolean} margin If true, the margin of the target element will be deducted from the final position.
 *	 @option {Object, Number} offset Add/deduct from the end position. One number for both axes or { top:x, left:y }.
 *	 @option {Object, Number} over Add/deduct the height/width multiplied by 'over', can be { top:x, left:y } when using both axes.
 *	 @option {Boolean} queue If true, and both axis are given, the 2nd axis will only be animated after the first one ends.
 *	 @option {Function} onAfter Function to be called after the scrolling ends. 
 *	 @option {Function} onAfterFirst If queuing is activated, this function will be called after the first scrolling ends.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @desc Scroll to a fixed position
 * @example $('div').scrollTo( 340 );
 *
 * @desc Scroll relatively to the actual position
 * @example $('div').scrollTo( '+=340px', { axis:'y' } );
 *
 * @dec Scroll using a selector (relative to the scrolled element)
 * @example $('div').scrollTo( 'p.paragraph:eq(2)', 500, { easing:'swing', queue:true, axis:'xy' } );
 *
 * @ Scroll to a DOM element (same for jQuery object)
 * @example var second_child = document.getElementById('container').firstChild.nextSibling;
 *			$('#container').scrollTo( second_child, { duration:500, axis:'x', onAfter:function(){
 *				alert('scrolled!!');																   
 *			}});
 *
 * @desc Scroll on both axes, to different values
 * @example $('div').scrollTo( { top: 300, left:'+=200' }, { axis:'xy', offset:-20 } );
 */

/*!
 * VERSION: 1.15.1
 * DATE: 2015-01-20
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/**
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 **/

// THIS AUTOCOMPLETE WIDGET WAS MODIFIED TO WORK IN OUR APPLICATION,
// THINK TWICE BEFORE UPDATING THIS FILE TO A NEW VERSION.
//
//
//
//
//
// jQuery & Backbone JS Autocomplete Widget
//
// Copyright 2011 Planbox (www.planbox.com)
// Author Martin Drapeau
//
// Pass a Backbone collection and a model attribute to specify
// values for autocomplete. Apply this on an INPUT element.
// For example:
// 
//   $('input').autocomplete({
//       collection: collection,
//       attr: 'name'
//   });
//
// Constructs a UL and places it before the INPUT element.
// Will open right below, left-aligned. LI's get added the
// selected class upon hover or when the user navigates with
// the keyboard. Pressing TAB or ENTER when an item is selected
// changes the value in the INPUT. Or, if you specified a 
// callback (option onselect), will instead trigger it passing
// the selected model as argument.
//
// Options:
//   collection: The Backbone collection.
//   attr: The attribute to autocomplete on.
//   noCase: Optional. Set to true if your values are strings 
//          and you want autocomplete to be case insensitive.
//   onselect: Optional. Callback to be called when an item is
//          selected. If callback is not set, will modify the 
//          INPUT value to what has been selected.
//   scrollable_ancestor_em: Optional. If your element is inside
//          a scrollabale element, set this option to it.
//   ul_css, ul_class: Optional. Set to specify element style
//          and element class (uses jQuery's css and addClass
//          functions).
//   li_css, li_class: Optional. Set to specify element style
//          and element class (uses jQuery's css and addClass
//          functions).
//   width: Optional. Set to force a width. Otherwise will be
//          set to the width of the INPUT element.
//
// Methods:
//   show: Call to force showing the list.
//   destroy: Call to destroy and remove the widget from the
//         element.
//
// CSS: By default the UL will have class autocomplete. That
// can be overriden through option ul_class. Here is the 
// suggested styling to put in your .css file:
//    ul.autocomplete {
//    	position:absolute;
//    	background-color:white;
//    	border:1px solid #999;
//    	width:100%;
//    	font-size:12px;
//    	overflow-x:hidden;
//    	overflow-y:auto;
//    	clear:both;
//      z-index:1000;}
//    
//    ul.autocomplete li {
//    	list-style:none;
//    	cursor:pointer;
//    	padding:5px;}
//    
//    ul.autocomplete li.selected {
//    	background-color:#E1EFF9;}
//
// Note: Calling autocomplete on an element twice resets the
// widget.
//

(function(){window.WebComponents=window.WebComponents||{flags:{}};var e="webcomponents.js",t=document.querySelector('script[src*="'+e+'"]'),n={};if(!n.noOpts){location.search.slice(1).split("&").forEach(function(e){var t=e.split("="),r;t[0]&&(r=t[0].match(/wc-(.+)/))&&(n[r[1]]=t[1]||!0)});if(t)for(var r=0,i;i=t.attributes[r];r++)i.name!=="src"&&(n[i.name]=i.value||!0);if(n.log&&n.log.split){var s=n.log.split(",");n.log={},s.forEach(function(e){n.log[e]=!0})}else n.log={}}n.shadow=n.shadow||n.shadowdom||n.polyfill,n.shadow==="native"?n.shadow=!1:n.shadow=n.shadow||!HTMLElement.prototype.createShadowRoot,n.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=n.register),WebComponents.flags=n})(),WebComponents.flags.shadow&&(typeof WeakMap=="undefined"&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(Math.random()*1e9>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!t||t[0]!==e?!1:(t[0]=t[1]=undefined,!0)},has:function(e){var t=e[this.name];return t?t[0]===e:!1}},window.WeakMap=n}(),window.ShadowDOMPolyfill={},function(e){"use strict";function i(){if(typeof chrome!="undefined"&&chrome.app&&chrome.app.runtime)return!1;if(navigator.getDeviceStorage)return!1;try{var e=new Function("return true;");return e()}catch(t){return!1}}function o(e){if(!e)throw new Error("Assertion failed")}function l(e,t){var n=a(t);for(var r=0;r<n.length;r++){var i=n[r];u(e,i,f(t,i))}return e}function c(e,t){var n=a(t);for(var r=0;r<n.length;r++){var i=n[r];switch(i){case"arguments":case"caller":case"length":case"name":case"prototype":case"toString":continue}u(e,i,f(t,i))}return e}function h(e,t){for(var n=0;n<t.length;n++)if(t[n]in e)return t[n]}function d(e,t,n){p.value=n,u(e,t,p)}function v(e,n){var r=e.__proto__||Object.getPrototypeOf(e);if(y)try{a(r)}catch(i){r=r.__proto__}var s=t.get(r);if(s)return s;var o=v(r),u=_(o);return A(r,u,n),u}function m(e,t){k(e,t,!0)}function g(e,t){k(t,e,!1)}function w(e){return/^on[a-z]+$/.test(e)}function E(e){return/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(e)}function S(e){return s&&E(e)?new Function("return this.__impl4cf1e782hg__."+e):function(){return this.__impl4cf1e782hg__[e]}}function x(e){return s&&E(e)?new Function("v","this.__impl4cf1e782hg__."+e+" = v"):function(t){this.__impl4cf1e782hg__[e]=t}}function T(e){return s&&E(e)?new Function("return this.__impl4cf1e782hg__."+e+".apply(this.__impl4cf1e782hg__, arguments)"):function(){return this.__impl4cf1e782hg__[e].apply(this.__impl4cf1e782hg__,arguments)}}function N(e,t){try{return Object.getOwnPropertyDescriptor(e,t)}catch(n){return b}}function k(t,n,r,i){var s=a(t);for(var o=0;o<s.length;o++){var f=s[o];if(f==="polymerBlackList_")continue;if(f in n)continue;if(t.polymerBlackList_&&t.polymerBlackList_[f])continue;y&&t.__lookupGetter__(f);var l=N(t,f),c,h;if(typeof l.value=="function"){r&&(n[f]=T(f));continue}var p=w(f);p?c=e.getEventHandlerGetter(f):c=S(f);if(l.writable||l.set||C)p?h=e.getEventHandlerSetter(f):h=x(f);var d=C||l.configurable;u(n,f,{get:c,set:h,configurable:d,enumerable:l.enumerable})}}function L(e,t,n){if(e==null)return;var r=e.prototype;A(r,t,n),c(t,e)}function A(e,r,i){var s=r.prototype;o(t.get(e)===undefined),t.set(e,r),n.set(s,e),m(e,s),i&&g(s,i),d(s,"constructor",r),r.prototype=s}function O(e,n){return t.get(n.prototype)===e}function M(e){var t=Object.getPrototypeOf(e),n=v(t),r=_(n);return A(t,r,e),r}function _(e){function t(t){e.call(this,t)}var n=Object.create(e.prototype);return n.constructor=t,t.prototype=n,t}function D(e){return e&&e.__impl4cf1e782hg__}function P(e){return!D(e)}function H(e){if(e===null)return null;o(P(e));var t=e.__wrapper8e3dd93a60__;return t!=null?t:e.__wrapper8e3dd93a60__=new(v(e,e))(e)}function B(e){return e===null?null:(o(D(e)),e.__impl4cf1e782hg__)}function j(e){return e.__impl4cf1e782hg__}function F(e,t){t.__impl4cf1e782hg__=e,e.__wrapper8e3dd93a60__=t}function I(e){return e&&D(e)?B(e):e}function q(e){return e&&!D(e)?H(e):e}function R(e,t){if(t===null)return;o(P(e)),o(t===undefined||D(t)),e.__wrapper8e3dd93a60__=t}function z(e,t,n){U.get=n,u(e.prototype,t,U)}function W(e,t){z(e,t,function(){return H(this.__impl4cf1e782hg__[t])})}function X(e,t){e.forEach(function(e){t.forEach(function(t){e.prototype[t]=function(){var e=q(this);return e[t].apply(e,arguments)}})})}var t=new WeakMap,n=new WeakMap,r=Object.create(null),s=i(),u=Object.defineProperty,a=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,p={value:undefined,configurable:!0,enumerable:!1,writable:!0};a(window);var y=/Firefox/.test(navigator.userAgent),b={get:function(){},set:function(e){},configurable:!0,enumerable:!0},C=function(){var e=Object.getOwnPropertyDescriptor(Node.prototype,"nodeType");return e&&!e.get&&!e.set}(),U={get:undefined,configurable:!0,enumerable:!0};e.assert=o,e.constructorTable=t,e.defineGetter=z,e.defineWrapGetter=W,e.forwardMethodsToWrapper=X,e.isIdentifierName=E,e.isWrapper=D,e.isWrapperFor=O,e.mixin=l,e.nativePrototypeTable=n,e.oneOf=h,e.registerObject=M,e.registerWrapper=L,e.rewrap=R,e.setWrapper=F,e.unsafeUnwrap=j,e.unwrap=B,e.unwrapIfNeeded=I,e.wrap=H,e.wrapIfNeeded=q,e.wrappers=r}(window.ShadowDOMPolyfill),function(e){"use strict";function t(e,t,n){return{index:e,removed:t,addedCount:n}}function o(){}var n=0,r=1,i=2,s=3;o.prototype={calcEditDistances:function(e,t,n,r,i,s){var o=s-i+1,u=n-t+1,a=new Array(o);for(var f=0;f<o;f++)a[f]=new Array(u),a[f][0]=f;for(var l=0;l<u;l++)a[0][l]=l;for(var f=1;f<o;f++)for(var l=1;l<u;l++)if(this.equals(e[t+l-1],r[i+f-1]))a[f][l]=a[f-1][l-1];else{var c=a[f-1][l]+1,h=a[f][l-1]+1;a[f][l]=c<h?c:h}return a},spliceOperationsFromEditDistances:function(e){var t=e.length-1,o=e[0].length-1,u=e[t][o],a=[];while(t>0||o>0){if(t==0){a.push(i),o--;continue}if(o==0){a.push(s),t--;continue}var f=e[t-1][o-1],l=e[t-1][o],c=e[t][o-1],h;l<c?h=l<f?l:f:h=c<f?c:f,h==f?(f==u?a.push(n):(a.push(r),u=f),t--,o--):h==l?(a.push(s),t--,u=l):(a.push(i),o--,u=c)}return a.reverse(),a},calcSplices:function(e,o,u,a,f,l){var c=0,h=0,p=Math.min(u-o,l-f);o==0&&f==0&&(c=this.sharedPrefix(e,a,p)),u==e.length&&l==a.length&&(h=this.sharedSuffix(e,a,p-c)),o+=c,f+=c,u-=h,l-=h;if(u-o==0&&l-f==0)return[];if(o==u){var d=t(o,[],0);while(f<l)d.removed.push(a[f++]);return[d]}if(f==l)return[t(o,[],u-o)];var v=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,o,u,a,f,l)),d=undefined,m=[],g=o,y=f;for(var b=0;b<v.length;b++)switch(v[b]){case n:d&&(m.push(d),d=undefined),g++,y++;break;case r:d||(d=t(g,[],0)),d.addedCount++,g++,d.removed.push(a[y]),y++;break;case i:d||(d=t(g,[],0)),d.addedCount++,g++;break;case s:d||(d=t(g,[],0)),d.removed.push(a[y]),y++}return d&&m.push(d),m},sharedPrefix:function(e,t,n){for(var r=0;r<n;r++)if(!this.equals(e[r],t[r]))return r;return n},sharedSuffix:function(e,t,n){var r=e.length,i=t.length,s=0;while(s<n&&this.equals(e[--r],t[--i]))s++;return s},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}},e.ArraySplice=o}(window.ShadowDOMPolyfill),function(e){"use strict";function s(){r=!1;var e=n.slice(0);n=[];for(var t=0;t<e.length;t++)(0,e[t])()}function f(e){n.push(e);if(r)return;r=!0,i(s,0)}var t=window.MutationObserver,n=[],r=!1,i;if(t){var o=1,u=new t(s),a=document.createTextNode(o);u.observe(a,{characterData:!0}),i=function(){o=(o+1)%2,a.data=o}}else i=window.setTimeout;e.setEndOfMicrotask=f}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){if(e.scheduled_)return;e.scheduled_=!0,s.push(e);if(o)return;t(a),o=!0}function a(){o=!1;while(s.length){var e=s;s=[],e.sort(function(e,t){return e.uid_-t.uid_});for(var t=0;t<e.length;t++){var n=e[t];n.scheduled_=!1;var r=n.takeRecords();c(n),r.length&&n.callback_(r,n)}}}function f(e,t){this.type=e,this.target=t,this.addedNodes=new r.NodeList,this.removedNodes=new r.NodeList,this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(e,t){for(;e;e=e.parentNode){var n=i.get(e);if(!n)continue;for(var r=0;r<n.length;r++){var s=n[r];s.options.subtree&&s.addTransientObserver(t)}}}function c(e){for(var t=0;t<e.nodes_.length;t++){var n=e.nodes_[t],r=i.get(n);if(!r)return;for(var s=0;s<r.length;s++){var o=r[s];o.observer===e&&o.removeTransientObservers()}}}function h(e,t,n){var r=Object.create(null),s=Object.create(null);for(var o=e;o;o=o.parentNode){var a=i.get(o);if(!a)continue;for(var l=0;l<a.length;l++){var c=a[l],h=c.options;if(o!==e&&!h.subtree)continue;if(t==="attributes"&&!h.attributes)continue;if(!(t!=="attributes"||!h.attributeFilter||n.namespace===null&&h.attributeFilter.indexOf(n.name)!==-1))continue;if(t==="characterData"&&!h.characterData)continue;if(t==="childList"&&!h.childList)continue;var p=c.observer;r[p.uid_]=p;if(t==="attributes"&&h.attributeOldValue||t==="characterData"&&h.characterDataOldValue)s[p.uid_]=n.oldValue}}for(var d in r){var p=r[d],v=new f(t,e);"name"in n&&"namespace"in n&&(v.attributeName=n.name,v.attributeNamespace=n.namespace),n.addedNodes&&(v.addedNodes=n.addedNodes),n.removedNodes&&(v.removedNodes=n.removedNodes),n.previousSibling&&(v.previousSibling=n.previousSibling),n.nextSibling&&(v.nextSibling=n.nextSibling),s[d]!==undefined&&(v.oldValue=s[d]),u(p),p.records_.push(v)}}function d(e){this.childList=!!e.childList,this.subtree=!!e.subtree,"attributes"in e||!("attributeOldValue"in e||"attributeFilter"in e)?this.attributes=!!e.attributes:this.attributes=!0,"characterDataOldValue"in e&&!("characterData"in e)?this.characterData=!0:this.characterData=!!e.characterData;if(!this.attributes&&(e.attributeOldValue||"attributeFilter"in e)||!this.characterData&&e.characterDataOldValue)throw new TypeError;this.characterData=!!e.characterData,this.attributeOldValue=!!e.attributeOldValue,this.characterDataOldValue=!!e.characterDataOldValue;if("attributeFilter"in e){if(e.attributeFilter==null||typeof e.attributeFilter!="object")throw new TypeError;this.attributeFilter=p.call(e.attributeFilter)}else this.attributeFilter=null}function m(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++v,this.scheduled_=!1}function g(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var t=e.setEndOfMicrotask,n=e.wrapIfNeeded,r=e.wrappers,i=new WeakMap,s=[],o=!1,p=Array.prototype.slice,v=0;m.prototype={constructor:m,observe:function(e,t){e=n(e);var r=new d(t),s,o=i.get(e);o||i.set(e,o=[]);for(var u=0;u<o.length;u++)o[u].observer===this&&(s=o[u],s.removeTransientObservers(),s.options=r);s||(s=new g(this,e,r),o.push(s),this.nodes_.push(e))},disconnect:function(){this.nodes_.forEach(function(e){var t=i.get(e);for(var n=0;n<t.length;n++){var r=t[n];if(r.observer===this){t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},g.prototype={addTransientObserver:function(e){if(e===this.target)return;u(this.observer),this.transientObservedNodes.push(e);var t=i.get(e);t||i.set(e,t=[]),t.push(this)},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[];for(var t=0;t<e.length;t++){var n=e[t],r=i.get(n);for(var s=0;s<r.length;s++)if(r[s]===this){r.splice(s,1);break}}}},e.enqueueMutation=h,e.registerTransientObservers=l,e.wrappers.MutationObserver=m,e.wrappers.MutationRecord=f}(window.ShadowDOMPolyfill),function(e){"use strict";function t(e,t){this.root=e,this.parent=t}function n(e,t){if(e.treeScope_!==t){e.treeScope_=t;for(var r=e.shadowRoot;r;r=r.olderShadowRoot)r.treeScope_.parent=t;for(var i=e.firstChild;i;i=i.nextSibling)n(i,t)}}function r(n){if(n instanceof e.wrappers.Window)debugger;if(n.treeScope_)return n.treeScope_;var i=n.parentNode,s;return i?s=r(i):s=new t(n,null),n.treeScope_=s}t.prototype={get renderer(){return this.root instanceof e.wrappers.ShadowRoot?e.getRendererForHost(this.root.host):null},contains:function(e){for(;e;e=e.parent)if(e===this)return!0;return!1}},e.TreeScope=t,e.getTreeScope=r,e.setTreeScope=n}(window.ShadowDOMPolyfill),function(e){"use strict";function S(e){return e instanceof f.ShadowRoot}function x(e){return n(e).root}function T(e,t){var n=[],r=e;n.push(r);while(r){var i=k(r);if(i&&i.length>0){for(var s=0;s<i.length;s++){var o=i[s];if(C(o)){var u=x(o),a=u.olderShadowRoot;a&&n.push(a)}n.push(o)}r=i[i.length-1]}else if(S(r)){if(D(e,r)&&N(t))break;r=r.host,n.push(r)}else r=r.parentNode,r&&n.push(r)}return n}function N(e){if(!e)return!1;switch(e.type){case"abort":case"error":case"select":case"change":case"load":case"reset":case"resize":case"scroll":case"selectstart":return!0}return!1}function C(e){return e instanceof HTMLShadowElement}function k(t){return e.getDestinationInsertionPoints(t)}function L(e,t){if(e.length===0)return t;t instanceof f.Window&&(t=t.document);var r=n(t),i=e[0],s=n(i),o=O(r,s);for(var u=0;u<e.length;u++){var a=e[u];if(n(a)===o)return a}return e[e.length-1]}function A(e){var t=[];for(;e;e=e.parent)t.push(e);return t}function O(e,t){var n=A(e),r=A(t),i=null;while(n.length>0&&r.length>0){var s=n.pop(),o=r.pop();if(s!==o)break;i=s}return i}function M(e){return e.parent?M(e.parent):e}function _(e,t,r){t instanceof f.Window&&(t=t.document);var i=n(t),s=n(r),o=T(r,e),u,u=O(i,s);u||(u=s.root);for(var a=u;a;a=a.parent){var l;for(var c=0;c<o.length;c++){var h=o[c];if(n(h)===a)return h}}return null}function D(e,t){return n(e)===n(t)}function I(e){if(h.get(e))return;h.set(e,!0),R(a(e),a(e.target));if(F){var t=F;throw F=null,t}}function q(e){switch(e.type){case"load":case"beforeunload":case"unload":return!0}return!1}function R(t,n){if(p.get(t))throw new Error("InvalidStateError");p.set(t,!0),e.renderAllPending();var r,i,s;if(q(t)&&!t.bubbles){var o=n;o instanceof f.Document&&(s=o.defaultView)&&(i=o,r=[])}if(!r)if(n instanceof f.Window)s=n,r=[];else{r=T(n,t);if(!q(t)){var o=r[r.length-1];o instanceof f.Document&&(s=o.defaultView)}}return E.set(t,r),U(t,r,s,i)&&z(t,r,s,i)&&W(t,r,s,i),g.set(t,P),v.delete(t,null),p.delete(t),t.defaultPrevented}function U(e,t,n,r){var i=H;if(n&&!X(n,e,i,t,r))return!1;for(var s=t.length-1;s>0;s--)if(!X(t[s],e,i,t,r))return!1;return!0}function z(e,t,n,r){var i=B,s=t[0]||n;return X(s,e,i,t,r)}function W(e,t,n,r){var i=j;for(var s=1;s<t.length;s++)if(!X(t[s],e,i,t,r))return;n&&t.length>0&&X(n,e,i,t,r)}function X(e,t,n,r,i){var s=c.get(e);if(!s)return!0;var o=i||L(r,e);if(o===e){if(n===H)return!0;n===j&&(n=B)}else if(n===j&&!t.bubbles)return!0;if("relatedTarget"in t){var f=u(t),l=f.relatedTarget;if(l){if(l instanceof Object&&l.addEventListener){var h=a(l),p=_(t,e,h);if(p===o)return!0}else p=null;m.set(t,p)}}g.set(t,n);var w=t.type,E=!1;d.set(t,o),v.set(t,e),s.depth++;for(var S=0,x=s.length;S<x;S++){var T=s[S];if(T.removed){E=!0;continue}if(T.type!==w||!T.capture&&n===H||T.capture&&n===j)continue;try{typeof T.handler=="function"?T.handler.call(e,t):T.handler.handleEvent(t);if(b.get(t))return!1}catch(N){F||(F=N)}}s.depth--;if(E&&s.depth===0){var C=s.slice();s.length=0;for(var S=0;S<C.length;S++)C[S].removed||s.push(C[S])}return!y.get(t)}function V(e,t,n){this.type=e,this.handler=t,this.capture=Boolean(n)}function J(e,t){if(!(e instanceof $))return a(ut($,"Event",e,t));var n=e;if(!ft&&n.type==="beforeunload"&&!(this instanceof lt))return new lt(n);s(n,this)}function K(e){return!e||!e.relatedTarget?e:Object.create(e,{relatedTarget:{value:u(e.relatedTarget)}})}function Q(e,t,n){var o=window[e],u=function(t,n){if(!(t instanceof o))return a(ut(o,e,t,n));s(t,this)};u.prototype=Object.create(t.prototype),n&&r(u.prototype,n);if(o)try{i(o,u,new o("temp"))}catch(f){i(o,u,document.createEvent(e))}return u}function et(e,t){return function(){arguments[t]=u(arguments[t]);var n=u(this);n[e].apply(n,arguments)}}function ut(e,t,n,r){if(ot)return new e(n,K(r));var i=u(document.createEvent(t)),s=st[t],o=[n];return Object.keys(s).forEach(function(e){var t=r!=null&&e in r?r[e]:s[e];e==="relatedTarget"&&(t=u(t)),o.push(t)}),i["init"+t].apply(i,o),i}function lt(e){J.call(this,e)}function ct(e){return typeof e=="function"?!0:e&&e.handleEvent}function ht(e){switch(e){case"DOMAttrModified":case"DOMAttributeNameChanged":case"DOMCharacterDataModified":case"DOMElementNameChanged":case"DOMNodeInserted":case"DOMNodeInsertedIntoDocument":case"DOMNodeRemoved":case"DOMNodeRemovedFromDocument":case"DOMSubtreeModified":return!0}return!1}function dt(e){s(e,this)}function mt(e){return e instanceof f.ShadowRoot&&(e=e.host),u(e)}function gt(e,t){var n=c.get(e);if(n)for(var r=0;r<n.length;r++)if(!n[r].removed&&n[r].type===t)return!0;return!1}function yt(e,t){for(var n=u(e);n;n=n.parentNode)if(gt(a(n),t))return!0;return!1}function bt(e){t(e,vt)}function Et(t,n,r,i){e.renderAllPending();var s=a(wt.call(o(n),r,i));if(!s)return null;var u=T(s,null),f=u.lastIndexOf(t);return f==-1?null:(u=u.slice(0,f),L(u,t))}function St(e){return function(){var t=w.get(this);return t&&t[e]&&t[e].value||null}}function xt(e){var t=e.slice(2);return function(n){var r=w.get(this);r||(r=Object.create(null),w.set(this,r));var i=r[e];i&&this.removeEventListener(t,i.wrapped,!1);if(typeof n=="function"){var s=function(t){var r=n.call(this,t);r===!1?t.preventDefault():e==="onbeforeunload"&&typeof r=="string"&&(t.returnValue=r)};this.addEventListener(t,s,!1),r[e]={value:n,wrapped:s}}}}var t=e.forwardMethodsToWrapper,n=e.getTreeScope,r=e.mixin,i=e.registerWrapper,s=e.setWrapper,o=e.unsafeUnwrap,u=e.unwrap,a=e.wrap,f=e.wrappers,l=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,v=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,E=new WeakMap,P=0,H=1,B=2,j=3,F;V.prototype={equals:function(e){return this.handler===e.handler&&this.type===e.type&&this.capture===e.capture},get removed(){return this.handler===null},remove:function(){this.handler=null}};var $=window.Event;$.prototype.polymerBlackList_={returnValue:!0,keyLocation:!0},J.prototype={get target(){return d.get(this)},get currentTarget(){return v.get(this)},get eventPhase(){return g.get(this)},get path(){var e=E.get(this);return e?e.slice():[]},stopPropagation:function(){y.set(this,!0)},stopImmediatePropagation:function(){y.set(this,!0),b.set(this,!0)}},i($,J,document.createEvent("Event"));var G=Q("UIEvent",J),Y=Q("CustomEvent",J),Z={get relatedTarget(){var e=m.get(this);return e!==undefined?e:a(u(this).relatedTarget)}},tt=r({initMouseEvent:et("initMouseEvent",14)},Z),nt=r({initFocusEvent:et("initFocusEvent",5)},Z),rt=Q("MouseEvent",G,tt),it=Q("FocusEvent",G,nt),st=Object.create(null),ot=function(){try{new window.FocusEvent("focus")}catch(e){return!1}return!0}();if(!ot){var at=function(e,t,n){if(n){var i=st[n];t=r(r({},i),t)}st[e]=t};at("Event",{bubbles:!1,cancelable:!1}),at("CustomEvent",{detail:null},"Event"),at("UIEvent",{view:null,detail:0},"Event"),at("MouseEvent",{screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},"UIEvent"),at("FocusEvent",{relatedTarget:null},"UIEvent")}var ft=window.BeforeUnloadEvent;lt.prototype=Object.create(J.prototype),r(lt.prototype,{get returnValue(){return o(this).returnValue},set returnValue(e){o(this).returnValue=e}}),ft&&i(ft,lt);var pt=window.EventTarget,vt=["addEventListener","removeEventListener","dispatchEvent"];[Node,Window].forEach(function(e){var t=e.prototype;vt.forEach(function(e){Object.defineProperty(t,e+"_",{value:t[e]})})}),dt.prototype={addEventListener:function(e,t,n){if(!ct(t)||ht(e))return;var r=new V(e,t,n),i=c.get(this);if(!i)i=[],i.depth=0,c.set(this,i);else for(var s=0;s<i.length;s++)if(r.equals(i[s]))return;i.push(r);var o=mt(this);o.addEventListener_(e,I,!0)},removeEventListener:function(e,t,n){n=Boolean(n);var r=c.get(this);if(!r)return;var i=0,s=!1;for(var o=0;o<r.length;o++)r[o].type===e&&r[o].capture===n&&(i++,r[o].handler===t&&(s=!0,r[o].remove()));if(s&&i===1){var u=mt(this);u.removeEventListener_(e,I,!0)}},dispatchEvent:function(t){var n=u(t),r=n.type;h.set(n,!1),e.renderAllPending();var i;yt(this,r)||(i=function(){},this.addEventListener(r,i,!0));try{return u(this).dispatchEvent_(n)}finally{i&&this.removeEventListener(r,i,!0)}}},pt&&i(pt,dt);var wt=document.elementFromPoint;e.elementFromPoint=Et,e.getEventHandlerGetter=St,e.getEventHandlerSetter=xt,e.wrapEventTargetMethods=bt,e.wrappers.BeforeUnloadEvent=lt,e.wrappers.CustomEvent=Y,e.wrappers.Event=J,e.wrappers.EventTarget=dt,e.wrappers.FocusEvent=it,e.wrappers.MouseEvent=rt,e.wrappers.UIEvent=G}(window.ShadowDOMPolyfill),function(e){"use strict";function c(e,t){Object.defineProperty(e,t,l)}function h(e){i(e,this)}function d(){this.length=0,c(this,"length")}function v(e){var t=new d;for(var n=0;n<e.length;n++)t[n]=new h(e[n]);return t.length=n,t}function m(e){t.call(this,e)}var t=e.wrappers.UIEvent,n=e.mixin,r=e.registerWrapper,i=e.setWrapper,s=e.unsafeUnwrap,o=e.wrap,u=window.TouchEvent;if(!u)return;var a;try{a=document.createEvent("TouchEvent")}catch(f){return}var l={enumerable:!1};h.prototype={get target(){return o(s(this).target)}};var p={configurable:!0,enumerable:!0,get:null};["clientX","clientY","screenX","screenY","pageX","pageY","identifier","webkitRadiusX","webkitRadiusY","webkitRotationAngle","webkitForce"].forEach(function(e){p.get=function(){return s(this)[e]},Object.defineProperty(h.prototype,e,p)}),d.prototype={item:function(e){return this[e]}},m.prototype=Object.create(t.prototype),n(m.prototype,{get touches(){return v(s(this).touches)},get targetTouches(){return v(s(this).targetTouches)},get changedTouches(){return v(s(this).changedTouches)},initTouchEvent:function(){throw new Error("Not implemented")}}),r(u,m,a),e.wrappers.Touch=h,e.wrappers.TouchEvent=m,e.wrappers.TouchList=d}(window.ShadowDOMPolyfill),function(e){"use strict";function i(e,t){Object.defineProperty(e,t,r)}function s(){this.length=0,i(this,"length")}function o(e){if(e==null)return e;var t=new s;for(var r=0,i=e.length;r<i;r++)t[r]=n(e[r]);return t.length=i,t}function u(e,n){e.prototype[n]=function(){return o(t(this)[n].apply(t(this),arguments))}}var t=e.unsafeUnwrap,n=e.wrap,r={enumerable:!1};s.prototype={item:function(e){return this[e]}},i(s.prototype,"item"),e.wrappers.NodeList=s,e.addWrapNodeListMethod=u,e.wrapNodeList=o}(window.ShadowDOMPolyfill),function(e){"use strict";e.wrapHTMLCollection=e.wrapNodeList,e.wrappers.HTMLCollection=e.wrappers.NodeList}(window.ShadowDOMPolyfill),function(e){"use strict";function b(e){i(e instanceof W)}function w(e){var t=new n;return t[0]=e,t.length=1,t}function S(e,t,n){o(t,"childList",{removedNodes:n,previousSibling:e.previousSibling,nextSibling:e.nextSibling})}function x(e,t){o(e,"childList",{removedNodes:t})}function T(e,t,n,r){if(e instanceof DocumentFragment){var i=C(e);E=!0;for(var s=i.length-1;s>=0;s--)e.removeChild(i[s]),i[s].parentNode_=t;E=!1;for(var s=0;s<i.length;s++)i[s].previousSibling_=i[s-1]||n,i[s].nextSibling_=i[s+1]||r;return n&&(n.nextSibling_=i[0]),r&&(r.previousSibling_=i[i.length-1]),i}var i=w(e),o=e.parentNode;return o&&o.removeChild(e),e.parentNode_=t,e.previousSibling_=n,e.nextSibling_=r,n&&(n.nextSibling_=e),r&&(r.previousSibling_=e),i}function N(e){if(e instanceof DocumentFragment)return C(e);var t=w(e),n=e.parentNode;return n&&S(e,n,t),t}function C(e){var t=new n,r=0;for(var i=e.firstChild;i;i=i.nextSibling)t[r++]=i;return t.length=r,x(e,t),t}function k(e){return e}function L(e,t){h(e,t),e.nodeIsInserted_()}function A(e,t){var n=u(t);for(var r=0;r<e.length;r++)L(e[r],n)}function O(e){h(e,new r(e,null))}function M(e){for(var t=0;t<e.length;t++)O(e[t])}function _(e,t){var n=e.nodeType===W.DOCUMENT_NODE?e:e.ownerDocument;n!==t.ownerDocument&&n.adoptNode(t)}function D(t,n){if(!n.length)return;var r=t.ownerDocument;if(r===n[0].ownerDocument)return;for(var i=0;i<n.length;i++)e.adoptNodeNoRemove(n[i],r)}function P(e,t){D(e,t);var n=t.length;if(n===1)return d(t[0]);var r=d(e.ownerDocument.createDocumentFragment());for(var i=0;i<n;i++)r.appendChild(d(t[i]));return r}function H(e){if(e.firstChild_!==undefined){var t=e.firstChild_;while(t){var n=t;t=t.nextSibling_,n.parentNode_=n.previousSibling_=n.nextSibling_=undefined}}e.firstChild_=e.lastChild_=undefined}function B(e){if(e.invalidateShadowRenderer()){var t=e.firstChild;while(t){i(t.parentNode===e);var n=t.nextSibling,r=d(t),s=r.parentNode;s&&Q.call(s,r),t.previousSibling_=t.nextSibling_=t.parentNode_=null,t=n}e.firstChild_=e.lastChild_=null}else{var o=d(e),u=o.firstChild,n;while(u)n=u.nextSibling,Q.call(o,u),u=n}}function j(e){var t=e.parentNode;return t&&t.invalidateShadowRenderer()}function F(e){for(var t=0,n;t<e.length;t++)n=e[t],n.parentNode.removeChild(n)}function R(e,t,n){var r;n?r=m(I.call(n,p(e),!1)):r=m(q.call(p(e),!1));if(t){for(var i=e.firstChild;i;i=i.nextSibling)r.appendChild(R(i,!0,n));if(e instanceof y.HTMLTemplateElement){var s=r.content;for(var i=e.content.firstChild;i;i=i.nextSibling)s.appendChild(R(i,!0,n))}}return r}function U(e,t){if(!t||u(e)!==u(t))return!1;for(var n=t;n;n=n.parentNode)if(n===e)return!0;return!1}function W(e){i(e instanceof z),t.call(this,e),this.parentNode_=undefined,this.firstChild_=undefined,this.lastChild_=undefined,this.nextSibling_=undefined,this.previousSibling_=undefined,this.treeScope_=undefined}var t=e.wrappers.EventTarget,n=e.wrappers.NodeList,r=e.TreeScope,i=e.assert,s=e.defineWrapGetter,o=e.enqueueMutation,u=e.getTreeScope,a=e.isWrapper,f=e.mixin,l=e.registerTransientObservers,c=e.registerWrapper,h=e.setTreeScope,p=e.unsafeUnwrap,d=e.unwrap,v=e.unwrapIfNeeded,m=e.wrap,g=e.wrapIfNeeded,y=e.wrappers,E=!1,I=document.importNode,q=window.Node.prototype.cloneNode,z=window.Node,X=window.DocumentFragment,V=z.prototype.appendChild,$=z.prototype.compareDocumentPosition,J=z.prototype.isEqualNode,K=z.prototype.insertBefore,Q=z.prototype.removeChild,G=z.prototype.replaceChild,Y=/Trident|Edge/.test(navigator.userAgent),Z=Y?function(e,t){try{Q.call(e,t)}catch(n){if(!(e instanceof X))throw n}}:function(e,t){Q.call(e,t)};W.prototype=Object.create(t.prototype),f(W.prototype,{appendChild:function(e){return this.insertBefore(e,null)},insertBefore:function(e,t){b(e);var n;t?a(t)?n=d(t):(n=t,t=m(n)):(t=null,n=null),t&&i(t.parentNode===this);var r,s=t?t.previousSibling:this.lastChild,u=!this.invalidateShadowRenderer()&&!j(e);u?r=N(e):r=T(e,this,s,t);if(u)_(this,e),H(this),K.call(p(this),d(e),n);else{s||(this.firstChild_=r[0]),t||(this.lastChild_=r[r.length-1],this.firstChild_===undefined&&(this.firstChild_=this.firstChild));var f=n?n.parentNode:p(this);f?K.call(f,P(this,r),n):D(this,r)}return o(this,"childList",{addedNodes:r,nextSibling:t,previousSibling:s}),A(r,this),e},removeChild:function(e){b(e);if(e.parentNode!==this){var t=!1,n=this.childNodes;for(var r=this.firstChild;r;r=r.nextSibling)if(r===e){t=!0;break}if(!t)throw new Error("NotFoundError")}var i=d(e),s=e.nextSibling,u=e.previousSibling;if(this.invalidateShadowRenderer()){var a=this.firstChild,f=this.lastChild,c=i.parentNode;c&&Z(c,i),a===e&&(this.firstChild_=s),f===e&&(this.lastChild_=u),u&&(u.nextSibling_=s),s&&(s.previousSibling_=u),e.previousSibling_=e.nextSibling_=e.parentNode_=undefined}else H(this),Z(p(this),i);return E||o(this,"childList",{removedNodes:w(e),nextSibling:s,previousSibling:u}),l(this,e),e},replaceChild:function(e,t){b(e);var n;a(t)?n=d(t):(n=t,t=m(n));if(t.parentNode!==this)throw new Error("NotFoundError");var r=t.nextSibling,i=t.previousSibling,s,u=!this.invalidateShadowRenderer()&&!j(e);return u?s=N(e):(r===e&&(r=e.nextSibling),s=T(e,this,i,r)),u?(_(this,e),H(this),G.call(p(this),d(e),n)):(this.firstChild===t&&(this.firstChild_=s[0]),this.lastChild===t&&(this.lastChild_=s[s.length-1]),t.previousSibling_=t.nextSibling_=t.parentNode_=undefined,n.parentNode&&G.call(n.parentNode,P(this,s),n)),o(this,"childList",{addedNodes:s,removedNodes:w(t),nextSibling:r,previousSibling:i}),O(t),A(s,this),t},nodeIsInserted_:function(){for(var e=this.firstChild;e;e=e.nextSibling)e.nodeIsInserted_()},hasChildNodes:function(){return this.firstChild!==null},get parentNode(){return this.parentNode_!==undefined?this.parentNode_:m(p(this).parentNode)},get firstChild(){return this.firstChild_!==undefined?this.firstChild_:m(p(this).firstChild)},get lastChild(){return this.lastChild_!==undefined?this.lastChild_:m(p(this).lastChild)},get nextSibling(){return this.nextSibling_!==undefined?this.nextSibling_:m(p(this).nextSibling)},get previousSibling(){return this.previousSibling_!==undefined?this.previousSibling_:m(p(this).previousSibling)},get parentElement(){var e=this.parentNode;while(e&&e.nodeType!==W.ELEMENT_NODE)e=e.parentNode;return e},get textContent(){var e="";for(var t=this.firstChild;t;t=t.nextSibling)t.nodeType!=W.COMMENT_NODE&&(e+=t.textContent);return e},set textContent(e){e==null&&(e="");var t=k(this.childNodes);if(this.invalidateShadowRenderer()){B(this);if(e!==""){var n=p(this).ownerDocument.createTextNode(e);this.appendChild(n)}}else H(this),p(this).textContent=e;var r=k(this.childNodes);o(this,"childList",{addedNodes:r,removedNodes:t}),M(t),A(r,this)},get childNodes(){var e=new n,t=0;for(var r=this.firstChild;r;r=r.nextSibling)e[t++]=r;return e.length=t,e},cloneNode:function(e){return R(this,e)},contains:function(e){return U(this,g(e))},compareDocumentPosition:function(e){return $.call(p(this),v(e))},isEqualNode:function(e){return J.call(p(this),v(e))},normalize:function(){var e=k(this.childNodes),t=[],n="",r;for(var i=0,s;i<e.length;i++)s=e[i],s.nodeType===W.TEXT_NODE?!r&&!s.data.length?this.removeChild(s):r?(n+=s.data,t.push(s)):r=s:(r&&t.length&&(r.data+=n,F(t)),t=[],n="",r=null,s.childNodes.length&&s.normalize());r&&t.length&&(r.data+=n,F(t))}}),s(W,"ownerDocument"),c(z,W,document.createDocumentFragment()),delete W.prototype.querySelector,delete W.prototype.querySelectorAll,W.prototype=f(Object.create(t.prototype),W.prototype),e.cloneNode=R,e.nodeWasAdded=L,e.nodeWasRemoved=O,e.nodesWereAdded=A,e.nodesWereRemoved=M,e.originalInsertBefore=K,e.originalRemoveChild=Q,e.snapshotNodeList=k,e.wrappers.Node=W}(window.ShadowDOMPolyfill),function(e){"use strict";function m(t,n,i,o){var u=null,a=null;for(var f=0,l=t.length;f<l;f++){u=s(t[f]);if(!o&&(a=r(u).root)&&a instanceof e.wrappers.ShadowRoot)continue;i[n++]=u}return n}function g(e){return String(e).replace(/\/deep\/|::shadow|>>>/g," ")}function y(e){return String(e).replace(/:host\(([^\s]+)\)/g,"$1").replace(/([^\s]):host/g,"$1").replace(":host","*").replace(/\^|\/shadow\/|\/shadow-deep\/|::shadow|\/deep\/|::content|>>>/g," ")}function b(e,t){var n,r=e.firstElementChild;while(r){if(r.matches(t))return r;n=b(r,t);if(n)return n;r=r.nextElementSibling}return null}function w(e,t){return e.matches(t)}function S(e,t,n){var r=e.localName;return r===t||r===n&&e.namespaceURI===E}function x(){return!0}function T(e,t,n){return e.localName===n}function N(e,t){return e.namespaceURI===t}function C(e,t,n){return e.namespaceURI===t&&e.localName===n}function k(e,t,n,r,i,s){var o=e.firstElementChild;while(o)r(o,i,s)&&(n[t++]=o),t=k(o,t,n,r,i,s),o=o.nextElementSibling;return t}function L(t,n,s,o,u){var l=i(this),c,h=r(this).root;if(h instanceof e.wrappers.ShadowRoot)return k(this,n,s,t,o,null);if(l instanceof d)c=f.call(l,o);else{if(!(l instanceof v))return k(this,n,s,t,o,null);c=a.call(l,o)}return m(c,n,s,u)}function M(t,n,s,o,u){var a=i(this),f,h=r(this).root;if(h instanceof e.wrappers.ShadowRoot)return k(this,n,s,t,o,u);if(a instanceof d)f=c.call(a,o,u);else{if(!(a instanceof v))return k(this,n,s,t,o,u);f=l.call(a,o,u)}return m(f,n,s,!1)}function _(t,n,s,o,u){var a=i(this),f,l=r(this).root;if(l instanceof e.wrappers.ShadowRoot)return k(this,n,s,t,o,u);if(a instanceof d)f=p.call(a,o,u);else{if(!(a instanceof v))return k(this,n,s,t,o,u);f=h.call(a,o,u)}return m(f,n,s,!1)}var t=e.wrappers.HTMLCollection,n=e.wrappers.NodeList,r=e.getTreeScope,i=e.unsafeUnwrap,s=e.wrap,o=document.querySelector,u=document.documentElement.querySelector,a=document.querySelectorAll,f=document.documentElement.querySelectorAll,l=document.getElementsByTagName,c=document.documentElement.getElementsByTagName,h=document.getElementsByTagNameNS,p=document.documentElement.getElementsByTagNameNS,d=window.Element,v=window.HTMLDocument||window.Document,E="http://www.w3.org/1999/xhtml",A={querySelector:function(t){var n=g(t),a=n!==t;t=n;var f=i(this),l,c=r(this).root;if(c instanceof e.wrappers.ShadowRoot)return b(this,t);if(f instanceof d)l=s(u.call(f,t));else{if(!(f instanceof v))return b(this,t);l=s(o.call(f,t))}return l?!a&&(c=r(l).root)&&c instanceof e.wrappers.ShadowRoot?b(this,t):l:l},querySelectorAll:function(e){var t=g(e),r=t!==e;e=t;var i=new n;return i.length=L.call(this,w,0,i,e,r),i}},O={matches:function(t){return t=y(t),e.originalMatches.call(i(this),t)}},D={getElementsByTagName:function(e){var n=new t,r=e==="*"?x:S;return n.length=M.call(this,r,0,n,e,e.toLowerCase()),n},getElementsByClassName:function(e){return this.querySelectorAll("."+e)},getElementsByTagNameNS:function(e,n){var r=new t,i=null;return e==="*"?i=n==="*"?x:T:i=n==="*"?N:C,r.length=_.call(this,i,0,r,e||null,n),r}};e.GetElementsByInterface=D,e.SelectorsInterface=A,e.MatchesInterface=O}(window.ShadowDOMPolyfill),function(e){"use strict";function n(e){while(e&&e.nodeType!==Node.ELEMENT_NODE)e=e.nextSibling;return e}function r(e){while(e&&e.nodeType!==Node.ELEMENT_NODE)e=e.previousSibling;return e}var t=e.wrappers.NodeList,i={get firstElementChild(){return n(this.firstChild)},get lastElementChild(){return r(this.lastChild)},get childElementCount(){var e=0;for(var t=this.firstElementChild;t;t=t.nextElementSibling)e++;return e},get children(){var e=new t,n=0;for(var r=this.firstElementChild;r;r=r.nextElementSibling)e[n++]=r;return e.length=n,e},remove:function(){var e=this.parentNode;e&&e.removeChild(this)}},s={get nextElementSibling(){return n(this.nextSibling)},get previousElementSibling(){return r(this.previousSibling)}},o={getElementById:function(e){return/[ \t\n\r\f]/.test(e)?null:this.querySelector('[id="'+e+'"]')}};e.ChildNodeInterface=s,e.NonElementParentNodeInterface=o,e.ParentNodeInterface=i}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){n.call(this,e)}var t=e.ChildNodeInterface,n=e.wrappers.Node,r=e.enqueueMutation,i=e.mixin,s=e.registerWrapper,o=e.unsafeUnwrap,u=window.CharacterData;a.prototype=Object.create(n.prototype),i(a.prototype,{get nodeValue(){return this.data},set nodeValue(e){this.data=e},get textContent(){return this.data},set textContent(e){this.data=e},get data(){return o(this).data},set data(e){var t=o(this).data;r(this,"characterData",{oldValue:t}),o(this).data=e}}),i(a.prototype,t),s(u,a,document.createTextNode("")),e.wrappers.CharacterData=a}(window.ShadowDOMPolyfill),function(e){"use strict";function s(e){return e>>>0}function u(e){t.call(this,e)}var t=e.wrappers.CharacterData,n=e.enqueueMutation,r=e.mixin,i=e.registerWrapper,o=window.Text;u.prototype=Object.create(t.prototype),r(u.prototype,{splitText:function(e){e=s(e);var t=this.data;if(e>t.length)throw new Error("IndexSizeError");var n=t.slice(0,e),r=t.slice(e);this.data=n;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}}),i(o,u,document.createTextNode("")),e.wrappers.Text=u}(window.ShadowDOMPolyfill),function(e){"use strict";function r(e){return t(e).getAttribute("class")}function i(e,t){n(e,"attributes",{name:"class",namespace:null,oldValue:t})}function s(t){e.invalidateRendererBasedOnAttribute(t,"class")}function o(e,t,n){var o=e.ownerElement_;if(o==null)return t.apply(e,n);var u=r(o),a=t.apply(e,n);return r(o)!==u&&(i(o,u),s(o)),a}if(!window.DOMTokenList){console.warn("Missing DOMTokenList prototype, please include a compatible classList polyfill such as http://goo.gl/uTcepH.");return}var t=e.unsafeUnwrap,n=e.enqueueMutation,u=DOMTokenList.prototype.add;DOMTokenList.prototype.add=function(){o(this,u,arguments)};var a=DOMTokenList.prototype.remove;DOMTokenList.prototype.remove=function(){o(this,a,arguments)};var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(){return o(this,f,arguments)}}(window.ShadowDOMPolyfill),function(e){"use strict";function y(t,n){var r=t.parentNode;if(!r||!r.shadowRoot)return;var i=e.getRendererForHost(r);i.dependsOnAttribute(n)&&i.invalidate()}function b(e,t,n){a(e,"attributes",{name:t,namespace:null,oldValue:n})}function E(e){r.call(this,e)}var t=e.ChildNodeInterface,n=e.GetElementsByInterface,r=e.wrappers.Node,i=e.ParentNodeInterface,s=e.SelectorsInterface,o=e.MatchesInterface,u=e.addWrapNodeListMethod,a=e.enqueueMutation,f=e.mixin,l=e.oneOf,c=e.registerWrapper,h=e.unsafeUnwrap,p=e.wrappers,d=window.Element,v=["matches","mozMatchesSelector","msMatchesSelector","webkitMatchesSelector"].filter(function(e){return d.prototype[e]}),m=v[0],g=d.prototype[m],w=new WeakMap;E.prototype=Object.create(r.prototype),f(E.prototype,{createShadowRoot:function(){var t=new p.ShadowRoot(this);h(this).polymerShadowRoot_=t;var n=e.getRendererForHost(this);return n.invalidate(),t},get shadowRoot(){return h(this).polymerShadowRoot_||null},setAttribute:function(e,t){var n=h(this).getAttribute(e);h(this).setAttribute(e,t),b(this,e,n),y(this,e)},removeAttribute:function(e){var t=h(this).getAttribute(e);h(this).removeAttribute(e),b(this,e,t),y(this,e)},get classList(){var e=w.get(this);if(!e){e=h(this).classList;if(!e)return;e.ownerElement_=this,w.set(this,e)}return e},get className(){return h(this).className},set className(e){this.setAttribute("class",e)},get id(){return h(this).id},set id(e){this.setAttribute("id",e)}}),v.forEach(function(e){e!=="matches"&&(E.prototype[e]=function(e){return this.matches(e)})}),d.prototype.webkitCreateShadowRoot&&(E.prototype.webkitCreateShadowRoot=E.prototype.createShadowRoot),f(E.prototype,t),f(E.prototype,n),f(E.prototype,i),f(E.prototype,s),f(E.prototype,o),c(d,E,document.createElementNS(null,"x")),e.invalidateRendererBasedOnAttribute=y,e.matchesNames=v,e.originalMatches=g,e.wrappers.Element=E}(window.ShadowDOMPolyfill),function(e){"use strict";function v(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function m(e){return e.replace(p,v)}function g(e){return e.replace(d,v)}function y(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=!0;return t}function S(e){if(e.namespaceURI!==E)return!0;var t=e.ownerDocument.doctype;return t&&t.publicId&&t.systemId}function x(e,t){switch(e.nodeType){case Node.ELEMENT_NODE:var n=e.tagName.toLowerCase(),r="<"+n,i=e.attributes;for(var s=0,o;o=i[s];s++)r+=" "+o.name+'="'+m(o.value)+'"';if(b[n])return S(e)&&(r+="/"),r+">";return r+">"+T(e)+"</"+n+">";case Node.TEXT_NODE:var u=e.data;if(t&&w[t.localName])return u;return g(u);case Node.COMMENT_NODE:return"<!--"+e.data+"-->";default:throw console.error(e),new Error("not implemented")}}function T(e){e instanceof h.HTMLTemplateElement&&(e=e.content);var t="";for(var n=e.firstChild;n;n=n.nextSibling)t+=x(n,e);return t}function N(e,t,n){var r=n||"div";e.textContent="";var i=l(e.ownerDocument.createElement(r));i.innerHTML=t;var s;while(s=i.firstChild)e.appendChild(c(s))}function A(e){t.call(this,e)}function O(e,t){var n=l(e.cloneNode(!1));n.innerHTML=t;var r=l(document.createDocumentFragment()),i;while(i=n.firstChild)r.appendChild(i);return c(r)}function M(t){return function(){return e.renderAllPending(),f(this)[t]}}function _(e){n(A,e,M(e))}function D(t){Object.defineProperty(A.prototype,t,{get:M(t),set:function(n){e.renderAllPending(),f(this)[t]=n},configurable:!0,enumerable:!0})}function P(t){Object.defineProperty(A.prototype,t,{value:function(){return e.renderAllPending(),f(this)[t].apply(f(this),arguments)},configurable:!0,enumerable:!0})}var t=e.wrappers.Element,n=e.defineGetter,r=e.enqueueMutation,i=e.mixin,s=e.nodesWereAdded,o=e.nodesWereRemoved,u=e.registerWrapper,a=e.snapshotNodeList,f=e.unsafeUnwrap,l=e.unwrap,c=e.wrap,h=e.wrappers,p=/[&\u00A0"]/g,d=/[&\u00A0<>]/g,b=y(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),w=y(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),E="http://www.w3.org/1999/xhtml",C=/MSIE/.test(navigator.userAgent),k=window.HTMLElement,L=window.HTMLTemplateElement;A.prototype=Object.create(t.prototype),i(A.prototype,{get innerHTML(){return T(this)},set innerHTML(e){if(C&&w[this.localName]){this.textContent=e;return}var t=a(this.childNodes);this.invalidateShadowRenderer()?this instanceof h.HTMLTemplateElement?N(this.content,e):N(this,e,this.tagName):!L&&this instanceof h.HTMLTemplateElement?N(this.content,e):f(this).innerHTML=e;var n=a(this.childNodes);r(this,"childList",{addedNodes:n,removedNodes:t}),o(t),s(n,this)},get outerHTML(){return x(this,this.parentNode)},set outerHTML(e){var t=this.parentNode;if(t){t.invalidateShadowRenderer();var n=O(t,e);t.replaceChild(n,this)}},insertAdjacentHTML:function(e,t){var n,r;switch(String(e).toLowerCase()){case"beforebegin":n=this.parentNode,r=this;break;case"afterend":n=this.parentNode,r=this.nextSibling;break;case"afterbegin":n=this,r=this.firstChild;break;case"beforeend":n=this,r=null;break;default:return}var i=O(n,t);n.insertBefore(i,r)},get hidden(){return this.hasAttribute("hidden")},set hidden(e){e?this.setAttribute("hidden",""):this.removeAttribute("hidden")}}),["clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollWidth"].forEach(_),["scrollLeft","scrollTop"].forEach(D),["getBoundingClientRect","getClientRects","scrollIntoView"].forEach(P),u(k,A,document.createElement("b")),e.wrappers.HTMLElement=A,e.getInnerHTML=T,e.setInnerHTML=N}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.unsafeUnwrap,s=e.wrap,o=window.HTMLCanvasElement;u.prototype=Object.create(t.prototype),n(u.prototype,{getContext:function(){var e=i(this).getContext.apply(i(this),arguments);return e&&s(e)}}),r(o,u,document.createElement("canvas")),e.wrappers.HTMLCanvasElement=u}(window.ShadowDOMPolyfill),function(e){"use strict";function s(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=window.HTMLContentElement;s.prototype=Object.create(t.prototype),n(s.prototype,{constructor:s,get select(){return this.getAttribute("select")},set select(e){this.setAttribute("select",e)},setAttribute:function(e,n){t.prototype.setAttribute.call(this,e,n),String(e).toLowerCase()==="select"&&this.invalidateShadowRenderer(!0)}}),i&&r(i,s),e.wrappers.HTMLContentElement=s}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.wrapHTMLCollection,s=e.unwrap,o=window.HTMLFormElement;u.prototype=Object.create(t.prototype),n(u.prototype,{get elements(){return i(s(this).elements)}}),r(o,u,document.createElement("form")),e.wrappers.HTMLFormElement=u}(window.ShadowDOMPolyfill),function(e){"use strict";function o(e){t.call(this,e)}function u(e,n){if(!(this instanceof u))throw new TypeError("DOM object constructor cannot be called as a function.");var s=r(document.createElement("img"));t.call(this,s),i(s,this),e!==undefined&&(s.width=e),n!==undefined&&(s.height=n)}var t=e.wrappers.HTMLElement,n=e.registerWrapper,r=e.unwrap,i=e.rewrap,s=window.HTMLImageElement;o.prototype=Object.create(t.prototype),n(s,o,document.createElement("img")),u.prototype=o.prototype,e.wrappers.HTMLImageElement=o,e.wrappers.Image=u}(window.ShadowDOMPolyfill),function(e){"use strict";function o(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.wrappers.NodeList,i=e.registerWrapper,s=window.HTMLShadowElement;o.prototype=Object.create(t.prototype),o.prototype.constructor=o,s&&i(s,o),e.wrappers.HTMLShadowElement=o}(window.ShadowDOMPolyfill),function(e){"use strict";function f(e){if(!e.defaultView)return e;var t=a.get(e);if(!t){t=e.implementation.createHTMLDocument("");while(t.lastChild)t.removeChild(t.lastChild);a.set(e,t)}return t}function l(e){var t=f(e.ownerDocument),n=s(t.createDocumentFragment()),r;while(r=e.firstChild)n.appendChild(r);return n}function h(e){t.call(this,e);if(!c){var n=l(e);u.set(this,o(n))}}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.unsafeUnwrap,s=e.unwrap,o=e.wrap,u=new WeakMap,a=new WeakMap,c=window.HTMLTemplateElement;h.prototype=Object.create(t.prototype),n(h.prototype,{constructor:h,get content(){return c?o(i(this).content):u.get(this)}}),c&&r(c,h),e.wrappers.HTMLTemplateElement=h}(window.ShadowDOMPolyfill),function(e){"use strict";function i(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.registerWrapper,r=window.HTMLMediaElement;if(!r)return;i.prototype=Object.create(t.prototype),n(r,i,document.createElement("audio")),e.wrappers.HTMLMediaElement=i}(window.ShadowDOMPolyfill),function(e){"use strict";function o(e){t.call(this,e)}function u(e){if(!(this instanceof u))throw new TypeError("DOM object constructor cannot be called as a function.");var n=r(document.createElement("audio"));t.call(this,n),i(n,this),n.setAttribute("preload","auto"),e!==undefined&&n.setAttribute("src",e)}var t=e.wrappers.HTMLMediaElement,n=e.registerWrapper,r=e.unwrap,i=e.rewrap,s=window.HTMLAudioElement;if(!s)return;o.prototype=Object.create(t.prototype),n(s,o,document.createElement("audio")),u.prototype=o.prototype,e.wrappers.HTMLAudioElement=o,e.wrappers.Audio=u}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){return e.replace(/\s+/g," ").trim()}function f(e){t.call(this,e)}function l(e,n,r,o){if(!(this instanceof l))throw new TypeError("DOM object constructor cannot be called as a function.");var u=s(document.createElement("option"));t.call(this,u),i(u,this),e!==undefined&&(u.text=e),n!==undefined&&u.setAttribute("value",n),r===!0&&u.setAttribute("selected",""),u.selected=o===!0}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.rewrap,s=e.unwrap,o=e.wrap,u=window.HTMLOptionElement;f.prototype=Object.create(t.prototype),n(f.prototype,{get text(){return a(this.textContent)},set text(e){this.textContent=a(String(e))},get form(){return o(s(this).form)}}),r(u,f,document.createElement("option")),l.prototype=f.prototype,e.wrappers.HTMLOptionElement=f,e.wrappers.Option=l}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.unwrap,s=e.wrap,o=window.HTMLSelectElement;u.prototype=Object.create(t.prototype),n(u.prototype,{add:function(e,t){typeof t=="object"&&(t=i(t)),i(this).add(i(e),t)},remove:function(e){if(e===undefined){t.prototype.remove.call(this);return}typeof e=="object"&&(e=i(e)),i(this).remove(e)},get form(){return s(i(this).form)}}),r(o,u,document.createElement("select")),e.wrappers.HTMLSelectElement=u}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.unwrap,s=e.wrap,o=e.wrapHTMLCollection,u=window.HTMLTableElement;a.prototype=Object.create(t.prototype),n(a.prototype,{get caption(){return s(i(this).caption)},createCaption:function(){return s(i(this).createCaption())},get tHead(){return s(i(this).tHead)},createTHead:function(){return s(i(this).createTHead())},createTFoot:function(){return s(i(this).createTFoot())},get tFoot(){return s(i(this).tFoot)},get tBodies(){return o(i(this).tBodies)},createTBody:function(){return s(i(this).createTBody())},get rows(){return o(i(this).rows)},insertRow:function(e){return s(i(this).insertRow(e))}}),r(u,a,document.createElement("table")),e.wrappers.HTMLTableElement=a}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.wrapHTMLCollection,s=e.unwrap,o=e.wrap,u=window.HTMLTableSectionElement;a.prototype=Object.create(t.prototype),n(a.prototype,{constructor:a,get rows(){return i(s(this).rows)},insertRow:function(e){return o(s(this).insertRow(e))}}),r(u,a,document.createElement("thead")),e.wrappers.HTMLTableSectionElement=a}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){t.call(this,e)}var t=e.wrappers.HTMLElement,n=e.mixin,r=e.registerWrapper,i=e.wrapHTMLCollection,s=e.unwrap,o=e.wrap,u=window.HTMLTableRowElement;a.prototype=Object.create(t.prototype),n(a.prototype,{get cells(){return i(s(this).cells)},insertCell:function(e){return o(s(this).insertCell(e))}}),r(u,a,document.createElement("tr")),e.wrappers.HTMLTableRowElement=a}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){switch(e.localName){case"content":return new t(e);case"shadow":return new r(e);case"template":return new i(e)}n.call(this,e)}var t=e.wrappers.HTMLContentElement,n=e.wrappers.HTMLElement,r=e.wrappers.HTMLShadowElement,i=e.wrappers.HTMLTemplateElement,s=e.mixin,o=e.registerWrapper,u=window.HTMLUnknownElement;a.prototype=Object.create(n.prototype),o(u,a),e.wrappers.HTMLUnknownElement=a}(window.ShadowDOMPolyfill),function(e){"use strict";function h(e){t.call(this,e)}var t=e.wrappers.Element,n=e.wrappers.HTMLElement,r=e.registerWrapper,i=e.defineWrapGetter,s=e.unsafeUnwrap,o=e.wrap,u=e.mixin,a="http://www.w3.org/2000/svg",f=window.SVGElement,l=document.createElementNS(a,"title");if(!("classList"in l)){var c=Object.getOwnPropertyDescriptor(t.prototype,"classList");Object.defineProperty(n.prototype,"classList",c),delete t.prototype.classList}h.prototype=Object.create(t.prototype),u(h.prototype,{get ownerSVGElement(){return o(s(this).ownerSVGElement)}}),r(f,h,document.createElementNS(a,"title")),e.wrappers.SVGElement=h}(window.ShadowDOMPolyfill),function(e){"use strict";function h(e){c.call(this,e)}var t=e.mixin,n=e.registerWrapper,r=e.unwrap,i=e.wrap,s=window.SVGUseElement,o="http://www.w3.org/2000/svg",u=i(document.createElementNS(o,"g")),a=document.createElementNS(o,"use"),f=u.constructor,l=Object.getPrototypeOf(f.prototype),c=l.constructor;h.prototype=Object.create(l),"instanceRoot"in a&&t(h.prototype,{get instanceRoot(){return i(r(this).instanceRoot)},get animatedInstanceRoot(){return i(r(this).animatedInstanceRoot)}}),n(s,h,a),e.wrappers.SVGUseElement=h}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){t.call(this,e)}var t=e.wrappers.EventTarget,n=e.mixin,r=e.registerWrapper,i=e.unsafeUnwrap,s=e.wrap,o=window.SVGElementInstance;if(!o)return;u.prototype=Object.create(t.prototype),n(u.prototype,{get correspondingElement(){return s(i(this).correspondingElement)},get correspondingUseElement(){return s(i(this).correspondingUseElement)},get parentNode(){return s(i(this).parentNode)},get childNodes(){throw new Error("Not implemented")},get firstChild(){return s(i(this).firstChild)},get lastChild(){return s(i(this).lastChild)},get previousSibling(){return s(i(this).previousSibling)},get nextSibling(){return s(i(this).nextSibling)}}),r(o,u),e.wrappers.SVGElementInstance=u}(window.ShadowDOMPolyfill),function(e){"use strict";function f(e){r(e,this)}var t=e.mixin,n=e.registerWrapper,r=e.setWrapper,i=e.unsafeUnwrap,s=e.unwrap,o=e.unwrapIfNeeded,u=e.wrap,a=window.CanvasRenderingContext2D;t(f.prototype,{get canvas(){return u(i(this).canvas)},drawImage:function(){arguments[0]=o(arguments[0]),i(this).drawImage.apply(i(this),arguments)},createPattern:function(){return arguments[0]=s(arguments[0]),i(this).createPattern.apply(i(this),arguments)}}),n(a,f,document.createElement("canvas").getContext("2d")),e.wrappers.CanvasRenderingContext2D=f}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){r(e,this)}var t=e.mixin,n=e.registerWrapper,r=e.setWrapper,i=e.unsafeUnwrap,s=e.unwrapIfNeeded,o=e.wrap,u=window.WebGLRenderingContext;if(!u)return;t(a.prototype,{get canvas(){return o(i(this).canvas)},texImage2D:function(){arguments[5]=s(arguments[5]),i(this).texImage2D.apply(i(this),arguments)},texSubImage2D:function(){arguments[6]=s(arguments[6]),i(this).texSubImage2D.apply(i(this),arguments)}});var f=/WebKit/.test(navigator.userAgent)?{drawingBufferHeight:null,drawingBufferWidth:null}:{};n(u,a,f),e.wrappers.WebGLRenderingContext=a}(window.ShadowDOMPolyfill),function(e){"use strict";function l(e){t.call(this,e)}var t=e.wrappers.Node,n=e.GetElementsByInterface,r=e.NonElementParentNodeInterface,i=e.ParentNodeInterface,s=e.SelectorsInterface,o=e.mixin,u=e.registerObject,a=e.registerWrapper,f=window.DocumentFragment;l.prototype=Object.create(t.prototype),o(l.prototype,i),o(l.prototype,s),o(l.prototype,n),o(l.prototype,r),a(f,l,document.createDocumentFragment()),e.wrappers.DocumentFragment=l;var c=u(document.createComment(""));e.wrappers.Comment=c}(window.ShadowDOMPolyfill),function(e){"use strict";function p(e){var r=l(f(e).ownerDocument.createDocumentFragment());t.call(this,r),u(r,this);var i=e.shadowRoot;h.set(this,i),this.treeScope_=new n(this,s(i||e)),c.set(this,e)}var t=e.wrappers.DocumentFragment,n=e.TreeScope,r=e.elementFromPoint,i=e.getInnerHTML,s=e.getTreeScope,o=e.mixin,u=e.rewrap,a=e.setInnerHTML,f=e.unsafeUnwrap,l=e.unwrap,c=new WeakMap,h=new WeakMap;p.prototype=Object.create(t.prototype),o(p.prototype,{constructor:p,get innerHTML(){return i(this)},set innerHTML(e){a(this,e),this.invalidateShadowRenderer()},get olderShadowRoot(){return h.get(this)||null},get host(){return c.get(this)||null},invalidateShadowRenderer:function(){return c.get(this).invalidateShadowRenderer()},elementFromPoint:function(e,t){return r(this,this.ownerDocument,e,t)}}),e.wrappers.ShadowRoot=p}(window.ShadowDOMPolyfill),function(e){"use strict";function l(e){var t=u(e).root;return t instanceof f?t.host:null}function c(t,n){if(t.shadowRoot){n=Math.min(t.childNodes.length-1,n);var r=t.childNodes[n];if(r){var i=e.getDestinationInsertionPoints(r);if(i.length>0){var s=i[0].parentNode;s.nodeType==Node.ELEMENT_NODE&&(t=s)}}}return t}function h(e){return e=o(e),l(e)||e}function p(e){n(e,this)}var t=e.registerWrapper,n=e.setWrapper,r=e.unsafeUnwrap,i=e.unwrap,s=e.unwrapIfNeeded,o=e.wrap,u=e.getTreeScope,a=window.Range,f=e.wrappers.ShadowRoot;p.prototype={get startContainer(){return h(r(this).startContainer)},get endContainer(){return h(r(this).endContainer)},get commonAncestorContainer(){return h(r(this).commonAncestorContainer)},setStart:function(e,t){e=c(e,t),r(this).setStart(s(e),t)},setEnd:function(e,t){e=c(e,t),r(this).setEnd(s(e),t)},setStartBefore:function(e){r(this).setStartBefore(s(e))},setStartAfter:function(e){r(this).setStartAfter(s(e))},setEndBefore:function(e){r(this).setEndBefore(s(e))},setEndAfter:function(e){r(this).setEndAfter(s(e))},selectNode:function(e){r(this).selectNode(s(e))},selectNodeContents:function(e){r(this).selectNodeContents(s(e))},compareBoundaryPoints:function(e,t){return r(this).compareBoundaryPoints(e,i(t))},extractContents:function(){return o(r(this).extractContents())},cloneContents:function(){return o(r(this).cloneContents())},insertNode:function(e){r(this).insertNode(s(e))},surroundContents:function(e){r(this).surroundContents(s(e))},cloneRange:function(){return o(r(this).cloneRange())},isPointInRange:function(e,t){return r(this).isPointInRange(s(e),t)},comparePoint:function(e,t){return r(this).comparePoint(s(e),t)},intersectsNode:function(e){return r(this).intersectsNode(s(e))},toString:function(){return r(this).toString()}},a.prototype.createContextualFragment&&(p.prototype.createContextualFragment=function(e){return o(r(this).createContextualFragment(e))}),t(window.Range,p,document.createRange()),e.wrappers.Range=p}(window.ShadowDOMPolyfill),function(e){"use strict";function d(e){e.previousSibling_=e.previousSibling,e.nextSibling_=e.nextSibling,e.parentNode_=e.parentNode}function v(e){e.firstChild_=e.firstChild,e.lastChild_=e.lastChild}function m(e){o(e instanceof i);for(var t=e.firstChild;t;t=t.nextSibling)d(t);v(e)}function g(t,n,r){var i=c(t),s=c(n),o=r?c(r):null;y(n),d(n);if(!r){t.lastChild_=t.lastChild,t.lastChild===t.firstChild&&(t.firstChild_=t.firstChild);var u=h(i.lastChild);u&&(u.nextSibling_=u.nextSibling)}else t.firstChild===r&&(t.firstChild_=r),r.previousSibling_=r.previousSibling;e.originalInsertBefore.call(i,s,o)}function y(t){var n=c(t),r=n.parentNode;if(!r)return;var i=h(r);d(t),t.previousSibling&&(t.previousSibling.nextSibling_=t),t.nextSibling&&(t.nextSibling.previousSibling_=t),i.lastChild===t&&(i.lastChild_=t),i.firstChild===t&&(i.firstChild_=t),e.originalRemoveChild.call(r,n)}function S(e){b.set(e,[])}function x(e){var t=b.get(e);return t||b.set(e,t=[]),t}function T(e){var t=[],n=0;for(var r=e.firstChild;r;r=r.nextSibling)t[n++]=r;return t}function L(){for(var e=0;e<C.length;e++){var t=C[e],n=t.parentRenderer;if(n&&n.dirty)continue;t.render()}C=[]}function A(){k=null,L()}function O(e){var t=E.get(e);return t||(t=new H(e),E.set(e,t)),t}function M(e){var t=u(e).root;return t instanceof s?t:null}function _(e){return O(e.host)}function P(e){this.skip=!1,this.node=e,this.childNodes=[]}function H(e){this.host=e,this.dirty=!1,this.invalidateAttributes(),this.associateNode(e)}function B(e){var t=[];for(var n=e.firstChild;n;n=n.nextSibling)W(n)?t.push.apply(t,x(n)):t.push(n);return t}function j(e){if(e instanceof r)return e;if(e instanceof n)return null;for(var t=e.firstChild;t;t=t.nextSibling){var i=j(t);if(i)return i}return null}function F(e,t){x(t).push(e);var n=w.get(e);n?n.push(t):w.set(e,[t])}function I(e){return w.get(e)}function q(e){w.set(e,undefined)}function U(e,n){var r=n.getAttribute("select");if(!r)return!0;r=r.trim();if(!r)return!0;if(!(e instanceof t))return!1;if(!R.test(r))return!1;try{return e.matches(r)}catch(i){return!1}}function z(e,t){var n=I(t);return n&&n[n.length-1]===e}function W(e){return e instanceof n||e instanceof r}function X(e){return e.shadowRoot}function V(e){var t=[];for(var n=e.shadowRoot;n;n=n.olderShadowRoot)t.push(n);return t}function $(e){(new H(e)).render()}var t=e.wrappers.Element,n=e.wrappers.HTMLContentElement,r=e.wrappers.HTMLShadowElement,i=e.wrappers.Node,s=e.wrappers.ShadowRoot,o=e.assert,u=e.getTreeScope,a=e.mixin,f=e.oneOf,l=e.unsafeUnwrap,c=e.unwrap,h=e.wrap,p=e.ArraySplice,b=new WeakMap,w=new WeakMap,E=new WeakMap,N=f(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout"]),C=[],k,D=new p;D.equals=function(e,t){return c(e.node)===t},P.prototype={append:function(e){var t=new P(e);return this.childNodes.push(t),t},sync:function(e){if(this.skip)return;var t=this.node,n=this.childNodes,r=T(c(t)),i=e||new WeakMap,s=D.calculateSplices(n,r),o=0,u=0,a=0;for(var f=0;f<s.length;f++){var l=s[f];for(;a<l.index;a++)u++,n[o++].sync(i);var p=l.removed.length;for(var d=0;d<p;d++){var v=h(r[u++]);i.get(v)||y(v)}var m=l.addedCount,b=r[u]&&h(r[u]);for(var d=0;d<m;d++){var w=n[o++],E=w.node;g(t,E,b),i.set(E,!0),w.sync(i)}a+=m}for(var f=a;f<n.length;f++)n[f].sync(i)}},H.prototype={render:function(e){if(!this.dirty)return;this.invalidateAttributes();var t=this.host;this.distribution(t);var n=e||new P(t);this.buildRenderTree(n,t);var r=!e;r&&n.sync(),this.dirty=!1},get parentRenderer(){return u(this.host).renderer},invalidate:function(){if(!this.dirty){this.dirty=!0;var e=this.parentRenderer;e&&e.invalidate(),C.push(this);if(k)return;k=window[N](A,0)}},distribution:function(e){this.resetAllSubtrees(e),this.distributionResolution(e)},resetAll:function(e){W(e)?S(e):q(e),this.resetAllSubtrees(e)},resetAllSubtrees:function(e){for(var t=e.firstChild;t;t=t.nextSibling)this.resetAll(t);e.shadowRoot&&this.resetAll(e.shadowRoot),e.olderShadowRoot&&this.resetAll(e.olderShadowRoot)},distributionResolution:function(e){if(X(e)){var t=e,n=B(t),r=V(t);for(var i=0;i<r.length;i++)this.poolDistribution(r[i],n);for(var i=r.length-1;i>=0;i--){var s=r[i],o=j(s);if(o){var u=s.olderShadowRoot;u&&(n=B(u));for(var a=0;a<n.length;a++)F(n[a],o)}this.distributionResolution(s)}}for(var f=e.firstChild;f;f=f.nextSibling)this.distributionResolution(f)},poolDistribution:function(e,t){if(e instanceof r)return;if(e instanceof n){var i=e;this.updateDependentAttributes(i.getAttribute("select"));var s=!1;for(var o=0;o<t.length;o++){var e=t[o];if(!e)continue;U(e,i)&&(F(e,i),t[o]=undefined,s=!0)}if(!s)for(var u=i.firstChild;u;u=u.nextSibling)F(u,i);return}for(var u=e.firstChild;u;u=u.nextSibling)this.poolDistribution(u,t)},buildRenderTree:function(e,t){var n=this.compose(t);for(var r=0;r<n.length;r++){var i=n[r],s=e.append(i);this.buildRenderTree(s,i)}if(X(t)){var o=O(t);o.dirty=!1}},compose:function(e){var t=[],n=e.shadowRoot||e;for(var r=n.firstChild;r;r=r.nextSibling)if(W(r)){this.associateNode(n);var i=x(r);for(var s=0;s<i.length;s++){var o=i[s];z(r,o)&&t.push(o)}}else t.push(r);return t},invalidateAttributes:function(){this.attributes=Object.create(null)},updateDependentAttributes:function(e){if(!e)return;var t=this.attributes;/\.\w+/.test(e)&&(t["class"]=!0),/#\w+/.test(e)&&(t.id=!0),e.replace(/\[\s*([^\s=\|~\]]+)/g,function(e,n){t[n]=!0})},dependsOnAttribute:function(e){return this.attributes[e]},associateNode:function(e){l(e).polymerShadowRenderer_=this}};var R=/^(:not\()?[*.#[a-zA-Z_|]/;i.prototype.invalidateShadowRenderer=function(e){var t=l(this).polymerShadowRenderer_;return t?(t.invalidate(),!0):!1},n.prototype.getDistributedNodes=r.prototype.getDistributedNodes=function(){return L(),x(this)},t.prototype.getDestinationInsertionPoints=function(){return L(),I(this)||[]},n.prototype.nodeIsInserted_=r.prototype.nodeIsInserted_=function(){this.invalidateShadowRenderer();var e=M(this),t;e&&(t=_(e)),l(this).polymerShadowRenderer_=t,t&&t.invalidate()},e.getRendererForHost=O,e.getShadowTrees=V,e.renderAllPending=L,e.getDestinationInsertionPoints=I,e.visual={insertBefore:g,remove:y}}(window.ShadowDOMPolyfill),function(e){"use strict";function a(u){if(!window[u])return;n(!e.wrappers[u]);var a=function(e){t.call(this,e)};a.prototype=Object.create(t.prototype),r(a.prototype,{get form(){return o(s(this).form)}}),i(window[u],a,document.createElement(u.slice(4,-7))),e.wrappers[u]=a}var t=e.wrappers.HTMLElement,n=e.assert,r=e.mixin,i=e.registerWrapper,s=e.unwrap,o=e.wrap,u=["HTMLButtonElement","HTMLFieldSetElement","HTMLInputElement","HTMLKeygenElement","HTMLLabelElement","HTMLLegendElement","HTMLObjectElement","HTMLOutputElement","HTMLTextAreaElement"];u.forEach(a)}(window.ShadowDOMPolyfill),function(e){"use strict";function a(e){n(e,this)}var t=e.registerWrapper,n=e.setWrapper,r=e.unsafeUnwrap,i=e.unwrap,s=e.unwrapIfNeeded,o=e.wrap,u=window.Selection;a.prototype={get anchorNode(){return o(r(this).anchorNode)},get focusNode(){return o(r(this).focusNode)},addRange:function(e){r(this).addRange(s(e))},collapse:function(e,t){r(this).collapse(s(e),t)},containsNode:function(e,t){return r(this).containsNode(s(e),t)},getRangeAt:function(e){return o(r(this).getRangeAt(e))},removeRange:function(e){r(this).removeRange(i(e))},selectAllChildren:function(e){r(this).selectAllChildren(s(e))},toString:function(){return r(this).toString()}},u.prototype.extend&&(a.prototype.extend=function(e,t){r(this).extend(s(e),t)}),t(window.Selection,a,window.getSelection()),e.wrappers.Selection=a}(window.ShadowDOMPolyfill),function(e){"use strict";function u(e){n(e,this)}var t=e.registerWrapper,n=e.setWrapper,r=e.unsafeUnwrap,i=e.unwrapIfNeeded,s=e.wrap,o=window.TreeWalker;u.prototype={get root(){return s(r(this).root)},get currentNode(){return s(r(this).currentNode)},set currentNode(e){r(this).currentNode=i(e)},get filter(){return r(this).filter},parentNode:function(){return s(r(this).parentNode())},firstChild:function(){return s(r(this).firstChild())},lastChild:function(){return s(r(this).lastChild())},previousSibling:function(){return s(r(this).previousSibling())},previousNode:function(){return s(r(this).previousNode())},nextNode:function(){return s(r(this).nextNode())}},t(o,u),e.wrappers.TreeWalker=u}(window.ShadowDOMPolyfill),function(e){"use strict";function N(e){n.call(this,e),this.treeScope_=new a(this,null)}function C(e){var t=document[e];N.prototype[e]=function(){return E(t.apply(b(this),arguments))}}function L(e,t){k.call(b(t),w(e)),A(e,t)}function A(e,t){e.shadowRoot&&t.adoptNode(e.shadowRoot),e instanceof u&&O(e,t);for(var n=e.firstChild;n;n=n.nextSibling)A(n,t)}function O(e,t){var n=e.olderShadowRoot;n&&t.adoptNode(n)}function H(e){y(e,this)}function j(e,t){var n=document.implementation[t];e.prototype[t]=function(){return E(n.apply(b(this),arguments))}}function F(e,t){var n=document.implementation[t];e.prototype[t]=function(){return n.apply(b(this),arguments)}}var t=e.GetElementsByInterface,n=e.wrappers.Node,r=e.ParentNodeInterface,i=e.NonElementParentNodeInterface,s=e.wrappers.Selection,o=e.SelectorsInterface,u=e.wrappers.ShadowRoot,a=e.TreeScope,f=e.cloneNode,l=e.defineWrapGetter,c=e.elementFromPoint,h=e.forwardMethodsToWrapper,p=e.matchesNames,d=e.mixin,v=e.registerWrapper,m=e.renderAllPending,g=e.rewrap,y=e.setWrapper,b=e.unsafeUnwrap,w=e.unwrap,E=e.wrap,S=e.wrapEventTargetMethods,x=e.wrapNodeList,T=new WeakMap;N.prototype=Object.create(n.prototype),l(N,"documentElement"),l(N,"body"),l(N,"head"),["createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode"].forEach(C);var k=document.adoptNode,M=document.getSelection;d(N.prototype,{adoptNode:function(e){return e.parentNode&&e.parentNode.removeChild(e),L(e,this),e},elementFromPoint:function(e,t){return c(this,this,e,t)},importNode:function(e,t){return f(e,t,b(this))},getSelection:function(){return m(),new s(M.call(w(this)))},getElementsByName:function(e){return o.querySelectorAll.call(this,"[name="+JSON.stringify(String(e))+"]")}});var _=document.createTreeWalker,D=e.wrappers.TreeWalker;N.prototype.createTreeWalker=function(e,t,n,r){var i=null;return n&&(n.acceptNode&&typeof n.acceptNode=="function"?i={acceptNode:function(e){return n.acceptNode(E(e))}}:typeof n=="function"&&(i=function(e){return n(E(e))})),new D(_.call(w(this),w(e),t,i,r))};if(document.registerElement){var P=document.registerElement;N.prototype.registerElement=function(t,n){function c(e){if(!e)return i?document.createElement(i,t):document.createElement(t);y(e,this)}var r,i;n!==undefined&&(r=n.prototype,i=n.extends),r||(r=Object.create(HTMLElement.prototype));if(e.nativePrototypeTable.get(r))throw new Error("NotSupportedError");var s=Object.getPrototypeOf(r),o,u=[];while(s){o=e.nativePrototypeTable.get(s);if(o)break;u.push(s),s=Object.getPrototypeOf(s)}if(!o)throw new Error("NotSupportedError");var a=Object.create(o);for(var f=u.length-1;f>=0;f--)a=Object.create(a);["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"].forEach(function(e){var t=r[e];if(!t)return;a[e]=function(){E(this)instanceof c||g(this),t.apply(E(this),arguments)}});var l={prototype:a};i&&(l.extends=i),c.prototype=r,c.prototype.constructor=c,e.constructorTable.set(a,c),e.nativePrototypeTable.set(r,a);var h=P.call(w(this),t,l);return c},h([window.HTMLDocument||window.Document],["registerElement"])}h([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement,window.HTMLHtmlElement],["appendChild","compareDocumentPosition","contains","getElementsByClassName","getElementsByTagName","getElementsByTagNameNS","insertBefore","querySelector","querySelectorAll","removeChild","replaceChild"]),h([window.HTMLBodyElement,window.HTMLHeadElement,window.HTMLHtmlElement],p),h([window.HTMLDocument||window.Document],["adoptNode","importNode","contains","createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode","createTreeWalker","elementFromPoint","getElementById","getElementsByName","getSelection"]),d(N.prototype,t),d(N.prototype,r),d(N.prototype,o),d(N.prototype,i),d(N.prototype,{get implementation(){var e=T.get(this);return e?e:(e=new H(w(this).implementation),T.set(this,e),e)},get defaultView(){return E(w(this).defaultView)}}),v(window.Document,N,document.implementation.createHTMLDocument("")),window.HTMLDocument&&v(window.HTMLDocument,N),S([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement]);var B=document.implementation.createDocument;H.prototype.createDocument=function(){return arguments[2]=w(arguments[2]),E(B.apply(b(this),arguments))},j(H,"createDocumentType"),j(H,"createHTMLDocument"),F(H,"hasFeature"),v(window.DOMImplementation,H),h([window.DOMImplementation],["createDocument","createDocumentType","createHTMLDocument","hasFeature"]),e.adoptNodeNoRemove=L,e.wrappers.DOMImplementation=H,e.wrappers.Document=N}(window.ShadowDOMPolyfill),function(e){"use strict";function p(e){t.call(this,e)}var t=e.wrappers.EventTarget,n=e.wrappers.Selection,r=e.mixin,i=e.registerWrapper,s=e.renderAllPending,o=e.unwrap,u=e.unwrapIfNeeded,a=e.wrap,f=window.Window,l=window.getComputedStyle,c=window.getDefaultComputedStyle,h=window.getSelection;p.prototype=Object.create(t.prototype),f.prototype.getComputedStyle=function(e,t){return a(this||window).getComputedStyle(u(e),t)},c&&(f.prototype.getDefaultComputedStyle=function(e,t){return a(this||window).getDefaultComputedStyle(u(e),t)}),f.prototype.getSelection=function(){return a(this||window).getSelection()},delete window.getComputedStyle,delete window.getDefaultComputedStyle,delete window.getSelection,["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){f.prototype[e]=function(){var t=a(this||window);return t[e].apply(t,arguments)},delete window[e]}),r(p.prototype,{getComputedStyle:function(e,t){return s(),l.call(o(this),u(e),t)},getSelection:function(){return s(),new n(h.call(o(this)))},get document(){return a(o(this).document)}}),c&&(p.prototype.getDefaultComputedStyle=function(e,t){return s(),c.call(o(this),u(e),t)}),i(f,p,window),e.wrappers.Window=p}(window.ShadowDOMPolyfill),function(e){"use strict";var t=e.unwrap,n=window.DataTransfer||window.Clipboard,r=n.prototype.setDragImage;r&&(n.prototype.setDragImage=function(e,n,i){r.call(this,t(e),n,i)})}(window.ShadowDOMPolyfill),function(e){"use strict";function s(e){var t;e instanceof i?t=e:t=new i(e&&r(e)),n(t,this)}var t=e.registerWrapper,n=e.setWrapper,r=e.unwrap,i=window.FormData;if(!i)return;t(i,s,new i),e.wrappers.FormData=s}(window.ShadowDOMPolyfill),function(e){"use strict";var t=e.unwrapIfNeeded,n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(e){return n.call(this,t(e))}}(window.ShadowDOMPolyfill),function(e){"use strict";function r(e){var t=n[e],r=window[t];if(!r)return;var i=document.createElement(e),s=i.constructor;window[t]=s}var t=e.isWrapperFor,n={a:"HTMLAnchorElement",area:"HTMLAreaElement",audio:"HTMLAudioElement",base:"HTMLBaseElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",col:"HTMLTableColElement",content:"HTMLContentElement",data:"HTMLDataElement",datalist:"HTMLDataListElement",del:"HTMLModElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",font:"HTMLFontElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",head:"HTMLHeadElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",marquee:"HTMLMarqueeElement",menu:"HTMLMenuElement",menuitem:"HTMLMenuItemElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",script:"HTMLScriptElement",select:"HTMLSelectElement",shadow:"HTMLShadowElement",source:"HTMLSourceElement",span:"HTMLSpanElement",style:"HTMLStyleElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",template:"HTMLTemplateElement",textarea:"HTMLTextAreaElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",ul:"HTMLUListElement",video:"HTMLVideoElement"};Object.keys(n).forEach(r),Object.getOwnPropertyNames(e.wrappers).forEach(function(t){window[t]=e.wrappers[t]})}(window.ShadowDOMPolyfill),function(e){function T(e,t){var n="";return Array.prototype.forEach.call(e,function(e){n+=e.textContent+"\n\n"}),t||(n=n.replace(r,"")),n}function N(e){var t=document.createElement("style");return t.textContent=e,t}function C(e){var t=N(e);document.head.appendChild(t);var n=[];if(t.sheet)try{n=t.sheet.cssRules}catch(r){}else console.warn("sheet not found",t);return t.parentNode.removeChild(t),n}function L(){k.initialized=!0,document.body.appendChild(k);var e=k.contentDocument,t=e.createElement("base");t.href=document.baseURI,e.head.appendChild(t)}function A(e){k.initialized||L(),document.body.appendChild(k),e(k.contentDocument),document.body.removeChild(k)}function M(e,t){if(!t)return;var n;if(e.match("@import")&&O){var r=N(e);A(function(e){e.head.appendChild(r.impl),n=Array.prototype.slice.call(r.sheet.cssRules,0),t(n)})}else n=C(e),t(n)}function _(e){for(var t=0,n=[];t<e.length;t++)n.push(e[t].cssText);return n.join("\n\n")}function D(e){e&&I().appendChild(document.createTextNode(e))}function P(e,t){var n=N(e);n.setAttribute(t,""),n.setAttribute(B,""),document.head.appendChild(n)}function I(){return F||(F=document.createElement("style"),F.setAttribute(B,""),F[B]=!0),F}var t={strictStyling:!1,registry:{},shimStyling:function(e,t,n){var r=this.prepareRoot(e,t,n),i=this.isTypeExtension(n),s=this.makeScopeSelector(t,i),o=T(r,!0);o=this.scopeCssText(o,s),e&&(e.shimmedStyle=o),this.addCssToDocument(o,t)},shimStyle:function(e,t){return this.shimCssText(e.textContent,t)},shimCssText:function(e,t){return e=this.insertDirectives(e),this.scopeCssText(e,t)},makeScopeSelector:function(e,t){return e?t?"[is="+e+"]":e:""},isTypeExtension:function(e){return e&&e.indexOf("-")<0},prepareRoot:function(e,t,n){var r=this.registerRoot(e,t,n);return this.replaceTextInStyles(r.rootStyles,this.insertDirectives),this.removeStyles(e,r.rootStyles),this.strictStyling&&this.applyScopeToContent(e,t),r.scopeStyles},removeStyles:function(e,t){for(var n=0,r=t.length,i;n<r&&(i=t[n]);n++)i.parentNode.removeChild(i)},registerRoot:function(e,t,n){var r=this.registry[t]={root:e,name:t,extendsName:n},i=this.findStyles(e);r.rootStyles=i,r.scopeStyles=r.rootStyles;var s=this.registry[r.extendsName];return s&&(r.scopeStyles=s.scopeStyles.concat(r.scopeStyles)),r},findStyles:function(e){if(!e)return[];var t=e.querySelectorAll("style");return Array.prototype.filter.call(t,function(e){return!e.hasAttribute(j)})},applyScopeToContent:function(e,t){e&&(Array.prototype.forEach.call(e.querySelectorAll("*"),function(e){e.setAttribute(t,"")}),Array.prototype.forEach.call(e.querySelectorAll("template"),function(e){this.applyScopeToContent(e.content,t)},this))},insertDirectives:function(e){return e=this.insertPolyfillDirectivesInCssText(e),this.insertPolyfillRulesInCssText(e)},insertPolyfillDirectivesInCssText:function(e){return e=e.replace(i,function(e,t){return t.slice(0,-2)+"{"}),e.replace(s,function(e,t){return t+" {"})},insertPolyfillRulesInCssText:function(e){return e=e.replace(o,function(e,t){return t.slice(0,-1)}),e.replace(u,function(e,t,n,r){var i=e.replace(t,"").replace(n,"");return r+i})},scopeCssText:function(e,t){var n=this.extractUnscopedRulesFromCssText(e);e=this.insertPolyfillHostInCssText(e),e=this.convertColonHost(e),e=this.convertColonHostContext(e),e=this.convertShadowDOMSelectors(e);if(t){var r=this,e;M(e,function(n){e=r.scopeRules(n,t)})}return e=e+"\n"+n,e.trim()},extractUnscopedRulesFromCssText:function(e){var t="",n;while(n=a.exec(e))t+=n[1].slice(0,-1)+"\n\n";while(n=f.exec(e))t+=n[0].replace(n[2],"").replace(n[1],n[3])+"\n\n";return t},convertColonHost:function(e){return this.convertColonRule(e,v,this.colonHostPartReplacer)},convertColonHostContext:function(e){return this.convertColonRule(e,m,this.colonHostContextPartReplacer)},convertColonRule:function(e,t,n){return e.replace(t,function(e,t,r,i){t=w;if(r){var s=r.split(","),o=[];for(var u=0,a=s.length,f;u<a&&(f=s[u]);u++)f=f.trim(),o.push(n(t,f,i));return o.join(",")}return t+i})},colonHostContextPartReplacer:function(e,t,n){return t.match(h)?this.colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n},colonHostPartReplacer:function(e,t,n){return e+t.replace(h,"")+n},convertShadowDOMSelectors:function(e){for(var t=0;t<x.length;t++)e=e.replace(x[t]," ");return e},scopeRules:function(e,t){var n="";return e&&Array.prototype.forEach.call(e,function(e){if(e.selectorText&&e.style&&e.style.cssText!==undefined)n+=this.scopeSelector(e.selectorText,t,this.strictStyling)+" {\n	",n+=this.propertiesFromRule(e)+"\n}\n\n";else if(e.type===CSSRule.MEDIA_RULE)n+="@media "+e.media.mediaText+" {\n",n+=this.scopeRules(e.cssRules,t),n+="\n}\n\n";else try{e.cssText&&(n+=e.cssText+"\n\n")}catch(r){e.type===CSSRule.KEYFRAMES_RULE&&e.cssRules&&(n+=this.ieSafeCssTextFromKeyFrameRule(e))}},this),n},ieSafeCssTextFromKeyFrameRule:function(e){var t="@keyframes "+e.name+" {";return Array.prototype.forEach.call(e.cssRules,function(e){t+=" "+e.keyText+" {"+e.style.cssText+"}"}),t+=" }",t},scopeSelector:function(e,t,n){var r=[],i=e.split(",");return i.forEach(function(e){e=e.trim(),this.selectorNeedsScoping(e,t)&&(e=n&&!e.match(w)?this.applyStrictSelectorScope(e,t):this.applySelectorScope(e,t)),r.push(e)},this),r.join(", ")},selectorNeedsScoping:function(e,t){if(Array.isArray(t))return!0;var n=this.makeScopeMatcher(t);return!e.match(n)},makeScopeMatcher:function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+g,"m")},applySelectorScope:function(e,t){return Array.isArray(t)?this.applySelectorScopeList(e,t):this.applySimpleSelectorScope(e,t)},applySelectorScopeList:function(e,t){var n=[];for(var r=0,i;i=t[r];r++)n.push(this.applySimpleSelectorScope(e,i));return n.join(", ")},applySimpleSelectorScope:function(e,t){return e.match(E)?(e=e.replace(w,t),e.replace(E,t+" ")):t+" "+e},applyStrictSelectorScope:function(e,t){t=t.replace(/\[is=([^\]]*)\]/g,"$1");var n=[" ",">","+","~"],r=e,i="["+t+"]";return n.forEach(function(e){var t=r.split(e);r=t.map(function(e){var t=e.trim().replace(E,"");return t&&n.indexOf(t)<0&&t.indexOf(i)<0&&(e=t.replace(/([^:]*)(:*)(.*)/,"$1"+i+"$2$3")),e}).join(e)}),r},insertPolyfillHostInCssText:function(e){return e.replace(b,p).replace(y,h)},propertiesFromRule:function(e){var t=e.style.cssText;e.style.content&&!e.style.content.match(/['"]+|attr/)&&(t=t.replace(/content:[^;]*;/g,"content: '"+e.style.content+"';"));var n=e.style;for(var r in n)n[r]==="initial"&&(t+=r+": initial; ");return t},replaceTextInStyles:function(e,t){e&&t&&(e instanceof Array||(e=[e]),Array.prototype.forEach.call(e,function(e){e.textContent=t.call(this,e.textContent)},this))},addCssToDocument:function(e,t){e.match("@import")?P(e,t):D(e)}},n=/([^{]*)({[\s\S]*?})/gim,r=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,i=/\/\*\s*@polyfill ([^*]*\*+([^\/*][^*]*\*+)*\/)([^{]*?){/gim,s=/polyfill-next-selector[^}]*content\:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,o=/\/\*\s@polyfill-rule([^*]*\*+([^\/*][^*]*\*+)*)\//gim,u=/(polyfill-rule)[^}]*(content\:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,a=/\/\*\s@polyfill-unscoped-rule([^*]*\*+([^\/*][^*]*\*+)*)\//gim,f=/(polyfill-unscoped-rule)[^}]*(content\:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,l=/::(x-[^\s{,(]*)/gim,c=/::part\(([^)]*)\)/gim,h="-shadowcsshost",p="-shadowcsscontext",d=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",v=new RegExp("("+h+d,"gim"),m=new RegExp("("+p+d,"gim"),g="([>\\s~+[.,{:][\\s\\S]*)?$",y=/\:host/gim,b=/\:host-context/gim,w=h+"-no-combinator",E=new RegExp(h,"gim"),S=new RegExp(p,"gim"),x=[/>>>/g,/::shadow/g,/::content/g,/\/deep\//g,/\/shadow\//g,/\/shadow-deep\//g,/\^\^/g,/\^/g],k=document.createElement("iframe");k.style.display="none";var O=navigator.userAgent.match("Chrome"),H="shim-shadowdom",B="shim-shadowdom-css",j="no-shim",F;if(window.ShadowDOMPolyfill){D("style { display: none !important; }\n");var q=ShadowDOMPolyfill.wrap(document),R=q.querySelector("head");R.insertBefore(I(),R.childNodes[0]),document.addEventListener("DOMContentLoaded",function(){var n=e.urlResolver;if(window.HTMLImports&&!HTMLImports.useNative){var r="link[rel=stylesheet]["+H+"]",i="style["+H+"]";HTMLImports.importer.documentPreloadSelectors+=","+r,HTMLImports.importer.importsPreloadSelectors+=","+r,HTMLImports.parser.documentSelectors=[HTMLImports.parser.documentSelectors,r,i].join(",");var s=HTMLImports.parser.parseGeneric;HTMLImports.parser.parseGeneric=function(e){if(e[B])return;var n=e.__importElement||e;if(!n.hasAttribute(H)){s.call(this,e);return}e.__resource&&(n=e.ownerDocument.createElement("style"),n.textContent=e.__resource),HTMLImports.path.resolveUrlsInStyle(n,e.href),n.textContent=t.shimStyle(n),n.removeAttribute(H,""),n.setAttribute(B,""),n[B]=!0,n.parentNode!==R&&(e.parentNode===R?R.replaceChild(n,e):this.addElementToDocument(n)),n.__importParsed=!0,this.markParsingComplete(e),this.parseNext()};var o=HTMLImports.parser.hasResource;HTMLImports.parser.hasResource=function(e){return e.localName==="link"&&e.rel==="stylesheet"&&e.hasAttribute(H)?e.__resource:o.call(this,e)}}})}e.ShadowCSS=t}(window.WebComponents)),function(e){window.ShadowDOMPolyfill?(window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}}(window.WebComponents),function(e){"use strict";function o(e){return i[e]!==undefined}function u(){v.call(this),this._isInvalid=!0}function a(e){return""==e&&u.call(this),e.toLowerCase()}function f(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,63,96].indexOf(t)==-1?e:encodeURIComponent(e)}function l(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,96].indexOf(t)==-1?e:encodeURIComponent(e)}function d(e,t,n){function r(e){b.push(e)}var d=t||"scheme start",v=0,m="",g=!1,y=!1,b=[];e:while((e[v-1]!=c||v==0)&&!this._isInvalid){var w=e[v];switch(d){case"scheme start":if(!w||!h.test(w)){if(!t){m="",d="no scheme";continue}r("Invalid scheme.");break e}m+=w.toLowerCase(),d="scheme";break;case"scheme":if(w&&p.test(w))m+=w.toLowerCase();else{if(":"!=w){if(!t){m="",v=0,d="no scheme";continue}if(c==w)break e;r("Code point not allowed in scheme: "+w);break e}this._scheme=m,m="";if(t)break e;o(this._scheme)&&(this._isRelative=!0),"file"==this._scheme?d="relative":this._isRelative&&n&&n._scheme==this._scheme?d="relative or authority":this._isRelative?d="authority first slash":d="scheme data"}break;case"scheme data":"?"==w?(this._query="?",d="query"):"#"==w?(this._fragment="#",d="fragment"):c!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._schemeData+=f(w));break;case"no scheme":if(!!n&&!!o(n._scheme)){d="relative";continue}r("Missing scheme."),u.call(this);break;case"relative or authority":if("/"!=w||"/"!=e[v+1]){r("Expected /, got: "+w),d="relative";continue}d="authority ignore slashes";break;case"relative":this._isRelative=!0,"file"!=this._scheme&&(this._scheme=n._scheme);if(c==w){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break e}if("/"==w||"\\"==w)"\\"==w&&r("\\ is an invalid code point."),d="relative slash";else if("?"==w)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query="?",this._username=n._username,this._password=n._password,d="query";else{if("#"!=w){var E=e[v+1],S=e[v+2];if("file"!=this._scheme||!h.test(w)||E!=":"&&E!="|"||c!=S&&"/"!=S&&"\\"!=S&&"?"!=S&&"#"!=S)this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop();d="relative path";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment="#",this._username=n._username,this._password=n._password,d="fragment"}break;case"relative slash":if("/"!=w&&"\\"!=w){"file"!=this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),d="relative path";continue}"\\"==w&&r("\\ is an invalid code point."),"file"==this._scheme?d="file host":d="authority ignore slashes";break;case"authority first slash":if("/"!=w){r("Expected '/', got: "+w),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":d="authority ignore slashes";if("/"!=w){r("Expected '/', got: "+w);continue}break;case"authority ignore slashes":if("/"!=w&&"\\"!=w){d="authority";continue}r("Expected authority, got: "+w);break;case"authority":if("@"==w){g&&(r("@ already seen."),m+="%40"),g=!0;for(var x=0;x<m.length;x++){var T=m[x];if("	"==T||"\n"==T||"\r"==T){r("Invalid whitespace in authority.");continue}if(":"==T&&null===this._password){this._password="";continue}var N=f(T);null!==this._password?this._password+=N:this._username+=N}m=""}else{if(c==w||"/"==w||"\\"==w||"?"==w||"#"==w){v-=m.length,m="",d="host";continue}m+=w}break;case"file host":if(c==w||"/"==w||"\\"==w||"?"==w||"#"==w){m.length!=2||!h.test(m[0])||m[1]!=":"&&m[1]!="|"?m.length==0?d="relative path start":(this._host=a.call(this,m),m="",d="relative path start"):d="relative path";continue}"	"==w||"\n"==w||"\r"==w?r("Invalid whitespace in file host."):m+=w;break;case"host":case"hostname":if(":"==w&&!y){this._host=a.call(this,m),m="",d="port";if("hostname"==t)break e}else{if(c==w||"/"==w||"\\"==w||"?"==w||"#"==w){this._host=a.call(this,m),m="",d="relative path start";if(t)break e;continue}"	"!=w&&"\n"!=w&&"\r"!=w?("["==w?y=!0:"]"==w&&(y=!1),m+=w):r("Invalid code point in host/hostname: "+w)}break;case"port":if(/[0-9]/.test(w))m+=w;else{if(c==w||"/"==w||"\\"==w||"?"==w||"#"==w||t){if(""!=m){var C=parseInt(m,10);C!=i[this._scheme]&&(this._port=C+""),m=""}if(t)break e;d="relative path start";continue}"	"==w||"\n"==w||"\r"==w?r("Invalid code point in port: "+w):u.call(this)}break;case"relative path start":"\\"==w&&r("'\\' not allowed in path."),d="relative path";if("/"!=w&&"\\"!=w)continue;break;case"relative path":if(c==w||"/"==w||"\\"==w||!t&&("?"==w||"#"==w)){"\\"==w&&r("\\ not allowed in relative path.");var k;if(k=s[m.toLowerCase()])m=k;".."==m?(this._path.pop(),"/"!=w&&"\\"!=w&&this._path.push("")):"."==m&&"/"!=w&&"\\"!=w?this._path.push(""):"."!=m&&("file"==this._scheme&&this._path.length==0&&m.length==2&&h.test(m[0])&&m[1]=="|"&&(m=m[0]+":"),this._path.push(m)),m="","?"==w?(this._query="?",d="query"):"#"==w&&(this._fragment="#",d="fragment")}else"	"!=w&&"\n"!=w&&"\r"!=w&&(m+=f(w));break;case"query":!t&&"#"==w?(this._fragment="#",d="fragment"):c!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._query+=l(w));break;case"fragment":c!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._fragment+=w)}v++}}function v(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function m(e,t){t!==undefined&&!(t instanceof m)&&(t=new m(String(t))),this._url=e,v.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");d.call(this,n,null,t)}var t=!1;if(!e.forceJURL)try{var n=new URL("b","http://a");n.pathname="c%20d",t=n.href==="http://a/c%20d"}catch(r){}if(t)return;var i=Object.create(null);i.ftp=21,i.file=0,i.gopher=70,i.http=80,i.https=443,i.ws=80,i.wss=443;var s=Object.create(null);s["%2e"]=".",s[".%2e"]="..",s["%2e."]="..",s["%2e%2e"]="..";var c=undefined,h=/[a-zA-Z]/,p=/[a-zA-Z0-9\+\-\.]/;m.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";if(""!=this._username||null!=this._password)e=this._username+(null!=this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){v.call(this),d.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){if(this._isInvalid)return;d.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){if(this._isInvalid||!this._isRelative)return;d.call(this,e,"host")},get hostname(){return this._host},set hostname(e){if(this._isInvalid||!this._isRelative)return;d.call(this,e,"hostname")},get port(){return this._port},set port(e){if(this._isInvalid||!this._isRelative)return;d.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){if(this._isInvalid||!this._isRelative)return;this._path=[],d.call(this,e,"relative path start")},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){if(this._isInvalid||!this._isRelative)return;this._query="?","?"==e[0]&&(e=e.slice(1)),d.call(this,e,"query")},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){if(this._isInvalid)return;this._fragment="#","#"==e[0]&&(e=e.slice(1)),d.call(this,e,"fragment")},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var g=e.URL;g&&(m.createObjectURL=function(e){return g.createObjectURL.apply(g,arguments)},m.revokeObjectURL=function(e){g.revokeObjectURL(e)}),e.URL=m}(self),function(e){function u(e){o.push(e),s||(s=!0,n(f))}function a(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function f(){s=!1;var e=o;o=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();l(e),n.length&&(e.callback_(n,e),t=!0)}),t&&f()}function l(e){e.nodes_.forEach(function(n){var r=t.get(n);if(!r)return;r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function c(e,n){for(var r=e;r;r=r.parentNode){var i=t.get(r);if(i)for(var s=0;s<i.length;s++){var o=i[s],u=o.options;if(r!==e&&!u.subtree)continue;var a=n(u);a&&o.enqueue(a)}}}function p(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++h}function d(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function v(e){var t=new d(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function y(e,t){return m=new d(e,t)}function b(e){return g?g:(g=v(m),g.oldValue=e,g)}function w(){m=g=undefined}function E(e){return e===g||e===m}function S(e,t){return e===t?e:g&&E(e)?g:null}function x(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(e.JsMutationObserver)return;var t=new WeakMap,n;if(/Trident|Edge/.test(navigator.userAgent))n=setTimeout;else if(window.setImmediate)n=window.setImmediate;else{var r=[],i=String(Math.random());window.addEventListener("message",function(e){if(e.data===i){var t=r;r=[],t.forEach(function(e){e()})}}),n=function(e){r.push(e),window.postMessage(i,"*")}}var s=!1,o=[],h=0;p.prototype={observe:function(e,n){e=a(e);if(!n.childList&&!n.attributes&&!n.characterData||n.attributeOldValue&&!n.attributes||n.attributeFilter&&n.attributeFilter.length&&!n.attributes||n.characterDataOldValue&&!n.characterData)throw new SyntaxError;var r=t.get(e);r||t.set(e,r=[]);var i;for(var s=0;s<r.length;s++)if(r[s].observer===this){i=r[s],i.removeListeners(),i.options=n;break}i||(i=new x(this,e,n),r.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){var n=t.get(e);for(var r=0;r<n.length;r++){var i=n[r];if(i.observer===this){i.removeListeners(),n.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var m,g;x.prototype={enqueue:function(e){var t=this.observer.records_,n=t.length;if(t.length>0){var r=t[n-1],i=S(r,e);if(i){t[n-1]=i;return}}else u(this.observer);t[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e===this.target)return;this.addListeners_(e),this.transientObservedNodes.push(e);var n=t.get(e);n||t.set(e,n=[]),n.push(this)},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);var n=t.get(e);for(var r=0;r<n.length;r++)if(n[r]===this){n.splice(r,1);break}},this)},handleEvent:function(e){e.stopImmediatePropagation();switch(e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target,i=new y("attributes",r);i.attributeName=t,i.attributeNamespace=n;var s=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;c(r,function(e){if(!e.attributes)return;if(e.attributeFilter&&e.attributeFilter.length&&e.attributeFilter.indexOf(t)===-1&&e.attributeFilter.indexOf(n)===-1)return;return e.attributeOldValue?b(s):i});break;case"DOMCharacterDataModified":var r=e.target,i=y("characterData",r),s=e.prevValue;c(r,function(e){if(!e.characterData)return;return e.characterDataOldValue?b(s):i});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var o=e.target,u,a;e.type==="DOMNodeInserted"?(u=[o],a=[]):(u=[],a=[o]);var f=o.previousSibling,l=o.nextSibling,i=y("childList",e.target.parentNode);i.addedNodes=u,i.removedNodes=a,i.previousSibling=f,i.nextSibling=l,c(e.relatedNode,function(e){if(!e.childList)return;return i})}w()}},e.JsMutationObserver=p,e.MutationObserver||(e.MutationObserver=p,p._isPolyfilled=!0)}(self),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function a(e,t){t=t||s,h(function(){d(e,t)},t)}function c(e){return e.readyState==="complete"||e.readyState===f}function h(e,t){if(!c(t)){var n=function(){if(t.readyState==="complete"||t.readyState===f)t.removeEventListener(l,n),h(e,t)};t.addEventListener(l,n)}else e&&e()}function p(e){e.target.__loaded=!0}function d(e,t){function u(){r==i&&e&&e({allImports:n,loadedImports:s,errorImports:o})}function a(e){p(e),s.push(this),r++,u()}function f(e){o.push(this),r++,u()}var n=t.querySelectorAll("link[rel=import]"),r=0,i=n.length,s=[],o=[];if(i)for(var l=0,c;l<i&&(c=n[l]);l++)v(c)?(r++,u()):(c.addEventListener("load",a),c.addEventListener("error",f));else u()}function v(e){return n?e.__loaded||e.import&&e.import.readyState!=="loading":e.__importParsed}var t="import",n=Boolean(t in document.createElement("link")),r=Boolean(window.ShadowDOMPolyfill),i=function(e){return r?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},s=i(document),o={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||(document.readyState!=="complete"?document.scripts[document.scripts.length-1]:null);return i(e)},configurable:!0};Object.defineProperty(document,"_currentScript",o),Object.defineProperty(s,"_currentScript",o);var u=/Trident/.test(navigator.userAgent),f=u?"complete":"interactive",l="readystatechange";if(n){(new MutationObserver(function(e){for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)r.addedNodes&&m(r.addedNodes)})).observe(document.head,{childList:!0});function m(e){for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)g(r)&&y(r)}function g(e){return e.localName==="link"&&e.rel==="import"}function y(e){var t=e.import;t?p({target:e}):(e.addEventListener("load",p),e.addEventListener("error",p))}(function(){if(document.readyState==="loading"){var e=document.querySelectorAll("link[rel=import]");for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)y(r)}})()}a(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=s.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),s.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=t,e.useNative=n,e.rootDocument=s,e.whenReady=a,e.isIE=u}(window.HTMLImports),function(e){var t=[],n=function(e){t.push(e)},r=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=r}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,r={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,r=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,r),e},resolveUrlsInCssText:function(e,r,i){var s=this.replaceUrls(e,i,r,t);return s=this.replaceUrls(s,i,r,n),s},replaceUrls:function(e,t,n,r){return e.replace(r,function(e,r,i,s){var o=i.replace(/["']/g,"");return n&&(o=(new URL(o,n)).href),t.href=o,o=t.href,r+"'"+o+"'"+s})}};e.path=r}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||e.status===304||e.status===0},load:function(n,r,i){var s=new XMLHttpRequest;if(e.flags.debug||e.flags.bust)n+="?"+Math.random();return s.open("GET",n,t.async),s.addEventListener("readystatechange",function(e){if(s.readyState===4){var n=s.getResponseHeader("Location"),o=null;if(n)var o=n.substr(0,1)==="/"?location.origin+n:n;r.call(i,!t.ok(s)&&s,s.response||s.responseText,o)}}),s.send(),s},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,r=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};r.prototype={addNodes:function(e){this.inflight+=e.length;for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)this.require(r);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;var n;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,r){n.load&&console.log("fetch",e,r);if(!e)setTimeout(function(){this.receive(e,r,{error:"href must be specified"},null)}.bind(this),0);else if(e.match(/^data:/)){var i=e.split(","),s=i[0],o=i[1];s.indexOf(";base64")>-1?o=atob(o):o=decodeURIComponent(o),setTimeout(function(){this.receive(e,r,null,o)}.bind(this),0)}else{var u=function(t,n,i){this.receive(e,r,t,n,i)}.bind(this);t.load(e,u)}},receive:function(e,t,n,r,i){this.cache[e]=r;var s=this.pending[e];for(var o=0,u=s.length,a;o<u&&(a=s[o]);o++)this.onload(e,a,r,n,i),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=r}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)r.type==="childList"&&r.addedNodes.length&&this.addedNodes(r.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t=0,n=e.length,r,i;t<n&&(r=e[t]);t++)r.children&&r.children.length&&this.addedNodes(r.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function a(e){return e.localName==="link"&&e.rel===s}function f(e){var t=l(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function l(e){return e.textContent+c(e)}function c(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,r=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+r+".js\n"}function h(e){var n=e.ownerDocument.createElement("style");return n.textContent=e.textContent,t.resolveUrlsInStyle(n),n}var t=e.path,n=e.rootDocument,r=e.flags,i=e.isIE,s=e.IMPORT_LINK_TYPE,o="link[rel="+s+"]",u={documentSelectors:o,importsSelectors:[o,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e)){r.parse&&console.log("[%s] is already parsed",e.localName);return}var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){r.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,r.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){e.import=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1}));if(e.__pending){var t;while(e.__pending.length)t=e.__pending.shift(),t&&t({target:e})}this.parseNext()},parseLink:function(e){a(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=h(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){var t=e;while(t.ownerDocument.__importLink)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,r=function(i){e.removeEventListener("load",r),e.removeEventListener("error",r),t&&t(i),n.markParsingComplete(e),n.parseNext()};e.addEventListener("load",r),e.addEventListener("error",r);if(i&&e.localName==="style"){var s=!1;if(e.textContent.indexOf("@import")==-1)s=!0;else if(e.sheet){s=!0;var o=e.sheet.cssRules,u=o?o.length:0;for(var a=0,f;a<u&&(f=o[a]);a++)f.type===CSSRule.IMPORT_RULE&&(s=s&&Boolean(f.styleSheet))}s&&setTimeout(function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var n=document.createElement("script");n.__importElement=t,n.src=t.src?t.src:f(t),e.currentScript=t,this.trackElement(n,function(t){n.parentNode&&n.parentNode.removeChild(n),e.currentScript=null}),this.addElementToDocument(n)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(n)||this.nextToParseDynamic())},nextToParseInDoc:function(e,t){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);var n=e.querySelectorAll(this.parseSelectorsForNode(e));for(var r=0,i=n.length,s=0,o;r<i&&(o=n[r]);r++)if(!this.isParsed(o)){if(this.hasResource(o))return a(o)?this.nextToParseInDoc(o.__doc,o):o;return}}return t},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===n?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return a(e)&&e.__doc===undefined?!1:!0}};e.parser=u,e.IMPORT_SELECTOR=o}),window.HTMLImports.addModule(function(e){function l(e){return c(e,n)}function c(e,t){return e.localName==="link"&&e.getAttribute("rel")===t}function h(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function p(e,t){var r=document.implementation.createHTMLDocument(n);r._URL=t;var i=r.createElement("base");i.setAttribute("href",t),!r.baseURI&&!h(r)&&Object.defineProperty(r,"baseURI",{value:t});var s=r.createElement("meta");return s.setAttribute("charset","utf-8"),r.head.appendChild(s),r.head.appendChild(i),r.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(r),r}var t=e.flags,n=e.IMPORT_LINK_TYPE,r=e.IMPORT_SELECTOR,i=e.rootDocument,s=e.Loader,o=e.Observer,u=e.parser,a={documents:{},documentPreloadSelectors:r,importsPreloadSelectors:[r].join(","),loadNode:function(e){f.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);f.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===i?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,r,i,s){t.load&&console.log("loaded",e,n),n.__resource=r,n.__error=i;if(l(n)){var o=this.documents[e];o===undefined&&(o=i?null:p(r,s||e),o&&(o.__importLink=n,this.bootDocument(o)),this.documents[e]=o),n.__doc=o}u.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),u.parseNext()},loadedAll:function(){u.parseNext()}},f=new s(a.loaded.bind(a),a.loadedAll.bind(a));a.observer=new o;if(!document.baseURI){var d={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",d),Object.defineProperty(i,"baseURI",d)}e.importer=a,e.importLoader=f}),window.HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,r={added:function(e){var r,i,s;for(var o=0,u=e.length,a;o<u&&(a=e[o]);o++)r||(r=a.ownerDocument,i=t.isParsed(r)),s=this.shouldLoadNode(a),s&&n.loadNode(a),this.shouldParseNode(a)&&i&&t.parseDynamic(a,s)},shouldLoadNode:function(e){return e.nodeType===1&&i.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return e.nodeType===1&&i.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=r.added.bind(r);var i=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function i(){window.HTMLImports.importer.bootDocument(r)}var t=e.initializeModules,n=e.isIE;if(e.useNative)return;if(!window.CustomEvent||n&&typeof window.CustomEvent!="function")window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype;t();var r=e.rootDocument;document.readyState==="complete"||document.readyState==="interactive"&&!window.attachEvent?i():document.addEventListener("DOMContentLoaded",i)}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],r=function(e){n.push(e)},i=function(){n.forEach(function(t){t(e)})};e.addModule=r,e.initializeModules=i,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function n(e,t){r(e,function(e){if(t(e))return!0;i(e,t)}),i(e,t)}function r(e,t,n){var i=e.firstElementChild;if(!i){i=e.firstChild;while(i&&i.nodeType!==Node.ELEMENT_NODE)i=i.nextSibling}while(i)t(i,n)!==!0&&r(i,t,n),i=i.nextElementSibling;return null}function i(e,t){var r=e.shadowRoot;while(r)n(r,t),r=r.olderShadowRoot}function s(e,t){o(e,t,[])}function o(e,n,r){e=window.wrap(e);if(r.indexOf(e)>=0)return;r.push(e);var i=e.querySelectorAll("link[rel="+t+"]");for(var s=0,u=i.length,a;s<u&&(a=i[s]);s++)a.import&&o(a.import,n,r);n(e)}var t=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=s,e.forSubtree=n}),window.CustomElements.addModule(function(e){function i(e,t){return s(e,t)||o(e,t)}function s(t,n){if(e.upgrade(t,n))return!0;n&&h(t)}function o(e,t){n(e,function(e){if(s(e,t))return!0})}function l(e){f.push(e),a||(a=!0,setTimeout(c))}function c(){a=!1;var e=f;for(var t=0,n=e.length,r;t<n&&(r=e[t]);t++)r();f=[]}function h(e){u?l(function(){p(e)}):p(e)}function p(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function d(e){v(e),n(e,function(e){v(e)})}function v(e){u?l(function(){m(e)}):m(e)}function m(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function g(e){var t=e,n=window.wrap(document);while(t){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function y(e){if(e.shadowRoot&&!e.shadowRoot.__watched){t.dom&&console.log("watching shadow-root for: ",e.localName);var n=e.shadowRoot;while(n)S(n),n=n.olderShadowRoot}}function b(e,n){if(t.dom){var r=n[0];if(r&&r.type==="childList"&&r.addedNodes&&r.addedNodes){var s=r.addedNodes[0];while(s&&s!==document&&!s.host)s=s.parentNode;var o=s&&(s.URL||s._URL||s.host&&s.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var u=g(e);n.forEach(function(e){e.type==="childList"&&(E(e.addedNodes,function(e){if(!e.localName)return;i(e,u)}),E(e.removedNodes,function(e){if(!e.localName)return;d(e)}))}),t.dom&&console.groupEnd()}function w(e){e=window.wrap(e),e||(e=window.wrap(document));while(e.parentNode)e=e.parentNode;var t=e.__observer;t&&(b(e,t.takeRecords()),c())}function S(e){if(e.__observer)return;var t=new MutationObserver(b.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}function x(e){e=window.wrap(e),t.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop());var n=e===window.wrap(document);i(e,n),S(e),t.dom&&console.groupEnd()}function T(e){r(e,x)}var t=e.flags,n=e.forSubtree,r=e.forDocumentTree,u=window.MutationObserver._isPolyfilled&&t["throttle-attached"];e.hasPolyfillMutations=u,e.hasThrottledAttached=u;var a=!1,f=[],E=Array.prototype.forEach.call.bind(Array.prototype.forEach),N=Element.prototype.createShadowRoot;N&&(Element.prototype.createShadowRoot=function(){var e=N.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=y,e.upgradeDocumentTree=T,e.upgradeDocument=x,e.upgradeSubtree=o,e.upgradeAll=i,e.attached=h,e.takeRecords=w}),window.CustomElements.addModule(function(e){function n(t,n){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var i=t.getAttribute("is"),s=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(i);if(s)if(i&&s.tag==t.localName||!i&&!s.extends)return r(t,s,n)}}function r(n,r,s){return t.upgrade&&console.group("upgrade:",n.localName),r.is&&n.setAttribute("is",r.is),i(n,r),n.__upgraded__=!0,o(n),s&&e.attached(n),e.upgradeSubtree(n,s),t.upgrade&&console.groupEnd(),n}function i(e,t){Object.__proto__?e.__proto__=t.prototype:(s(e,t.prototype,t.native),e.__proto__=t.prototype)}function s(e,t,n){var r={},i=t;while(i!==n&&i!==HTMLElement.prototype){var s=Object.getOwnPropertyNames(i);for(var o=0,u;u=s[o];o++)r[u]||(Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(i,u)),r[u]=1);i=Object.getPrototypeOf(i)}}function o(e){e.createdCallback&&e.createdCallback()}var t=e.flags;e.upgrade=n,e.upgradeWithDefinition=r,e.implementPrototype=i}),window.CustomElements.addModule(function(e){function u(t,r){var i=r||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(l(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(g(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=t.toLowerCase(),i.lifecycle=i.lifecycle||{},i.ancestry=h(i.extends),p(i),d(i),a(i.prototype),y(i.__name,i),i.ctor=b(i),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,e.ready&&n(document),i.ctor}function a(e){if(e.setAttribute._polyfilled)return;var t=e.setAttribute;e.setAttribute=function(e,n){f.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){f.call(this,e,null,n)},e.setAttribute._polyfilled=!0}function f(e,t,n){e=e.toLowerCase();var r=this.getAttribute(e);n.apply(this,arguments);var i=this.getAttribute(e);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(e,r,i)}function l(e){for(var t=0;t<c.length;t++)if(e===c[t])return!0}function h(e){var t=g(e);return t?h(t.extends).concat([t]):[]}function p(e){var t=e.extends;for(var n=0,r;r=e.ancestry[n];n++)t=r.is&&r.tag;e.tag=t||e.__name,t&&(e.is=e.__name)}function d(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}var r=e.prototype,i,s=!1;while(r)r==t&&(s=!0),i=Object.getPrototypeOf(r),i&&(r.__proto__=i),r=i;s||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}function v(e){return i(x(e.tag),e)}function g(e){if(e)return m[e.toLowerCase()]}function y(e,t){m[e]=t}function b(e){return function(){return v(e)}}function E(e,t,n){return e===w?S(t,n):T(e,t)}function S(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=g(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var r;return t?(r=S(e),r.setAttribute("is",t),r):(r=x(e),e.indexOf("-")>=0&&s(r,HTMLElement),r)}function C(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return r(e),e}}var t=e.isIE,n=e.upgradeDocumentTree,r=e.upgradeAll,i=e.upgradeWithDefinition,s=e.implementPrototype,o=e.useNative,c=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],m={},w="http://www.w3.org/1999/xhtml",x=document.createElement.bind(document),T=document.createElementNS.bind(document),N;!Object.__proto__&&!o?N=function(e,t){if(e instanceof t)return!0;var n=e;while(n){if(n===t.prototype)return!0;n=n.__proto__}return!1}:N=function(e,t){return e instanceof t},C(Node.prototype,"cloneNode"),C(document,"importNode"),t&&function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType==t.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}(),document.registerElement=u,document.createElement=S,document.createElementNS=E,e.registry=m,e.instanceof=N,e.reservedTagList=c,e.getRegisteredDefinition=g,document.register=document.registerElement}),function(e){function u(){s(window.wrap(document)),window.CustomElements.ready=!0;var e=window.requestAnimationFrame||function(e){setTimeout(e,16)};e(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var t=e.useNative,n=e.initializeModules,r=e.isIE;if(t){var i=function(){};e.watchShadow=i,e.upgrade=i,e.upgradeAll=i,e.upgradeDocumentTree=i,e.upgradeSubtree=i,e.takeRecords=i,e.instanceof=function(e,t){return e instanceof t}}else n();var s=e.upgradeDocumentTree,o=e.upgradeDocument;window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&o(wrap(e.import))});if(!window.CustomEvent||r&&typeof window.CustomEvent!="function")window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype;if(document.readyState==="complete"||e.flags.eager)u();else if(document.readyState==="interactive"&&!window.attachEvent&&(!window.HTMLImports||window.HTMLImports.ready))u();else{var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,u)}}(window.CustomElements),function(e){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(e,r)}})}(window.WebComponents),function(e){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}())}(window.WebComponents),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents),function(e){window.Platform=e}(window.WebComponents),define("webcomponents",function(){}),define("jquery",[],function(){return function(e,undefined){function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}function Z(e,t){while((e=e[t])&&1!==e.nodeType);return e}function et(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function gt(e,t){var n,r,i,s,o,u,a,f;if(1===t.nodeType){if(q.hasData(e)&&(s=q.access(e),o=q.set(t,s),f=s.events)){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;r>n;n++)x.event.add(t,i,f[i][n])}L.hasData(e)&&(u=L.access(e),a=x.extend({},u),L.set(t,a))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function At(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--)if(t=Dt[i]+n,t in e)return t;return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,s=[],o=0,u=e.length;for(;u>o;o++)r=e[o],r.style&&(s[o]=q.get(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(s[o]=q.access(r,"olddisplay",Rt(r.nodeName)))):s[o]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;for(;4>s;s+=2)"margin"===n&&(o+=x.css(e,n+jt[s],!0,i)),r?("content"===n&&(o-=x.css(e,"padding"+jt[s],!0,i)),"margin"!==n&&(o-=x.css(e,"border"+jt[s]+"Width",!0,i))):(o+=x.css(e,"padding"+jt[s],!0,i),"padding"!==n&&(o+=x.css(e,"border"+jt[s]+"Width",!0,i)));return o}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=qt(e),o=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=vt(e,t,s),(0>i||null==i)&&(i=e.style[t]),Ct.test(i))return i;r=o&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(o?"border":"content"),r,s)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}function _t(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)_t(e+"["+i+"]",t[i],n,r)}function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(w)||[];if(x.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ln(e,t,n,r){function o(u){var a;return i[u]=!0,x.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):undefined:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===on;return o(t.dataTypes[0])||!i["*"]&&o("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}function pn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):undefined}function fn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),s=0,o=i.length;for(;o>s;s++)if(r=i[s].call(n,t,e))return r}function jn(e,t,n){var r,i,s=0,o=kn.length,u=x.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=xn||En(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(Dn(l,f.opts.specialEasing);o>s;s++)if(r=kn[s].call(f,e,l,f.opts))return r;return x.map(l,Sn,f),x.isFunction(f.opts.start)&&f.opts.start.call(e,f),x.fx.timer(x.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Dn(e,t){var n,r,i,s,o;for(n in e)if(r=x.camelCase(n),i=t[r],s=e[n],x.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=x.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function An(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&Lt(e),p=q.get(e,"fxshow");n.queue||(u=x._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,x.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(c.display="inline-block")),n.overflow&&(c.overflow="hidden",f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],wn.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!p||p[r]===undefined)continue;h=!0}l[r]=p&&p[r]||x.style(e,r)}if(!x.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=q.access(e,"fxshow",{}),s&&(p.hidden=!h),h?x(e).show():f.done(function(){x(e).hide()}),f.done(function(){var t;q.remove(e,"fxshow");for(t in l)x.style(e,t,l[t])});for(r in l)o=Sn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[1]||{},u=2),"object"==typeof o||x.isFunction(o)||(o={}),a===u&&(o=this,--u);a>u;u++)if(null!=(e=arguments[u]))for(t in e)n=o[t],r=e[t],o!==r&&(f&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,s=n&&x.isArray(n)?n:[]):s=n&&x.isPlainObject(n)?n:{},o[t]=x.extend(f,s,r)):r!==undefined&&(o[t]=r));return o},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=j(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=j(e),u=[];if(o)for(;s>i;i++)r=t(e[i],i,n),null!=r&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(u[u.length]=r);return f.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===x.type(n)){i=!0;for(u in n)x.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(x(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},now:Date.now,swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),t=x(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,E;if((t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(9===a){if(o=t.getElementById(u),!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){if(m=p=b,g=t,E=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,E=l.join(",")}if(E)try{return H.apply(n,g.querySelectorAll(E)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){(!n||(r=X.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),a.push(i=[])),n=!1,(r=V.exec(u))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length));for(o in s.filter)!(r=G[o].exec(u))||f[o]&&!(r=f[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&"parentNode"===r,o=S++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=E+" "+o;if(u){while(t=t[r])if((1===t.nodeType||s)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||s)if(l=t[b]||(t[b]={}),(f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else if(f=l[r]=[c],f[1]=e(t,n,u)||i,f[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=null!=t;for(;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;i>a;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=s.filter[e[a].type].apply(null,e[a].matches),n[b]){for(r=++a;i>r;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),n,r>a&&St(e.slice(a,r)),i>r&&St(e=e.slice(r)),i>r&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],S=null!=p,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=E+=null==x?1:Math.random()||.1;for(S&&(f=a!==h&&a,i=n);null!=(d=T[b]);b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}S&&(E=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}if(y+=b,r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)w[b]||g[b]||(g[b]=D.call(c));g=wt(g)}H.apply(c,g),S&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return S&&(E=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&1===h.length){if(u=h[0]=h[0].slice(0),u.length>2&&"ID"===(f=u[0]).type&&r.getById&&9===t.nodeType&&d&&s.relative[u[1].type]){if(t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){if(f=u[o],s.relative[l=f.type])break;if((c=s.find[l])&&(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t))){if(u.splice(o,1),e=i.length&&gt(u),!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=e.document,E=0,S=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=RegExp("^"+I+"*,"+I+"*"),V=RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=RegExp(I+"*[+~]"),J=RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=RegExp(z),Q=RegExp("^"+R+"$"),G={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q.replace("w","w*")+")"),ATTR:RegExp("^"+U),PSEUDO:RegExp("^"+z),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:RegExp("^(?:"+F+")$","i"),needsContext:RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{H.apply(_=B.call(w.childNodes),w.childNodes),_[w.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=ot.support={},c=ot.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==h&&9===n.nodeType&&n.documentElement?(h=n,p=n.documentElement,d=!u(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ft(function(e){return p.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==A&&d?n.getElementsByClassName(e):t},m=[],v=[],(r.qsa=Y.test(n.querySelectorAll))&&(ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&RegExp(v.join("|")),m=m.length&&RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||y(w,e)?-1:t===n||y(w,t)?1:l?j.call(l,e)-j.call(l,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(e===t)return k=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:l?j.call(l,e)-j.call(l,t):0;if(s===o)return ct(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},n):h},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']"),!(!r.matchesSelector||!d||m&&m.test(t)||v&&v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;if(k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L),k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===E&&f[1],h=f[0]===E&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[E,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===E)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[b]||(c[b]={}))[e]=[E,h]),c===t))break;return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(F,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(h){for(t=e.memory&&h,n=!0,o=i||0,i=0,s=u.length,r=!0;u&&s>o;o++)if(u[o].apply(h[0],h[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,u,n))>-1)u.splice(n,1),r&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?x.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return!u||n&&!a||(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,s){var o=s[0],u=x.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,s=1===i?e:x.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=Array(r),a=Array(r),f=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),u=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=u.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(u,null!=u.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),u.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if("string"==typeof t)s[t]=n;else if(x.isEmptyObject(s))x.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(w)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],s=0,o=null;if(e===undefined){if(this.length&&(o=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>s;s++)r=n[s].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,o[r]));q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}}),x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),s=x._queueHooks(e,t),o=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(o--)n=q.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var R,M,W=/[\t\r\n\f]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(w)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){s=0;while(i=t[s++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(w)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,s=x(this),o=e.match(w)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;for(;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=x.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=x.inArray(x(r).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,t,n){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===r?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=x.find.attr(e,t),null==s?undefined:s):null!==n?i&&"set"in i&&(s=i.set(e,n,t))!==undefined?s:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(w);if(s&&1===e.nodeType)while(n=s[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!x.isXMLDoc(e),s&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],s=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,s}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;x.event={global:{},add:function(e,t,n,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=q.get(e);if(g){n.handler&&(o=n,n=o.handler,s=o.selector),n.guid||(n.guid=x.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(w)||[""],l=t.length;while(l--)a=X.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=x.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=x.event.special[d]||{},c=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&x.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=q.hasData(e)&&q.get(e);if(m&&(a=m.events)){t=(t||"").match(w)||[""],f=t.length;while(f--)if(u=X.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=x.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],!i&&v!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)x.event.remove(e,p+t[f],n,r,!0);x.isEmptyObject(a)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,u,a,f,l,c,h,p=[r||o],d=y.call(t,"type")?t.type:t,v=y.call(t,"namespace")?t.namespace.split("."):[];if(u=a=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(v=d.split("."),d=v.shift(),v.sort()),l=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),h=x.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!x.isWindow(r)){for(f=h.delegateType||d,_.test(f+d)||(u=u.parentNode);u;u=u.parentNode)p.push(u),a=u;a===(r.ownerDocument||o)&&p.push(a.defaultView||a.parentWindow||e)}s=0;while((u=p[s++])&&!t.isPropagationStopped())t.type=s>1?f:h.bindType||d,c=(q.get(u,"events")||{})[t.type]&&q.get(u,"handle"),c&&c.apply(u,n),c=l&&u[l],c&&x.acceptData(u)&&c.apply&&c.apply(u,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!x.acceptData(r)||l&&x.isFunction(r[d])&&!x.isWindow(r)&&(a=r[l],a&&(r[l]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,a&&(r[l]=a)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,s,o=[],u=d.call(arguments),a=(q.get(this,"events")||{})[e.type]||[],f=x.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,e)!==!1){o=x.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((x.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return f.postDispatch&&f.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==e.type){for(r=[],n=0;u>n;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?x(i,this).index(a)>=0:x.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return t.length>u&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new x.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(s=r,r=function(e){return x().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return!!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?x.unique(s):s)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nt=/<([\w:]+)/,rt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ut=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,s,o,u,a,l=0,c=this.length,h=this,p=c-1,d=e[0],v=x.isFunction(d);if(v||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d))return this.each(function(r){var i=h.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(s=x.map(mt(r,"script"),ft),o=s.length;c>l;l++)u=r,l!==p&&(u=x.clone(u,!0,!0),o&&x.merge(s,mt(u,"script"))),t.call(this[l],u,l);if(o)for(a=s[s.length-1].ownerDocument,x.map(s,ht),l=0;o>l;l++)u=s[l],at.test(u.type||"")&&!q.access(u,"globalEval")&&x.contains(a,u)&&(u.src?x._evalUrl(u.src):x.globalEval(u.textContent.replace(lt,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),s=i.length-1,o=0;for(;s>=o;o++)n=o===s?this:this.clone(!0),x(i[o])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(o=mt(u),s=mt(e),r=0,i=s.length;i>r;r++)yt(s[r],o[r]);if(t)if(n)for(s=s||mt(e),o=o||mt(u),r=0,i=s.length;i>r;r++)gt(s[r],o[r]);else gt(e,u);return o=mt(u,"script"),o.length>0&&dt(o,!a&&mt(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=0,c=e.length,h=t.createDocumentFragment(),p=[];for(;c>l;l++)if(i=e[l],i||0===i)if("object"===x.type(i))x.merge(p,i.nodeType?[i]:i);else if(rt.test(i)){s=s||h.appendChild(t.createElement("div")),o=(nt.exec(i)||["",""])[1].toLowerCase(),u=ct[o]||ct._default,s.innerHTML=u[1]+i.replace(tt,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;x.merge(p,s.childNodes),s=h.firstChild,s.textContent=""}else p.push(t.createTextNode(i));h.textContent="",l=0;while(i=p[l++])if((!r||-1===x.inArray(i,r))&&(a=x.contains(i.ownerDocument,i),s=mt(h.appendChild(i),"script"),a&&dt(s),n)){f=0;while(i=s[f++])at.test(i.type||"")&&n.push(i)}return h},cleanData:function(e){var t,n,r,i,s,o,u=x.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(F.accepts(n)&&(s=n[q.expando],s&&(t=q.cache[s]))){if(r=Object.keys(t.events||{}),r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);q.cache[s]&&delete q.cache[s]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,s={},o=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>o;o++)s[t[o]]=x.css(e,t[o],!1,r);return s}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=x.camelCase(t),a=e.style;return t=x.cssProps[u]||(x.cssProps[u]=At(a,u)),o=x.cssHooks[t]||x.cssHooks[u],n===undefined?o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t]:(s=typeof n,"string"===s&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),s="number"),null==n||"number"===s&&isNaN(n)||("number"!==s||x.cssNumber[u]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),o&&"set"in o&&(n=o.set(e,n,r))===undefined||(a[t]=n)),undefined)}},css:function(e,t,n,r){var i,s,o,u=x.camelCase(t);return t=x.cssProps[u]||(x.cssProps[u]=At(e.style,u)),o=x.cssHooks[t]||x.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(s=parseFloat(i),n===!0||x.isNumeric(s)?s||0:i):i}}),vt=function(e,t,n){var r,i,s,o=n||qt(e),u=o?o.getPropertyValue(t)||o[t]:undefined,a=e.style;return o&&(""!==u||x.contains(e.ownerDocument,e)||(u=x.style(e,t)),Ct.test(u)&&wt.test(t)&&(r=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=o.width,a.width=r,a.minWidth=i,a.maxWidth=s)),u},x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},s="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+jt[r]+t]=s[r]||s[r-2]||s[0];return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\[\]$/,Bt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(Wt,"+")},x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[],x.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),o.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){function T(e,t,s,u){var f,m,g,b,w,S=t;2!==y&&(y=2,o&&clearTimeout(o),n=undefined,i=u||"",E.readyState=e>0?4:0,f=e>=200&&300>e||304===e,s&&(b=pn(l,E,s)),b=fn(l,b,E,f),f?(l.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=E.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===l.type?S="nocontent":304===e?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),E.status=e,E.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,E]):p.rejectWith(c,[E,S,g]),E.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?m:g]),d.fireWith(c,[E,S]),a&&(h.trigger("ajaxComplete",[E,l]),--x.active||x.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=x.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?x(c):x.event,p=x.Deferred(),d=x.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s){s={};while(t=Qt.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)v[t]=[v[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),T(0,t),this}};if(p.promise(E).complete=d.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=x.trim(l.dataType||"*").toLowerCase().match(w)||[""],null==l.crossDomain&&(u=tn.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===Xt[1]&&u[2]===Xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=x.param(l.data,l.traditional)),ln(rn,l,t,E),2===y)return E;a=l.global,a&&0===x.active++&&x.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Zt.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(Vt.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),l.ifModified&&(x.lastModified[r]&&E.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&E.setRequestHeader("If-None-Match",x.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+sn+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)E.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&2!==y){b="abort";for(f in{success:1,error:1,complete:1})E[f](l[f]);if(n=ln(on,l,t,E)){E.readyState=1,a&&h.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{y=1,n.send(m,T)}catch(S){if(!(2>y))throw S;T(-1,S)}}else T(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||x.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),o&&x.isFunction(s)&&s(o[0]),o=s=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn)vn[e]();vn=undefined}),x.support.cors=!!gn&&"withCredentials"in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete vn[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status||404,o.statusText):r(mn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:undefined,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=vn[s=yn++]=t("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),s=i&&i[3]||(x.cssNumber[e]?"":"px"),o=(x.cssNumber[e]||"px"!==s&&+r)&&Tn.exec(x.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,x.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}}),x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),s=x.speed(t,n,r),o=function(){var t=jn(this,x.extend({},e),s);(i||q.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=x.timers,o=q.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&Cn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=x.timers,o=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(s=i.getBoundingClientRect()),n=Hn(o),{top:s.top+n.pageYOffset-t.clientTop,left:s.left+n.pageXOffset-t.clientLeft}):s},x.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=x.css(e,"position"),c=x(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=x.css(e,"top"),a=x.css(e,"left"),f=("absolute"===l||"fixed"===l)&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),x.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,s){var o=Hn(t);return s===undefined?o?o[n]:t[i]:(o?o.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):t[i]=s,undefined)},t,i,arguments.length,null)}}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,o):x.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)}(window),jQuery}),!function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.5.1";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(null==t?x.identity:t);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);r>i;)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;u||n.leading!==!1||(u=f);var l=t-(f-u);return r=this,i=arguments,0>=l?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):o||n.trailing===!1||(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i=null;return function(){var s=this,o=arguments,u=function(){i=null,n||(r=e.apply(s,o))},a=n&&!i;return clearTimeout(i),i=setTimeout(u,t),a&&(r=e.apply(s,o)),r}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,l=!0;if("[object Array]"==i){if(a=e.length,l=a==t.length)for(;a--&&(l=M(e[a],t[a],n,r)););}else{for(var c in e)if(x.has(e,c)&&(a++,!(l=x.has(t,c)&&M(e[c],t[c],n,r))))break;if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(null==e)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),define("backbone",["jquery","underscore"],function(e,t){return function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="1.0.0";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=o.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,a,f,c,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,f=o.length;a<f;a++){e=o[a];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(c=0,h=s.length;c<h;c++)i=s[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;typeof t=="object"&&(n=this),e&&((r={})[e._listenerId]=e);for(var s in r)r[s].off(t,n,this),i&&delete this._listeners[s];return this}},f=/\s+/,l=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(f.test(n)){var s=n.split(f);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};u.each(h,function(e,t){a[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=u.uniqueId("l"));return i[s]=t,typeof n=="object"&&(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,u.extend(o,a);var p=o.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},u.extend(this,u.pick(t,d)),t.parse&&(r=this.parse(r,t)||{});if(n=u.result(this,"defaults"))r=u.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},d=["url","urlRoot","collection"];u.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},j(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t;if(r&&(!n||!n.wait)&&!this.set(r,n))return!1;n=u.extend({validate:!0},n);if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=u.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var a=this,f=n.success;return n.success=function(e){a.attributes=o;var t=a.parse(e,n);n.wait&&(t=u.extend(r||{},t));if(u.isObject(t)&&!a.set(t,n))return!1;f&&f(a,e,n),a.trigger("sync",a,e,n)},j(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;j(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||B();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t||{},{validationError:n})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];u.each(v,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var m=o.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};u.extend(m.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.defaults(t||{},y))},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},set:function(e,t){t=u.defaults(t||{},g),t.parse&&(e=this.parse(e,t)),u.isArray(e)||(e=e?[e]:[]);var n,i,o,a,f,l,c=t.at,h=this.comparator&&c==null&&t.sort!==!1,p=u.isString(this.comparator)?this.comparator:null,d=[],v=[],m={};for(n=0,i=e.length;n<i;n++){if(!(o=this._prepareModel(e[n],t)))continue;(f=this.get(o))?(t.remove&&(m[f.cid]=!0),t.merge&&(f.set(o.attributes,t),h&&!l&&f.hasChanged(p)&&(l=!0))):t.add&&(d.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o))}if(t.remove){for(n=0,i=this.length;n<i;++n)m[(o=this.models[n]).cid]||v.push(o);v.length&&this.remove(v,t)}d.length&&(h&&(l=!0),this.length+=d.length,c!=null?s.apply(this.models,[c,0].concat(d)):r.apply(this.models,d)),l&&this.sort({silent:!0});if(t.silent)return this;for(n=0,i=d.length;n<i;n++)(o=d[n]).trigger("add",o,this,t);return l&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,r,n)},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},j(this,e),this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(b,function(e){m.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var w=["groupBy","countBy","sortBy"];u.each(w,function(e){m.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var E=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];u.extend(E.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(S),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,x)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}}),o.sync=function(e,t,n){var r=T[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||B()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,a,n),a};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var N=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,L=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(N.prototype,a,{initialize:function(){},route:function(e,t,n){u.isRegExp(e)||(e=this._routeToRegExp(e)),u.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return o.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),o.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=u.result(this,"routes");var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(L,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var O=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,_=/^\/+|\/+$/g,D=/msie [\w.]+/,P=/\/$/;O.started=!1,u.extend(O.prototype,a,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(P,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(_,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!O.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new O;var H=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};p.extend=m.extend=N.extend=E.extend=O.extend=H;var B=function(){throw new Error('A "url" property or function must be specified')},j=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),Backbone}),define("expressoAPI",["jquery","underscore","backbone"],function(e,t,n){jQuery.ajaxTransport("arraybuffer",function(e,t,n){return{send:function(t,r){n=new XMLHttpRequest,n.open(e.type,e.url),n.responseType=e.dataType,n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.timeout=e.xdrTimeout||Number.MAX_VALUE,n.onload=function(){e.loadArrayBuffer(n.response)},n.send(e.hasContent&&e.data||null)},abort:function(){n&&(n.onerror=jQuery.noop,n.abort())}}}),jQuery.ajaxTransport("fileupload",function(e,t,n){return{send:function(t,r){n=new XMLHttpRequest,n.open(e.type,e.url,!0);var i="AaB03x03923248232482",s="",o={id:e.id,params:e.params};s+="--"+i+"\r\n",s+='Content-Disposition: form-data; name="id"\r\n\r\n',s+=e.id,s+="\r\n";for(var u in e.params)s+="--"+i+"\r\n",s+='Content-Disposition: form-data; name="params['+u+']"\r\n',s+="Content-Type: text/plain; charset=UTF-8 \r\n\r\n",s+=unescape(encodeURIComponent(e.params[u].replace(/\t/g,""))),s+="\r\n";for(var u in e.files){var a=e.files[u];s+="--"+i+"\r\n",s+="Content-Disposition: form-data; name='upload"+u+"'; filename='"+a.filename+"'\r\n",s+="Content-Type: application/octet-stream\r\n",s+="Content-Transfer-Encoding: binary\r\n\r\n",e.files[u].dataType=="base64"?s+=a.data?a.data:atob(a.src.replace(/[^A-Za-z0-9\+\/\=]/g,""))+"\r\n":s+=e.files[u].src+"\r\n"}s+="--"+i+"--",n.setRequestHeader("content-type","multipart/form-data; boundary="+i),n.onload=function(){e.loadArrayBuffer(n.response)},n.onerror=function(){};if(typeof XMLHttpRequest.prototype.sendAsBinary=="undefined"){var f=new Uint8Array(Array.prototype.map.call(s,function(e){return e.charCodeAt(0)&255}));n.send(f.buffer)}else n.sendAsBinary(s)},abort:function(){n&&(n.onerror=jQuery.noop,n.abort())}}});var r=new function(){var t="0",n="",r="",i="",s=!0,o="",u={},a=[],f=!1,l=!1,c=[],h=!1,p=!1,d="",v=0,m=300,g=3600,y=86400,b=604800,w=2419200,E=["/Login","/Logout","/Mail/Send","/Mail/AddFolder","/Mail/DelFolder","/Mail/RenameFolder","/Mail/DelMessage","/Mail/CleanTrash","/Mail/SendSupportFeedback","/Preferences/ChangePassword","/Preferences/ChangeUserPreferences","/Services/Chat","/Catalog/ContactAdd","/Catalog/ContactDelete","/Calendar/AddEvent","/Calendar/DelEvent"],S=["/Mail/Messages","/Mail/Folders"],x=["/Preferences/UserPreferences","/Mail/Attachment"],T=["/Catalog/Contacts","/Calendar/Events","/Calendar/EventCategories"],N=["/ExpressoVersion","/Catalog/ContactPicture"],C=[],k,L,A,O;this.id=function(e){if(e==undefined)return t;var n=parseInt(String(e));return t=isNaN(n)?0:n,u[t]={},this.resource("").type("POST").params({}).done().always().fail(this.defaultErrorCallback),this._isOffline=!1,this._ignoreCache=!1,this},this.defaultErrorCallback=function(e){},this.getRequest=function(e){var t={};t.resource=this.resource(),t.params=this.params(),t.date=Date.now();var n=Object.keys(t.params);return t.response=e,t.timeToLive=0,E.indexOf(t.resource)>=0&&(t.timeToLive=v),S.indexOf(t.resource)>=0&&(t.timeToLive=m),x.indexOf(t.resource)>=0&&(t.timeToLive=g),T.indexOf(t.resource)>=0&&(t.timeToLive=y),N.indexOf(t.resource)>=0&&(t.timeToLive=b),C.indexOf(t.resource)>=0&&(t.timeToLive=w),t.resource=="/Mail/Messages"&&t.params.msgID!=undefined&&(t.timeToLive=w),t},this.getCacheResponse=function(e,t){var n=this,r=e.resource,i=e.params,s=e.timeToLive*1e3,o=function(e){n._cache=e;var o=!1;for(var u in e)if(r==e[u].resource){var a=!0;for(var f in i)f!="auth"&&i[f]!=e[u].params[f]&&(a=!1);if(a)if(n._isOffline==0){var l=new Date;s>l-e[u].date&&(o=e[u])}else o=e[u]}t(o)},u=function(){t(!1)};this.getLocalStorageValue(this.getCacheID(),o,u)},this.createRequest=function(e,t,n){var r={};return r.params={},r.resource=e,r.params=t,r},this.triggerCacheRequest=function(e,t){var n=[];n.push(this.createRequest("/Login",{}));if(t.resource=="/Mail/AddFolder"||t.resource=="/Mail/RenameFolder"||t.resource=="/Mail/DelFolder")n.push(this.createRequest("/Mail/Folders",{})),n.push(this.createRequest("/Mail/Messages",{folderID:t.params.folderID})),n.push(this.createRequest(t.resource,{}));t.resource=="/Mail/DelMessage"&&(n.push(this.createRequest("/Mail/Messages",{folderID:t.params.folderID,msgID:""})),n.push(this.createRequest("/Mail/Messages",{folderID:t.params.folderID,msgID:t.params.msgID})),n.push(this.createRequest("/Mail/DelMessage",{folderID:t.params.folderID,msgID:t.params.msgID}))),t.resource=="/Preferences/ChangeUserPreferences"&&(n.push(this.createRequest("/Preferences/UserPreferences",{})),n.push(this.createRequest("/Preferences/ChangeUserPreferences",{}))),t.resource=="/Calendar/AddEvent"&&n.push(this.createRequest("/Calendar/Events",{})),t.resource=="/Calendar/DelEvent"&&n.push(this.createRequest("/Calendar/Events",{}));var r=!1,i=[],s=[];r&&(console.log("request: "+t.resource+" - "+JSON.stringify(t.params)),console.log("filterRequestsLength:"+n.length),console.log("currentCacheLenght: "+e.length));if(n.length!=0){for(var o in n){r&&console.log("filter: "+n[o].resource+" - "+JSON.stringify(n[o].params));for(var u in e){r&&console.log("Cache "+u+":"+e[u].resource+" - "+JSON.stringify(e[u].params));if(e[u].resource==n[o].resource){var a=!0;for(var f in n[o].params)for(var l in e[u].params)l==f&&e[u].params[l]!=n[o].params[f]&&(a=!1);a&&i.push(u)}}}r&&(console.log("WillRemoveFromCache"),console.log(i));for(var o in e)i.indexOf(o)<0&&s.push(e[o])}else s=e;return s},this.getCacheID=function(){return"expressoCache"},this.addToCache=function(e,t){var n=this,r=function(e,t,r){r==undefined&&(r=[]),n._cache=r;var i=e.params,s=!1;for(var o in n._cache)if(e.resource==n._cache[o].resource){var u=!0;for(var a in i)a!="auth"&&i[a]!=n._cache[o].params[a]&&(u=!1);u&&t.result&&(n._cache[o].date=Date.now(),n._cache[o].response=t,s=e)}s||t.result&&(e.response=t,n._cache.push(e)),n._cache=n.triggerCacheRequest(n._cache,e),n.setLocalStorageValue(n.getCacheID(),n._cache)},i=function(n){r(e,t,n)},s=function(){console.log("ERROR - FROM CACHE"),r(e,t,n._cache)};this.getLocalStorageValue(this.getCacheID(),i,s)},this.ignoreCache=function(e){return e==undefined?p:(p=e,this)},this.crossdomain=function(e){return e==undefined?r:(r=String(e),this)},this.context=function(e){return e==undefined?n:(n=e?e=="/"?"":String(e).replace(/\/+$/g,""):".",this)},this.auth=function(e){return e==undefined?i:(i=String(e),this)},this.phoneGap=function(e){return e==undefined?f:(f=e,this)},this.android=function(e){return e==undefined?l:(l=e,this)},this.debug=function(e){return e==undefined?s:(s=String(e).toLowerCase()=="true",this)},this.dataType=function(e){return e==undefined?o:(o=e,this)},this.resource=function(e){return e==undefined?u[t].resource:(o="",u[t].resource="/"+String(e).replace(/^\/*|\/*$/g,""),this)},this.type=function(e){return e==undefined?u[t].type:(u[t].type=e.toUpperCase()=="GET"?"GET":"POST",this)},this.clearFiles=function(){return a=[],this},this.addFile=function(e,t,n){return a.push({filename:t,src:e,dataType:n}),this},this.params=function(e){return e==undefined?u[t].params:(u[t].params=e,this)},this.done=function(e){return u[t].done=e,this},this.fail=function(e){return u[t].fail=e,this},this.always=function(e){return u[t].always=e,this},this.url=function(){return f?this.context()+this.resource():this.context()+this.resource()+(r?"?crossdomain="+r:"")},this.setCookie=function(e,t,n){window.localStorage.setItem(e,t)},this.read_cookie=function(e){},this.updatePhonegapDatabase=function(e){var t=JSON.stringify(L),n="UPDATE expresso set data = '"+t+"' where id = '1'";e.executeSql(n)},this.updatePhonegapCache=function(e){var t=JSON.stringify(A),n="UPDATE expressoCache set data = '"+t+"' where id = '1'";e.executeSql(n)},this.getPhonegapDatabaseValue=function(e){var t=this,n=function(e,t){if(t){var n=t.rows.length;for(var r=0;r<n;r++)O=JSON.parse(t.rows.item(r).data),_tempCallback!=undefined&&_tempCallback(O)}else console.log("NO-RESULTS")},r="SELECT * FROM expresso where id = '1'";e.executeSql(r,[],n,t.errorCB)},this.getPhonegapCacheValue=function(e){var t=function(e,t){if(t){var n=t.rows.length;for(var r=0;r<n;r++)_tempResultCache=JSON.parse(t.rows.item(r).data),_tempCallbackCache!=undefined&&_tempCallbackCache(_tempResultCache)}else console.log("NO-RESULTS")},n=function(e){console.log("errorCache")},r="SELECT * FROM expressoCache where id = '1'";e.executeSql(r,[],t,n)},this.clearCache=function(e){this.setLocalStorageValue(e,[])},this.setLocalStorageValue=function(e,t){if(window.localStorage!=undefined)try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return window.localStorage.setItem("expressoCache","[]"),!1}},this.removeLocalStorageValue=function(e){window.localStorage.removeItem(e)},this.getLocalStorageValue=function(e,t,n){if(window.localStorage!=undefined)var r=window.localStorage.getItem(e);r?t(JSON.parse(r)):n&&n()},this.errorCB=function(e){},this.successCB=function(e){},this.populatePhoneGapDatabase=function(e){e.executeSql("DROP TABLE IF EXISTS expresso"),e.executeSql("DROP TABLE IF EXISTS expressoCache");var t={auth:"",profile:"",username:"",password:"",phoneGap:!0,serverAPI:"",settings:{resultsPerPage:30,automaticLogin:!1,mailSignature:"Mensagem enviada pelo Expresso Mobile."}},n=JSON.stringify(t),r=JSON.stringify([]);e.executeSql("CREATE TABLE IF NOT EXISTS expresso (id unique, data)"),e.executeSql("CREATE TABLE IF NOT EXISTS expressoCache (id unique, data)");var i="INSERT INTO expresso (id, data) VALUES ('1', '"+n+"')";e.executeSql(i),i="INSERT INTO expressoCache (id, data) VALUES ('1', '"+r+"')",e.executeSql(i)},this.createPhoneGapDatabase=function(){},this.readCookie=function(e){var t=window.localStorage.getItem(e);if(t)return t},this.options=function(e){for(var t in e)this.hasOwnProperty(t)&&this[t](e[t]);return this},this.conf=function(){u[t].send={},u[t].send.id=t,u[t].send.params=this.params(),i&&(u[t].send.params.auth=i);var e={};return e.headers={},e.xhrFields={withCredentials:!1},f?(e.id=t,e.type=this.type(),e.url=this.url(),e.data=u[t].send,e.params=u[t].send.params,e.crossDomain=!0,e.phoneGap=f,this.dataType()=="arraybuffer"?(e.dataType=this.dataType(),e.loadArrayBuffer=function(e){u[this.id].done&&u[this.id].done(e,u[this.id].send)}):this.dataType()=="fileupload"?(e.dataType=this.dataType(),e.files=a,e.loadArrayBuffer=function(e){var t=JSON.parse(e);t&&t.error&&t.error.message?u[this.id].fail&&u[this.id].fail(t.error,u[this.id].send):u[this.id].done&&u[this.id].done(t.result,u[this.id].send)}):e.timeout=3e4):(e.id=t,e.type=this.type(),e.url=this.url(),e.data=u[t].send,e.params=u[t].send.params,e.phoneGap=f,this.dataType()=="arraybuffer"?(e.dataType=this.dataType(),e.loadArrayBuffer=function(e){u[this.id].done&&u[this.id].done(e,u[this.id].send)}):this.dataType()=="fileupload"?(e.dataType=this.dataType(),e.files=a,e.loadArrayBuffer=function(e){u[this.id].done&&u[this.id].done(e,u[this.id].send)}):e.timeout=3e4),e},this.execute=function(){var n=this,r=this.conf();s=!1,s&&(console.log("ExpressoAPI - Execute:"+this.resource()),console.log(r));var i={error:{code:100,message:"Verifique sua conexão com a Internet."}},o={error:{code:100,message:"Esgotou-se o tempo limite da solicitação."}};if(f&&l){var a=navigator.connection.type;a==Connection.NONE&&(n._isOffline=!0,u[this.id()].fail&&u[this.id()].fail(i))}else if(!f){var c=navigator.onLine;c||(n._isOffline=!0,console.log("OFFLINEEEE"),u[this.id()].fail&&u[this.id()].fail(i))}this._data=u,r.error=function(e,t,r){t==="timeout"?(n._isOffline=!0,u[n.id()].fail&&u[n.id()].fail(o)):n._isOffline=!0};var h=this.getRequest();n._isOffline==0||n._isOffline==undefined?e("#isOffline").hide():e("#isOffline").show();var p=function(t){n.ignoreCache()==1&&(t=!1),t!=0&&t.response.result!=undefined&&t.response!=undefined?t.response.result&&t.response?n._data[n.id()].done&&n._data[n.id()].done(t.response.result,n._data[n.id()].send):n._data[n.id()].fail&&n._data[n.id()].fail(t.response,n.data[n.id()].send):(n._isOffline==0||n._isOffline==undefined)&&jQuery.ajax(r).done(function(t){!t.result&&!t.error&&(t=JSON.parse(t)),n.addToCache(h,t);if(t&&t.result)s&&(console.log("ExpressoAPI - DONE callback"),console.log(JSON.stringify(t))),t.result.auth&&n.auth(t.result.auth),u[this.id]&&(u[this.id].resource=="/Logout"&&n.auth(""),u[this.id].done&&u[this.id].done(t.result,u[this.id].send));else{s&&(console.log("ExpressoAPI - ERROR callback"),console.log(JSON.stringify(t)));if(t.error.code==100){s&&(console.log("ExpressoAPI - OFFLINE ERROR"),console.log(JSON.stringify(t))),e("#isOffline").show(),n._isOffline=!0;var r=n,i=u,o=this.id,a=function(e){e?e.response.result&&e.response&&i[o].done&&i[o].done(e.response.result,i[o].send):i[o].fail&&i[o].fail(t,i[o].send)};n.getCacheResponse(h,a)}else u[this.id].fail&&u[this.id].fail(t,u[this.id].send)}n.ignoreCache(!1)}).fail(function(e){s&&(console.log("ExpressoAPI - FAIL callback"),console.log(JSON.stringify(e))),u[this.id].fail&&u[this.id].fail(e,u[this.id].send),n.ignoreCache(!1)}).always(function(){s&&console.log("ExpressoAPI - ALWAYS callback"),u[this.id]&&(u[this.id].always&&u[this.id].always(u[this.id].send),delete u[this.id]),n.ignoreCache(!1)})};return this.getCacheResponse(h,p),this.id(t+1),this}};return r}),define("jquery_xmpp",["jquery"],function(e){(function(e){var r=new function(){var e,t={};this.id=function(n){if(n==undefined)return e;var r=parseInt(String(n));return e=isNaN(r)?0:r,t[e]={stage:0},this.url("").type("POST").params({}).done().always().fail(),this},this.url=function(n){return n==undefined?t[e].url:(t[e].url=n,this)},this.type=function(n){return n==undefined?t[e].type:(t[e].type=n.toUpperCase()=="GET"?"GET":"POST",this)},this.params=function(n){return n==undefined?t[e].params:(t[e].params=n,this)},this.done=function(n){return t[e].done=n,this},this.fail=function(n){return t[e].fail=n,this},this.always=function(n){return t[e].always=n,this},this.options=function(e){for(var t in e)this.hasOwnProperty(t)&&this[t](e[t]);return this},this.length=function(){var e=0,n;for(n in t)t.hasOwnProperty(n)&&t[n].stage>0&&e++;return e},this.conf=function(){t[e].send={},t[e].send.id=e,t[e].send.params=this.params();var n={};return n.id=e,n.type=this.type(),n.url=this.url(),n.data=this.params(),n.dataType="text",n},this.transport=function(){return window.XDomainRequest&&jQuery.ajaxTransport(function(e,n){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var r;return{send:function(i,u){function a(e,t,n,i){r.onload=r.onerror=r.ontimeout=jQuery.noop,r=undefined,u(e,t,n,i)}r=new XDomainRequest,n.id!=undefined&&(t[n.id].xdr=r),r.onload=function(){a(200,"OK",{text:r.responseText},"Content-Type: "+r.contentType)},r.onerror=function(){a(404,"Not Found")},r.onprogress=function(){},r.ontimeout=function(){a(0,"timeout")},r.timeout=e.xdrTimeout||Number.MAX_VALUE,r.open(e.type,e.url),r.send(e.hasContent&&e.data||null)},abort:function(){r&&(r.onerror=jQuery.noop,r.abort())}}}}),this},this.execute=function(){var n=this.conf();return t[e].stage=1,t[e].ajax=jQuery.ajax(n).done(function(e){if(t[this.id]==undefined)return;t[this.id].stage=-1,t[this.id].send.response=e,t[this.id].done&&t[this.id].done(e,t[this.id].send)}).fail(function(e){if(t[this.id]==undefined)return;t[this.id].stage=-1,t[this.id].fail&&t[this.id].fail(e,t[this.id].send)}).always(function(){if(t[this.id]==undefined)return;t[this.id].always&&t[this.id].always(t[this.id].send),delete t[this.id]}),this.id(e+1),this},this.abortAll=function(){var n=t[e];return t={},t[e]=n,this}};r.transport().id(0),e.xmpp={rid:null,sid:null,jid:null,url:null,uri:null,myPresence:"unavailable",domainJabber:"",listening:!1,hasConn:!1,onRoster:null,onMessage:null,onIq:null,onComposing:null,onPresence:null,onError:null,connections:0,resource:null,connected:!1,wait:60,inactivity:60,_jsTimeout:null,_timeoutMilis:500,__lastAjaxRequest:null,connect:function(t){this.rid=Math.round(Math.random()*Math.pow(10,10)),this.jid=t.username+"@"+t.domain;var n=t.domain;this.domainJabber=t.domain,this.hasConn=!0;var r=this;t.url==null?this.url="/http-bind":this.url=t.url,isNaN(t.wait)||(this.wait=t.wait),this._timeoutMilis=r.wait*1e3,isNaN(t.inactivity)||(this.inactivity=t.inactivity),this.uri=this.jid,t.resource==null?this.resource="":(this.resource=t.resource,this.uri+="/"+this.resource),this.onMessage=t.onMessage,this.onIq=t.onIq,this.onPresence=t.onPresence,this.onError=t.onError,this.onDisconnect=t.onDisconnect,this.onConnect=t.onConnect,this.onRoster=t.onRoster,this.onComposing=t.onComposing;var i="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' to='"+n+"' xml:lang='en' wait='"+this.wait+"' inactivity='"+this.inactivity+"' hold='1' content='text/xml; charset=utf-8' ver='1.6' xmpp:version='1.0' xmlns:xmpp='urn:xmpp:xbosh'/>";e.post(this.url,i,function(n){var i=e(r.fixBody(n));r.sid=i.attr("sid"),i.find("mechanism:contains('PLAIN')").length?r.loginPlain(t):i.find("mechanism:contains('DIGEST-MD5')").length?r.loginDigestMD5(t):r.onError!=null&&r.onError({error:"No auth method supported",data:n})},"text")},attach:function(e){this.jid=e.username+"@"+e.domain,this.sid=e.sid,this.rid=e.rid;var t=this;e.url==null?this.url="/http-bind":this.url=e.url,this.uri=this.jid,e.resource==null?this.resource="":(this.resource=e.resource,this.uri+="/"+this.resource),this.onMessage=e.onMessage,this.onIq=e.onIq,this.onPresence=e.onPresence,this.onError=e.onError,this.onDisconnect=e.onDisconnect,this.onConnect=e.onConnect,isNaN(e.wait)||(this.wait=e.wait),this._timeoutMilis=t.wait*1e3,e.onConnect!=null&&(t.connected=!0),e.onConnect(),t.listen()},disconnectSync:function(t){var n=this;n.rid=n.rid+1,this.listening=!0,n.connections=n.connections+1;var r="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+this.sid+"' type='terminate'><presence xmlns='jabber:client' type='unavailable'/></body>";e.ajax({type:"POST",url:this.url,data:r,success:function(e){n.connections=n.connections-1,n.messageHandler(e),n.listening=!1,t!=null&&t(e),n.onDisconnect!=null&&(n.connected=!1),n.onDisconnect(e),n.myPresence="unavailable"},dataType:"text",async:!1})},disconnect:function(t){this.hasConn=!1;var n=this;n.rid=n.rid+1,this.listening=!0,n.connections=n.connections+1;var r="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+this.sid+"' type='terminate'><presence xmlns='jabber:client' type='unavailable'/></body>";e.post(this.url,r,function(e){n.connections=n.connections-1,n.messageHandler(e),n.listening=!1,n.myPresence="unavailable",t!=null&&t(e),n.onDisconnect!=null&&(n.connected=!1),n.onDisconnect(e)},"text")},loginDigestMD5:function(r){var i=this;this.rid++;var s="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+this.sid+"'><auth xmlns='urn:ietf:params:xml:ns:xmpp-sasl' mechanism='DIGEST-MD5'/></body>";e.post(this.url,s,function(s){var o=e(s),u=r.domain,a=r.username,f=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,l=t.decode(o.text()),c=n.hexdigest(""+Math.random()*1234567890),h="",p=null,d="",v="",m;while(l.match(f)){m=l.match(f),l=l.replace(m[0],""),m[2]=m[2].replace(/^"(.+)"$/,"$1");switch(m[1]){case"realm":h=m[2];break;case"nonce":d=m[2];break;case"qop":v=m[2];break;case"host":p=m[2]}}var g="xmpp/"+u;p!==null&&(g=g+"/"+p);var y=n.hash(a+":"+h+":"+r.password)+":"+d+":"+c,b="AUTHENTICATE:"+g,w="";w+="username="+i._quote(a)+",",w+="realm="+i._quote(h)+",",w+="nonce="+i._quote(d)+",",w+="cnonce="+i._quote(c)+",",w+='nc="00000001",',w+='qop="auth",',w+="digest-uri="+i._quote(g)+",",w+="response="+i._quote(n.hexdigest(n.hexdigest(y)+":"+d+":00000001:"+c+":auth:"+n.hexdigest(b)))+",",w+='charset="utf-8"',i.rid++;var E="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><response xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>"+t.encode(w)+"</response></body>";e.post(this.url,E,function(t){var n=e(i.fixBody(t));if(!n.find("failure").length){i.rid++;var s="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><response xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/></body>";e.post(this.url,s,function(t){var n=e(i.fixBody(t));if(n.find("success").length){i.rid++;var s="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"' to='"+u+"' xml:lang='en' xmpp:restart='true' xmlns:xmpp='urn:xmpp:xbosh'/>";e.post(this.url,s,function(t){i.rid++;var n="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><iq type='set' id='_bind_auth_2' xmlns='jabber:client'><bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'><resource>"+i.resource+"</resource></bind></iq></body>";e.post(this.url,n,function(t){i.rid++;var n="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><iq type='set' id='_session_auth_2' xmlns='jabber:client'><session xmlns='urn:ietf:params:xml:ns:xmpp-session'/></iq></body>";e.post(this.url,n,function(e){r.onConnect!=null&&(i.connected=!0),r.onConnect(e),i.listen()},"text")},"text")},"text")}else i.onError!=null&&i.onError({error:"Invalid credentials",data:t})},"text")}else i.onError!=null&&i.onError({error:"Invalid credentials",data:t})},"text")},"text")},_quote:function(e){return'"'+e+'"'},loginPlainPHP:function(t){this.rid++;var n=t.domain,r=this,i="",s=this.url;e.post("bind.php",s,function(o){var u=e.trim(o),a="<body rid='"+r.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+r.sid+"'><auth xmlns='urn:ietf:params:xml:ns:xmpp-sasl' mechanism='PLAIN'>"+u+"</auth></body>";e.post(r.url,a,function(o){var u=e(r.fixBody(o));u.find("success").length?(r.rid++,i="<body rid='"+r.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+r.sid+"' to='"+n+"' xml:lang='en' xmpp:restart='true' xmlns:xmpp='urn:xmpp:xbosh'/>",e.post(s,i,function(n){r.rid++,i="<body rid='"+r.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+r.sid+"'><iq type='set' id='_bind_auth_2' xmlns='jabber:client'><bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'><resource>"+r.resource+"</resource></bind></iq></body>",e.post(s,i,function(n){r.rid++,i="<body rid='"+r.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+r.sid+"'><iq type='set' id='_session_auth_2' xmlns='jabber:client'><session xmlns='urn:ietf:params:xml:ns:xmpp-session'/></iq></body>",e.post(s,i,function(e){t.onConnect!=null&&(r.connected=!0),t.onConnect(e),r.listen()},"text")},"text")},"text")):t.onError!=null&&t.onError({error:"Invalid credentials",data:o})},"text")},"text")},loginPlain:function(t){if(this.jid!=null&&e.trim(this.jid)!=""&&t.password!=undefined&&e.trim(t.password)!=""){this.rid++;var n=t.username,r=t.domain,i=this,s="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+this.sid+"'><auth xmlns='urn:ietf:params:xml:ns:xmpp-sasl' mechanism='PLAIN'>"+t.password+"</auth></body>",o=this.url;e.post(this.url,s,function(n){var u=e(i.fixBody(n));u.find("success").length?(i.rid++,s="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"' to='"+r+"' xml:lang='en' xmpp:restart='true' xmlns:xmpp='urn:xmpp:xbosh'/>",e.post(o,s,function(n){i.rid++,s="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><iq type='set' id='_bind_auth_2' xmlns='jabber:client'><bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'><resource>"+i.resource+"</resource></bind></iq></body>",e.post(o,s,function(n){i.rid++,s="<body rid='"+i.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+i.sid+"'><iq type='set' id='_session_auth_2' xmlns='jabber:client'><session xmlns='urn:ietf:params:xml:ns:xmpp-session'/></iq></body>",e.post(o,s,function(e){t.onConnect!=null&&(i.connected=!0),t.onConnect(e),i.listen()},"text")},"text")},"text")):t.onError!=null&&t.onError({error:"Invalid credentials",data:n})},"text")}else this.loginPlainPHP(t)},__networkError:function(){e.xmpp.onError!=null&&e.xmpp.onError({error:"Network error"}),e.xmpp.onDisconnect!=null&&e.xmpp.onDisconnect(),r.abortAll(),e.xmpp.connections=e.xmpp.connections-1,e.xmpp.listening=!1,e.xmpp.connected=!1},listen:function(){var t=this;r.length()==0&&t.sid!=null&&t.rid!=null&&this.hasConn&&(t.rid=t.rid+1,t.connections=t.connections+1,r.url(t.url).params("<body rid='"+t.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+t.sid+"'></body>").done(function(n,r,i,s){t.connections=t.connections-1,t.listening=!1;var o=e(t.fixBody(n));o.children().length>0&&t.messageHandler(n),t.listen()}).fail(function(e,n,r){t.__networkError(),t.onError({error:r,data:n})}).execute())},sendCommand:function(e,t){var n=this;this.rid=this.rid+1,this.listening=!0,this.connections=this.connections+1;var i="<body rid='"+this.rid+"' xmlns='http://jabber.org/protocol/httpbind' sid='"+this.sid+"'>"+e+"</body>";r.url(n.url).params(i).done(function(e){n.connections=n.connections-1,n.messageHandler(e),n.listening=!1,n.listen(),t!=null&&t(e)}).fail(function(){n.__networkError(),r.abortAll()}).execute()},sendMessage:function(e,t,n){var r=e.to,i=e.body;e.resource!=null?r=r+"/"+e.resource:this.resource!=""&&(r=r+"/"+this.resource),delete e.to,delete e.body,delete e.resource;var s="<message type='chat' to='"+r+"' xmlns='jabber:client'><body>"+i+"</body></message>";this.sendCommand(s,n)},setPresence:function(e,t){var n="<presence xmlns='jabber:client'>";e!=null&&(e.show&&e.show!=null&&e.show!="available"&&(n+="<show>"+e.show+"</show>"),e.status&&(n+="<status>"+e.status+"</status>")),n+="</presence>",e==null?this.myPresence="available":this.myPresence=e.show==null?"available":e.show,this.sendCommand(n,t)},isConnected:function(){return this.connected},getMyPresence:function(){return this.myPresence},getRoster:function(e){var t="<iq type='get'><query xmlns='jabber:iq:roster'/></iq>";this.sendCommand(t)},getDomain:function(){return this.domainJabber},addContact:function(t){if(e.trim(this.jid)!=e.trim(t.to)){var n="<iq from='"+this.jid+"/"+this.resource+"' type='set' id='set1'>";n+="<query xmlns='jabber:iq:roster'>",n+="<item jid='"+t.to+"' name='"+t.name+"'>",e.trim(t.group)!=""&&t.group!=null&&(n+="<group>"+t.group+"</group>"),n+="</item></query>",n+="</iq>",this.sendCommand(n)}},deleteContact:function(e){var t="<iq from='"+this.jid+"' id='delete' type='set'>"+"<query xmlns='jabber:iq:roster'>"+"<item jid='"+e.to+"' subscription='remove'/>"+"</query>"+"</iq>";this.sendCommand(t)},updateContact:function(e){var t="<iq from='"+this.jid+"' type='set' id='updateContact'>"+"<query xmlns='jabber:iq:roster'>"+"<item jid='"+e.jid+"' name='"+e.name+"' subscription='"+e.subscription+"'>"+"<group>"+e.group+"</group>"+"</item>"+"</query>"+"</iq>";this.sendCommand(t)},subscription:function(t){if(this.jid!=e.trim(t.to)){var n="<presence from='"+this.jid+"' to='"+t.to+"' type='"+t.type+"'></presence>";this.sendCommand(n)}},isWriting:function(e){var t="";switch(e.isWriting){case"active":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'><active xmlns='http://jabber.org/protocol/chatstates'/></message>";break;case"inactive":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'><inactive xmlns='http://jabber.org/protocol/chatstates'/></message>";break;case"composing":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'><composing xmlns='http://jabber.org/protocol/chatstates'/></message>";break;case"gone":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'><gone xmlns='http://jabber.org/protocol/chatstates'/></message>";break;case"paused":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'><paused xmlns='http://jabber.org/protocol/chatstates'/></message>";break;case"x":t="<message type='chat' to='"+e.to+"' from='"+this.jid+"/"+this.resource+"'>",t+="<x xmlns='jabber:x:event'><offline/><composing/><delivered/><displayed/></x>",t+="</message>"}this.sendCommand(t)},getPresence:function(){var e="<presence/>",t=this;this.sendCommand(e,function(e){t.messageHandler(e,t)})},messageHandler:function(t,n){var r=this,i=e(r.fixBody(t));e.each(i.find("message"),function(t,n){try{var i=e(n),s=e(n).find("active"),o=e(n).find("composing"),u=e(n).find("inactive"),a=e(n).find("gone"),f=e(n).find("paused"),l=e(n).find("div");if(l.length>0)r.onMessage({from:i.attr("from"),to:i.attr("to"),body:l.html()});else{var c=function(e,t,n,i){r.onComposing({from:t,to:e,state:n,type:i})};s.length>0&&c(i.attr("to"),i.attr("from"),"active",i.attr("type")),o.length>0&&c(i.attr("to"),i.attr("from"),"composing",i.attr("type")),u.length>0&&c(i.attr("to"),i.attr("from"),"inactive",i.attr("type")),f.length>0&&c(i.attr("to"),i.attr("from"),"paused",i.attr("type")),a.length>0&&c(i.attr("to"),i.attr("from"),"gone",i.attr("type"))}}catch(i){}}),e.each(i.find("query").find("item"),function(t,n){try{var s=e(n);if(e.trim(s.attr("subscription"))!="remove"){var o="unavailable";i.find("iq").attr("type")=="set"&&s.attr("subscription")!="none"&&(o="available"),r.onRoster({ask:s.attr("ask"),jid:s.attr("jid"),name:s.attr("name"),subscription:s.attr("subscription"),show:o,group:e.trim(e(this).find("group").html())?e(this).find("group").html():""})}}catch(s){}}),e.each(i.find("iq"),function(t,n){try{var i=e(n);i.find("query")&&e.trim(i.find("query").attr("xmlns"))=="jabber:iq:roster"?i.find("item").each(function(){e.trim(i.attr("subscription"))!="remove"&&r.onRoster({jid:i.attr("jid"),name:i.attr("name"),subscription:i.attr("subscription"),group:e.trim(e(this).find("group").html())?e(this).find("group").html():""})}):r.onIq(i)}catch(i){}}),e.each(i.find("presence"),function(t,n){try{var i=e(n);if(i.attr("type")&&e.trim(i.attr("type"))!="unavailable")r.onRoster({jid:i.attr("from"),name:"",show:i.attr("type"),subscription:e.trim(i.attr("type"))==="subscribed"?"both":i.attr("type"),group:""}),e.trim(i.attr("type"))=="subscribe"&&r.subscription({to:i.attr("from"),type:"subscribed"}),e.trim(i.attr("type"))=="subscribed"&&r.subscription({to:i.attr("from"),type:"subscribe"});else{var s="";i.find("status").length>0&&(s=i.find("status").html(),s=s.replace(")",""),s=s.replace("(","")),r.onPresence({from:i.attr("from"),to:i.attr("to"),show:i.find("show").html()?i.find("show").html():i.attr("type")?i.attr("type"):"available",status:s})}}catch(i){}})},fixBody:function(e){return e=e.replace(/onblur/gi,"EVENT_DENY"),e=e.replace(/onchange/gi,"EVENT_DENY"),e=e.replace(/onclick/gi,"EVENT_DENY"),e=e.replace(/ondblclick/gi,"EVENT_DENY"),e=e.replace(/onerror/gi,"EVENT_DENY"),e=e.replace(/onfocus/gi,"EVENT_DENY"),e=e.replace(/onkeydown/gi,"EVENT_DENY"),e=e.replace(/onkeypress/gi,"EVENT_DENY"),e=e.replace(/onkeyup/gi,"EVENT_DENY"),e=e.replace(/onmousedown/gi,"EVENT_DENY"),e=e.replace(/onmousemove/gi,"EVENT_DENY"),e=e.replace(/onmouseout/gi,"EVENT_DENY"),e=e.replace(/onmouseover/gi,"EVENT_DENY"),e=e.replace(/onmouseup/gi,"EVENT_DENY"),e=e.replace(/onresize/gi,"EVENT_DENY"),e=e.replace(/onselect/gi,"EVENT_DENY"),e=e.replace(/onunload/gi,"EVENT_DENY"),e=e.replace(/style/gi,"EVENT_DENY"),e=e.replace(/img /gi,"IMG_DENY "),e=e.replace(/script /gi,"SCRIPT_DENY "),e=e.replace(/div /gi,"DIV_DENY "),e=e.replace(/span /gi,"SPAN_DENY "),e=e.replace(/iframe /gi,"IFRAME_DENY "),e=e.replace(/<\/body>/ig,"</div>"),e=e.replace(/<body/ig,"<div class='body'"),e},handlePing:function(e){var t=this,n=e.attr("id"),r=e.attr("from"),i=e.attr("to");t.sendCommand("<iq from='"+i+"' to='"+r+"' id='"+n+"' type='result'/>")}}})(jQuery);var t=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t={encode:function(t){var n="",r,i,s,o,u,a,f,l=0;do r=t.charCodeAt(l++),i=t.charCodeAt(l++),s=t.charCodeAt(l++),o=r>>2,u=(r&3)<<4|i>>4,a=(i&15)<<2|s>>6,f=s&63,isNaN(i)?a=f=64:isNaN(s)&&(f=64),n=n+e.charAt(o)+e.charAt(u)+e.charAt(a)+e.charAt(f);while(l<t.length);return n},decode:function(t){var n="",r,i,s,o,u,a,f,l=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),f=e.indexOf(t.charAt(l++)),r=o<<2|u>>4,i=(u&15)<<4|a>>2,s=(a&3)<<6|f,n+=String.fromCharCode(r),a!=64&&(n+=String.fromCharCode(i)),f!=64&&(n+=String.fromCharCode(s));while(l<t.length);return n}};return t}(),n=function(){var e=0,t="",r=8,i=function(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535},s=function(e,t){return e<<t|e>>>32-t},o=function(e){var t=[],n=(1<<r)-1;for(var i=0;i<e.length*r;i+=r)t[i>>5]|=(e.charCodeAt(i/r)&n)<<i%32;return t},u=function(e){var t="",n=(1<<r)-1;for(var i=0;i<e.length*32;i+=r)t+=String.fromCharCode(e[i>>5]>>>i%32&n);return t},a=function(t){var n=e?"0123456789ABCDEF":"0123456789abcdef",r="";for(var i=0;i<t.length*4;i++)r+=n.charAt(t[i>>2]>>i%4*8+4&15)+n.charAt(t[i>>2]>>i%4*8&15);return r},f=function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i,s;for(var o=0;o<e.length*4;o+=3){i=(e[o>>2]>>8*(o%4)&255)<<16|(e[o+1>>2]>>8*((o+1)%4)&255)<<8|e[o+2>>2]>>8*((o+2)%4)&255;for(s=0;s<4;s++)o*8+s*6>e.length*32?r+=t:r+=n.charAt(i>>6*(3-s)&63)}return r},l=function(e,t,n,r,o,u){return i(s(i(i(t,e),i(r,u)),o),n)},c=function(e,t,n,r,i,s,o){return l(t&n|~t&r,e,t,i,s,o)},h=function(e,t,n,r,i,s,o){return l(t&r|n&~r,e,t,i,s,o)},p=function(e,t,n,r,i,s,o){return l(t^n^r,e,t,i,s,o)},d=function(e,t,n,r,i,s,o){return l(n^(t|~r),e,t,i,s,o)},v=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,s=-1732584194,o=271733878,u,a,f,l;for(var v=0;v<e.length;v+=16)u=n,a=r,f=s,l=o,n=c(n,r,s,o,e[v+0],7,-680876936),o=c(o,n,r,s,e[v+1],12,-389564586),s=c(s,o,n,r,e[v+2],17,606105819),r=c(r,s,o,n,e[v+3],22,-1044525330),n=c(n,r,s,o,e[v+4],7,-176418897),o=c(o,n,r,s,e[v+5],12,1200080426),s=c(s,o,n,r,e[v+6],17,-1473231341),r=c(r,s,o,n,e[v+7],22,-45705983),n=c(n,r,s,o,e[v+8],7,1770035416),o=c(o,n,r,s,e[v+9],12,-1958414417),s=c(s,o,n,r,e[v+10],17,-42063),r=c(r,s,o,n,e[v+11],22,-1990404162),n=c(n,r,s,o,e[v+12],7,1804603682),o=c(o,n,r,s,e[v+13],12,-40341101),s=c(s,o,n,r,e[v+14],17,-1502002290),r=c(r,s,o,n,e[v+15],22,1236535329),n=h(n,r,s,o,e[v+1],5,-165796510),o=h(o,n,r,s,e[v+6],9,-1069501632),s=h(s,o,n,r,e[v+11],14,643717713),r=h(r,s,o,n,e[v+0],20,-373897302),n=h(n,r,s,o,e[v+5],5,-701558691),o=h(o,n,r,s,e[v+10],9,38016083),s=h(s,o,n,r,e[v+15],14,-660478335),r=h(r,s,o,n,e[v+4],20,-405537848),n=h(n,r,s,o,e[v+9],5,568446438),o=h(o,n,r,s,e[v+14],9,-1019803690),s=h(s,o,n,r,e[v+3],14,-187363961),r=h(r,s,o,n,e[v+8],20,1163531501),n=h(n,r,s,o,e[v+13],5,-1444681467),o=h(o,n,r,s,e[v+2],9,-51403784),s=h(s,o,n,r,e[v+7],14,1735328473),r=h(r,s,o,n,e[v+12],20,-1926607734),n=p(n,r,s,o,e[v+5],4,-378558),o=p(o,n,r,s,e[v+8],11,-2022574463),s=p(s,o,n,r,e[v+11],16,1839030562),r=p(r,s,o,n,e[v+14],23,-35309556),n=p(n,r,s,o,e[v+1],4,-1530992060),o=p(o,n,r,s,e[v+4],11,1272893353),s=p(s,o,n,r,e[v+7],16,-155497632),r=p(r,s,o,n,e[v+10],23,-1094730640),n=p(n,r,s,o,e[v+13],4,681279174),o=p(o,n,r,s,e[v+0],11,-358537222),s=p(s,o,n,r,e[v+3],16,-722521979),r=p(r,s,o,n,e[v+6],23,76029189),n=p(n,r,s,o,e[v+9],4,-640364487),o=p(o,n,r,s,e[v+12],11,-421815835),s=p(s,o,n,r,e[v+15],16,530742520),r=p(r,s,o,n,e[v+2],23,-995338651),n=d(n,r,s,o,e[v+0],6,-198630844),o=d(o,n,r,s,e[v+7],10,1126891415),s=d(s,o,n,r,e[v+14],15,-1416354905),r=d(r,s,o,n,e[v+5],21,-57434055),n=d(n,r,s,o,e[v+12],6,1700485571),o=d(o,n,r,s,e[v+3],10,-1894986606),s=d(s,o,n,r,e[v+10],15,-1051523),r=d(r,s,o,n,e[v+1],21,-2054922799),n=d(n,r,s,o,e[v+8],6,1873313359),o=d(o,n,r,s,e[v+15],10,-30611744),s=d(s,o,n,r,e[v+6],15,-1560198380),r=d(r,s,o,n,e[v+13],21,1309151649),n=d(n,r,s,o,e[v+4],6,-145523070),o=d(o,n,r,s,e[v+11],10,-1120210379),s=d(s,o,n,r,e[v+2],15,718787259),r=d(r,s,o,n,e[v+9],21,-343485551),n=i(n,u),r=i(r,a),s=i(s,f),o=i(o,l);return[n,r,s,o]},m=function(e,t){var n=o(e);n.length>16&&(n=v(n,e.length*r));var i=new Array(16),s=new Array(16);for(var u=0;u<16;u++)i[u]=n[u]^909522486,s[u]=n[u]^1549556828;var a=v(i.concat(o(t)),512+t.length*r);return v(s.concat(a),640)},g={hexdigest:function(e){return a(v(o(e),e.length*r))},b64digest:function(e){return f(v(o(e),e.length*r))},hash:function(e){return u(v(o(e),e.length*r))},hmac_hexdigest:function(e,t){return a(m(e,t))},hmac_b64digest:function(e,t){return f(m(e,t))},hmac_hash:function(e,t){return u(m(e,t))},test:function(){return n.hexdigest("abc")==="900150983cd24fb0d6963f7d28e17f72"}};return g}()}),define("expressoIM",["jquery","underscore","backbone","jquery_xmpp"],function(e,t,n,r){var i=new function(){var t="",n="",r="",i="",s="",o=!1,u={},a=!1,f=[],l=[],c=[],h=[],p=[],d=[],v=[],m=[],g=[],y=[],b=[],w=[],E=0;this.resource=function(e){return e==undefined?t:(t=e,this)},this.url=function(e){return e==undefined?n:(n=e,this)},this.onMessage=function(e){v!=""&&v(e)},this.onComposing=function(e){y.length>1&&y(e)},this.clearListeners=function(){v=[],y=[],b=[],w=[],g=[],m=[]},this.executeListenersFromArray=function(e,t){for(var n in e)e[n](t)},this.addOnMessageListener=function(e){return v.push(e),this},this.addOnIqListener=function(e){return m.push(e),this},this.addOnDisconnectListener=function(e){return g.push(e),this},this.addOnPresenceListener=function(e){return b.push(e),this},this.addOnErrorListener=function(e){return w.push(e),this},this.addOnComposingListener=function(e){return y.push(e),this},this.domain=function(e){return e==undefined?r:(r=e,this)},this.username=function(e){return e==undefined?i:(i=e,this)},this.password=function(e){return e==undefined?s:(s=e,this)},this.inArray=function(e,t){for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1},this.isConnected=function(){return a},this.pushIfNotExist=function(e,t){return this.inArray(e,t)?e:(e.push(t),e)},this.getContactsByID=function(e){for(var t=0;t<p.length;t++)if(p[t].id==e)return p[t];return!1},this.getBusyContacts=function(){var e=[],t=h;for(var n=0;n<t.length;n++)e.push(this.getContactsByID(t[n]));return e},this.getAllContacts=function(){var e=[];return e.online=this.getOnlineContacts(),e.busy=this.getBusyContacts(),e.away=this.getAwayContacts(),e.offline=this.getOfflineContacts(),e},this.getAwayContacts=function(){var e=[],t=c,n=[];for(var r=0;r<t.length;r++){var i=this.getContactsByID(t[r]);n[r]=i.jid+":"+t[r]}n.sort();for(var r=0;r<n.length;r++){var s=n[r].split(":");e.push(this.getContactsByID(s[1]))}return e},this.getOfflineContacts=function(){var e=[],t=l,n=[];for(var r=0;r<t.length;r++){var i=this.getContactsByID(t[r]);n[r]=i.jid+":"+t[r]}n.sort();for(var r=0;r<n.length;r++){var s=n[r].split(":");e.push(this.getContactsByID(s[1]))}return e},this.getOnlineContacts=function(){var e=[],t=f,n=[];for(var r=0;r<t.length;r++){var i=this.getContactsByID(t[r]);n[r]=i.jid+":"+t[r]}n.sort();for(var r=0;r<n.length;r++){var s=n[r].split(":");e.push(this.getContactsByID(s[1]))}return e},this.getMessagesFromID=function(e){return u[e]},this.removeFromArray=function(e,t){var n=[];for(var r in e)e[r]!=t&&n.push(e[r]);return n},this.setContactStatus=function(e,t){f=this.removeFromArray(f,e),l=this.removeFromArray(l,e),h=this.removeFromArray(h,e),c=this.removeFromArray(c,e),t=="online"&&(f=this.pushIfNotExist(f,e)),t=="offline"&&(l=this.pushIfNotExist(l,e)),t=="away"&&(c=this.pushIfNotExist(c,e)),t=="busy"&&(h=this.pushIfNotExist(h,e))},this.addContact=function(e,t,n,r){var i={id:e,jid:t,name:n,group:r,qtdUnread:0};p.push(i),u[e]=[]},this.addMessage=function(e,t,n,r){var i={id:e,jid:t,body:n,date:r,seen:!1};return u[e].push(i),i},this.getQtdUnreadMessagesFromContact=function(e){return p[e].qtdUnread},this.setAsSeenAllMessagesFromContact=function(e){var t=0;for(var n in u[e])u[e][n].seen=!0;for(var r=0;r<p.length;r++)p[r].id==e&&(p[r].qtdUnread=0)},this.updateQtdUnreadMessagesToContact=function(e){var t=0;if(u[e]!=null)for(var n in u[e])u[e][n].seen==0&&(t+=1);for(var r=0;r<p.length;r++)p[r].id==e&&(p[r].qtdUnread=t);return t},this.debug=function(e){return e==undefined?o:(o=e,this)},this.qtdUnreadMessages=function(e){var t=0;for(var n=0;n<p.length;n++)t+=p[n].qtdUnread;return this._qtdUnreadMessages=t,t},this.sendMessage=function(t,n){if(e.trim(n)!=""){e.xmpp.sendMessage({body:n,to:t,resource:"Chat",otherAttr:"value"},"<error>An error has ocurred</error>"),t=t.match(/^[\w\W][^\/]+[^\/]/g)[0];var r=MD5.hexdigest(t),i=this.addMessage(r,"me",n,new Date);this.executeListenersFromArray(v,i)}},this.disconnect=function(){var t=function(){};e.xmpp&&e.xmpp.disconnect(t)},this.connect=function(o){var u={};if(e.xmpp){var f=this;u={resource:t,username:i,password:s,url:n,domain:r,onDisconnect:function(){a=!1,f.executeListenersFromArray(g,[])},onConnect:function(t){a=!0,e.xmpp.getRoster(),e.xmpp.setPresence(null),o!=null&&o()},onIq:function(e){},onMessage:function(e){e.from=e.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var t=e.from.split("/"),n=MD5.hexdigest(e.from),r=f.addMessage(n,t[0],e.body,new Date);f.updateQtdUnreadMessagesToContact(n),f.executeListenersFromArray(v,r)},onPresence:function(e){e.from=e.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var t=MD5.hexdigest(e.from),n=e.show!=="available"?e.show==="unavailable"?"offline":e.show==="dnd"?"busy":e.show==="away"?"away":"online":"online",e={id:t,status:n};f.setContactStatus(t,n),f.executeListenersFromArray(b,e)},onError:function(t){a=!1,e.xmpp.listening=!1,e.xmpp.connected=!1,f.executeListenersFromArray(w,t)},onComposing:function(e){e.from=e.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var t=e.from.split("/");e.from=t[0],f.executeListenersFromArray(y,e)},onRoster:function(e){var t=e.jid;t=t.match(/^[\w\W][^\/]+[^\/]/g)[0];var n=MD5.hexdigest(t);f.addContact(n,e.jid,e.name,e.group),f.setContactStatus(n,"offline")}},e.xmpp.connect(u)}}};return i}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||void 0),u=[];define("text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),i,s,o="";try{i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&s.charAt(0)===65279&&(s=s.substring(1));for(i.append(s);(s=n.readLine())!==null;)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),a={version:"0.27.0",strip:function(e){if(e){var e=e.replace(t,""),r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return n!==-1&&(t=e.substring(n+1,e.length),t=t==="strip",e=e.substring(0,n)),{moduleName:r,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s;return i?(e=i[2],i=i[3],i=i.split(":"),s=i[1],i=i[0],(!e||e===t)&&(!i||i===n)&&(!s&&!i||s===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&i.inlineText&&(u[e]=n),r(n)},load:function(e,t,n,u){var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})},write:function(e,t,n){if(t in u){var r=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,i){var t=a.parseName(t),s=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";a.load(s,n,function(){var t=function(e){return r(o,e)};t.asModule=function(e,t){return r.asModule(e,o,t)},a.write(e,s,t,i)},i)}}})}(),define("text!templates/home/userMessageTemplate.html",[],function(){return'<% if (route != "") { %>\n<a href="<%=route%>" class="routeMessage" style="text-decoration: none;">\n<% } %>\n	<div class="<%=type%> message">\n		<% if (icon != "") { %>\n			<div class="message-icon <%=icon%>"></div>\n		<% } %>\n		<% if (description != \'\') { %>\n			<h3><%=title%></h3>\n			<p><%=description%></p>\n		<% } else { %>\n			<h4><%=title%></h4>\n		<% } %>\n	</div>\n<% if (route != "") { %>\n	</a>\n<% } %>'}),define("views/home/UserMessageView",["jquery","underscore","backbone","text!templates/home/userMessageTemplate.html"],function(e,t,n,r){var i=n.View.extend({msgType:"",msgTitle:"",msgDescription:"",msgRoute:"",msgIcon:"",elementID:"",animate:!0,timeout:3e3,render:function(){this.timeout==undefined&&(this.timeout=3e3),this.msgRoute==undefined&&(this.msgRoute="");var n={_:t,type:this.msgType,title:this.msgTitle,description:this.msgDescription,icon:this.msgIcon,route:this.msgRoute},i=t.template(r,n);this.$el.html(i),e(this.elementID).empty().append(this.$el);if(this.animate){e(this.elementID).attr("style","position: absolute; top: -"+e(this.elementID).outerHeight()+"px; width: 100%;");var s=e("#mainAppPageContent").css("margin-top");s=s.split("px"),e(this.elementID).animate({top:parseInt(s[0],0)*-1},500)}else e(this.elementID).attr("style","top: 0px");var o=this;o.timeout>0&&setTimeout(function(){e(o.elementID).empty()},o.timeout)},events:{"click .routeMessage":"clickMessage"},clickMessage:function(t){t.preventDefault();var r=new n.Router;r.navigate(t.currentTarget.getAttribute("href"),{trigger:!0}),e(this.elementID).empty()}});return i}),define("expressoService",["jquery","underscore","backbone"],function(e,t,n){var r=new function(){var e;this.startService=function(){var e=this;this.service!=undefined?this.service.startService(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.stopService=function(){var e=this;this.service!=undefined?this.service.stopService(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.enableTimer=function(){var e=this;this.service!=undefined?this.service.enableTimer(12e4,function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.disableTimer=function(){var e=this;this.service!=undefined?this.service.disableTimer(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.registerForBootStart=function(){var e=this;this.service!=undefined?this.service.registerForBootStart(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.deregisterForBootStart=function(){var e=this;this.service!=undefined?this.service.deregisterForBootStart(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.registerForUpdates=function(){var e=this;this.service!=undefined?this.service.registerForUpdates(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.deregisterForUpdates=function(){var e=this;this.service!=undefined?this.service.deregisterForUpdates(function(t){e.handleSuccess(t)},function(t){e.handleError(t)}):console.log("SERVICE - UNDEFINED")},this.handleSuccess=function(e){},this.handleError=function(e){},this.setConfig=function(e,t,n,r){var i=this,s={auth:t,apiURL:e,username:n,password:r};this.service!=undefined&&this.service.setConfiguration(s,function(e){i.handleSuccess(e)},function(e){i.handleError(e)})}};return r}),define("shared",["underscore","jquery","backbone","expressoAPI","expressoIM","views/home/UserMessageView","expressoService"],function(e,t,n,r,i,s,o){var u={};u.betaVersion=!1,u.betaTesters=[],u.versionIsActive=!0,u.betaVersion?u.appVersion="BETA":u.appVersion="1.2",u.apiVersion="",u.expressoVersion="",IS_BUILTINEXPRESSO==undefined||IS_BUILTINEXPRESSO==0?u.serverContext="":u.serverContext="/email",u.context=u.serverContext+"/api/",u.ComunityServerURL="http://api.expressolivre.org/",u.settings={},u.settings.resultsPerPage=25,u.settings.mailSignature="Mensagem enviada pelo Expresso Mobile.",u.timeoutDelay=0,u.scrollDetail=null,u.scroll=null,u.scrollMenu=null,u.lastCheckDate=null,u.forceSmartPhoneResolution=!0,u.forceLogout=!1,u.im=i,u.api=r,u.service=o,u.contentView=null,u.detailView=null,u.gotoRoute=!1,u.newMessageIntent=!1,u.newMessageFiles=!1,u.max_upload_file_size=10240,u.max_upload_file_qtd=20,u.currentDraftMessage="",u.automaticLoginAccounts={accounts:[]},u.forceAutomaticLoginInAccountName=!1,u.disabledModules=[],u.menuOpen=!1,u.isBuiltInExpresso=function(){return IS_BUILTINEXPRESSO?u.isDesktop()?!0:!1:!1},u.isTabletResolution=function(){var e=t(window).width()>=720;return u.forceSmartPhoneResolution&&(e=!1),e},u.isSmartPhoneResolution=function(){return!u.isTabletResolution()},u.isDesktop=function(){var e=!0;e=!0;if(u.isPhonegap()||u.isAndroid()||u.isIDevice())e=!1;return e},u.isPhonegap=function(){return u.api.phoneGap()},u.isAndroid=function(){return/android/gi.test(navigator.appVersion)},u.isIDevice=function(){return/iphone|ipad/gi.test(navigator.appVersion)},u.scrollerRefresh=function(){},u.reloadPage=function(){u.reloadCurrentPageFunction()},u.reloadCurrentPageFunction=function(){},u.bytesToSize=function(e,t){var n=1024,r=n*1024,i=r*1024,s=i*1024;return e>=0&&e<n?e+" B":e>=n&&e<r?(e/n).toFixed(t)+" KB":e>=r&&e<i?(e/r).toFixed(t)+" MB":e>=i&&e<s?(e/i).toFixed(t)+" GB":e>=s?(e/s).toFixed(t)+" TB":e+" B"},u.setCurrentView=function(e,t){e==1?(u.contentView!=null&&u.contentView.undelegateEvents(),u.contentView=t):u.isSmartPhoneResolution()?(u.contentView!=null&&u.contentView.undelegateEvents(),u.contentView=t):(u.detailView!=null&&u.detailView.undelegateEvents(),u.detailView=t)},u.setCurrentPageTitle=function(e){t("#currentPageTitle").html(e)},u.refreshSettings=function(){u.api.resource("ExpressoVersion").params({}).done(function(e){u.apiVersion=e.apiVersion,u.expressoVersion=e.expressoVersion,u.apiVersion!="1.0"&&u.api.resource("Preferences/UserPreferences").params({module:"mail"}).done(function(e){var t=25,n="Mensagem enviada pelo Expresso Mobile.",r="html";e.mail!=undefined&&(t=e.mail.max_email_per_page,n=e.mail.signature,r=e.mail.type_signature),u.settings.resultsPerPage=t,u.settings.mailSignature=n,u.settings.typeSignature=r,u.saveSettingsToLocalStorage()}).fail(function(e){}).execute()}).fail(function(e){}).execute()},u.showMessage=function(e){var t=new s;t.msgType=e.type,t.msgTitle=e.title,t.msgDescription=e.description,t.elementID=e.elementID,t.msgRoute=e.route,t.msgIcon=e.icon,t.timeout=e.timeout,e.animate==0&&(t.animate=!1),t.render()},u.deviceType=function(e){e?t("body").addClass("smartphone"):t("body").removeAttr("class")},u.saveSettingsToLocalStorage=function(){u.api.getLocalStorageValue("expresso",function(e){if(e==undefined)var e={};e.settings=u.settings,u.api.setLocalStorageValue("expresso",e)})},u.handleErrors=function(e,t){e.code==100&&(t!=undefined,u.showMessage({type:"error",icon:"icon-expresso",title:"Verifique sua conexão com a Internet...",description:"",timeout:3e3,elementID:"#pageMessage"}));if(e.code==7||e.code==3){var n={auth:"",profile:"",username:"",password:"",phoneGap:"",serverAPI:"",settings:{resultsPerPage:30,automaticLogin:!1,mailSignature:""}};u.api.setLocalStorageValue("expresso",n),u.showMessage({type:"error",icon:"icon-expresso",title:"Sua sessão expirou...",description:"",timeout:0,elementID:"#pageMessage"}),setTimeout(function(){u.router.navigate("Login",{trigger:!0})},2e3)}},u.scheduleCheckForNewMessages=function(){u.checkForNewMessages(),setInterval(u.checkForNewMessages,7e4),setInterval(u.refreshFolders,18e4)},u.refreshFolders=function(){u.userHasModule("mail")&&u.menuView.refreshFolders()},u.checkForNewMessages=function(){u.userHasModule("mail")&&u.api.resource("/Mail/Messages").params({folderID:"INBOX",search:"",page:1,resultsPerPage:"25",msgID:""}).ignoreCache(!0).done(function(t){var n=0,r="",i=[];e.each(t.messages,function(e){var t=moment(e.msgDate+":59","DD/MM/YYYY HH:mm:ss").unix();u.lastCheckDate!=null&&t>u.lastCheckDate/1e3&&(n+=1,r=e,i.push(e))});if(n>0){var s="",o="",a="";n==1?(s="/Mail/Messages/1/"+r.msgID+"/INBOX",o=r.msgSubject,a=r.msgFrom.mailAddress):(s="/Mail/Messages/1/0/INBOX",o="Você tem "+n+" novas mensagens.",a=""),u.showMessage({type:"chat-message",icon:"icon-expresso",title:o,description:a,route:s,timeout:5e3,elementID:"#pageMessage"}),u.menuView.setMailBadge(n)}u.lastCheckDate=Date.now()}).fail(function(e){}).execute()},u.windowTitle="Expresso",u.BlinkWindowTitle=function(e){u.isDesktop()&&(u.stopBlinkWindowTitle(),u.blinkTitleInterval=window.setInterval(function(){var e="",n=0;u.userHasModule("chat")&&(n=u.im.qtdUnreadMessages());var r=0;u.userHasModule("mail")&&(r=t("#badge_inbox").html(),r!=undefined&&r.trim()==""&&(r=0)),r==undefined&&(r=0);var i=n+r,s="";if(r!=0)var s=r+" Emails";r==1&&(s=r+" Email");var o="";n!=0&&(o=n+" Msgs"),n==1&&(o=n+" Msg"),s!=""&&(e=s),o!=""&&(s!=""?e=s+" - "+o:e=o),i==0&&(e=u.windowTitle),document.title=document.title===u.windowTitle?e:u.windowTitle},1e3))},u.stopBlinkWindowTitle=function(){window.clearInterval(u.blinkTitleInterval),document.title=u.windowTitle},u.setDefaultIMListeners=function(){u.im.clearListeners();var e=function(e){u.menuView.setChatBadge(u.im.qtdUnreadMessages());var e={type:"chat-message",icon:"icon-jabber",title:e.body,description:e.jid,route:"/Chat/"+e.id,timeout:3e3,elementID:"#pageMessage"},t=u.im.qtdUnreadMessages();u.showMessage(e)},t=function(e){};u.im.addOnMessageListener(e),u.im.addOnErrorListener(u.onIMErrorFunction),u.im.addOnDisconnectListener(u.onIMDisconnectFunction)},u.onIMErrorFunction=function(e){var t={type:"error",icon:"icon-jabber",title:"Você não está conectado ao CHAT.",description:"Verifique sua conexão com a Internet...",route:"/Chat",elementID:"#pageMessage"};u.showMessage(t)},u.onIMDisconnectFunction=function(e){},u.chatReconnect=function(){u.lastReconectionTime=new Date,u.api.resource("Services/Chat").params({}).done(function(e){u.im=i,u.im_resource=e.A,u.im_url=e.B,u.im_domain=e.C;var t=e.D,n=e.E+"==";u.im.resource("EXPRESSO_MOBILE").url(u.im_url).domain(u.im_domain);var r=function(){u.router.navigate("Chat",{trigger:!0})};u.im.username(t).password(n).connect(r)}).execute()},u.api.id(0),u.api.debug(!1);if(u.isDesktop()){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href","./css/m_platform_desktop.css"),document.getElementsByTagName("head")[0].appendChild(a)}u.userHasModule=function(e){var t=!1,n=e;if(u.profile!=undefined){var r=u.profile.contactApps;r==undefined&&(r=[]),r.push("settings"),u.profile.contactServices!=undefined&&u.profile.contactServices.chat!=undefined&&r.push("chat");for(var i=0;i<r.length;i++)r[i]===e&&(t=!0);u.apiVersion=="1.0"&&(n=="calendar"||n=="chat")&&(t=!1);for(var i=0;i<u.disabledModules.length;i++)n==u.disabledModules[i]&&(t=!1)}else e=="settings"&&(t=!0);return t},u.userHasAuth=function(){u.api.getLocalStorageValue("expresso",function(e){var t=e.auth;if(t!=null&&t!=""){var n=e.profile;u.profile=n,u.api.auth(t),u.isAndroid()&&u.service.setConfig("http://api.expresso.pr.gov.br/",t)}})},u.userHasAuth(),u.deviceReady=function(){u.api.phoneGap(!0),u.api.android(u.isAndroid());if(u.isAndroid()){document.addEventListener("backbutton",function(e){var n=["file:///Mail/Messages/1/0/INBOX#","file:///Mail/Messages/1/0/INBOX","file:///Mail/Messages/0/0/INBOX","file:///Home","file:///Login"];t.inArray(window.location.href,n)>=0?(e.preventDefault(),navigator.app.exitApp()):(e.preventDefault(),window.history.back())},!1);var e="com.celepar.expresso.ExpressoService",n=cordova.require("com.phonegap.plugins.backgroundservice.BackgroundService");u.service.service=n.create(e),window.plugins={},window.plugins.webintent=cordova.require("com.phonegap.plugins.webintent.WebIntent"),window.plugins.expresso=cordova.require("com.phonegap.plugins.expresso.ExpressoPlugin"),u.api.createPhoneGapDatabase(),window.plugins!=undefined&&(window.plugins.expresso!=undefined&&window.plugins.expresso.getAccounts("",function(e){u.automaticLoginAccounts=JSON.parse(e);var t=u.automaticLoginAccounts;if(u.automaticLoginAccounts.accounts.length>=1){if(u.forceAutomaticLoginInAccountName==0||u.automaticLoginAccounts.accounts.length==1)u.forceAutomaticLoginInAccountName=t.accounts[0].accountName;for(var n=0;n<t.accounts.length;n++)if(t.accounts[n]!=undefined&&u.forceAutomaticLoginInAccountName==t.accounts[n].accountName){var r=t.accounts[n];u.service.setConfig(r.accountAPIURL,u.api.auth(),r.accountName,r.accountPassword),u.service.startService(),setTimeout(function(){u.service.setConfig(r.accountAPIURL,u.api.auth(),r.accountName,r.accountPassword),u.service.enableTimer()},1e4)}}},function(){}),window.plugins.webintent!=undefined&&(window.plugins.webintent.hasExtra("android.intent.extra.STREAM",function(e){window.plugins.webintent.getExtra("android.intent.extra.STREAM",function(e){var t=[];e.indexOf("[")!=-1?(e=e.replace("[","").replace("]",""),t=e.split(",")):t.push(e);for(var n=0;n<t.length;n++)t[n]=decodeURI(t[n].replace("file://","").trim());u.newMessageIntent=!0,u.newMessageFiles=t},function(e){})},function(e){}),window.plugins.webintent.onNewIntent(function(e){e!=null&&u.router.navigate(e,{trigger:!0})}),window.plugins.webintent.hasExtra("ROUTE",function(e){window.plugins.webintent.getExtra("ROUTE",function(e){u.isTabletResolution()?e=e.replace("{:TABLET}","1"):e=e.replace("{:TABLET}","0"),u.gotoRoute=e},function(e){})},function(e){})))}},document.addEventListener("deviceready",function(){u.deviceReady()});var f=function(){u.userHasModule("chat")&&u.im.disconnect(),window.location.href=u.serverContext+"/"};return IS_BUILTINEXPRESSO||(window.onpagehide||window.onpagehide===null?window.addEventListener("pagehide",f,!1):window.addEventListener("unload",f,!1),window.onunload=f,window.onbeforeunload=function(){f()}),u}),define("material",["jquery"],function(e){return window.componentHandler=function(e){function n(e){"use strict";this.element_=e,this.init()}function r(e){"use strict";this.element_=e,this.init()}function i(e){"use strict";this.element_=e,this.init()}function s(e){"use strict";this.element_=e,this.init()}function o(e){"use strict";this.element_=e,this.init()}function u(e){"use strict";this.element_=e,this.init()}function a(e){"use strict";this.element_=e,this.isIE_=window.navigator.msPointerEnabled,this.init()}function f(e){"use strict";this.element_=e,this.init()}function l(e){"use strict";this.element_=e,this.init()}function c(e){"use strict";this.element_=e,this.init()}function h(e,t){"use strict";if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var n=document.createElement("span");n.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),n.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var r=document.createElement("span");r.classList.add(t.CssClasses_.MDL_RIPPLE),n.appendChild(r),e.appendChild(n)}e.addEventListener("click",function(n){n.preventDefault();var r=e.href.split("#")[1],i=t.element_.querySelector("#"+r);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),i.classList.add(t.CssClasses_.ACTIVE_CLASS)})}}function p(e){"use strict";this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()}function d(e){"use strict";this.element_=e,this.init()}function v(e){"use strict";this.element_=e,this.init()}function m(e,t,n,r){"use strict";if(e){if(r.tabBar_.classList.contains(r.CssClasses_.JS_RIPPLE_EFFECT)){var i=document.createElement("span");i.classList.add(r.CssClasses_.RIPPLE_CONTAINER),i.classList.add(r.CssClasses_.JS_RIPPLE_EFFECT);var s=document.createElement("span");s.classList.add(r.CssClasses_.RIPPLE),i.appendChild(s),e.appendChild(i)}e.addEventListener("click",function(i){i.preventDefault();var s=e.href.split("#")[1],o=r.content_.querySelector("#"+s);r.resetTabState_(t),r.resetPanelState_(n),e.classList.add(r.CssClasses_.IS_ACTIVE),o.classList.add(r.CssClasses_.IS_ACTIVE)})}}function g(e){"use strict";this.element_=e,this.init()}function y(e){"use strict";this.element_=e,this.init()}var t=function(){"use strict";function i(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return n!==undefined&&(e[r]=n),e[r];return!1}function s(t,n){if(t===undefined&&n===undefined)for(var r=0;r<e.length;r++)s(e[r].className,e[r].cssClass);else{if(n===undefined){var u=i(t);u&&(n=u.cssClass)}var a=document.querySelectorAll("."+n);for(var f=0;f<a.length;f++)o(a[f],t)}}function o(e,n){var s=e.getAttribute("data-upgraded");if(s===null||s.indexOf(n)===-1){s===null&&(s=""),e.setAttribute("data-upgraded",s+","+n);var o=i(n);if(!o)throw"Unable to find a registered component for the given class.";var u=new o.classConstructor(e);u[r]=o,t.push(u),o.callbacks.forEach(function(t){t(e)}),o.widget&&(e[n]=u);var a=document.createEvent("Events");a.initEvent("mdl-componentupgraded",!0,!0),e.dispatchEvent(a)}}function u(t){var n={classConstructor:t.constructor,className:t.classAsString,cssClass:t.cssClass,widget:t.widget===undefined?!0:t.widget,callbacks:[]};e.forEach(function(e){if(e.cssClass===n.cssClass)throw"The provided cssClass has already been registered.";if(e.className===n.className)throw"The provided className has already been registered"});if(t.constructor.prototype.hasOwnProperty(r))throw"MDL component classes must not have "+r+" defined as a property.";var s=i(t.classAsString,n);s||e.push(n)}function a(e,t){var n=i(e);n&&n.callbacks.push(t)}function f(){for(var t=0;t<e.length;t++)s(e[t].className)}function l(e){for(var n=0;n<t.length;n++){var r=t[n];if(r.element_===e)return r}}function c(e){if(e&&e[r].classConstructor.prototype.hasOwnProperty(n)){e[n]();var i=t.indexOf(e);t.splice(i,1);var s=e.element_.dataset.upgraded.split(","),o=s.indexOf(e[r].classAsString);s.splice(o,1),e.element_.dataset.upgraded=s.join(",");var u=document.createEvent("Events");u.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(u)}}function h(e){var t=function(e){c(l(e))};if(e instanceof Array||e instanceof NodeList)for(var n=0;n<e.length;n++)t(e[n]);else{if(!(e instanceof Node))throw"Invalid argument provided to downgrade MDL nodes.";t(e)}}var e=[],t=[],n="mdlDowngrade_",r="mdlComponentConfigInternal_";return{upgradeDom:s,upgradeElement:o,upgradeAllRegistered:f,registerUpgradedCallback:a,register:u,downgradeElements:h}}();return window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):t.upgradeElement=t.register=function(){}}),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()});var e=["webkit","moz"];for(var t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var r=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(r+16,t);return setTimeout(function(){e(r=n)},n-t)},window.cancelAnimationFrame=clearTimeout}}(),n.prototype.Constant_={},n.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},n.prototype.blurHandler=function(e){"use strict";e&&this.element_.blur()},n.prototype.disable=function(){"use strict";this.element_.disabled=!0},n.prototype.enable=function(){"use strict";this.element_.disabled=!1},n.prototype.init=function(){"use strict";if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},n.prototype.mdlDowngrade_=function(){"use strict";this.rippleElement_&&this.rippleElement_.removeEventListener("mouseup",this.boundRippleBlurHandler),this.element_.removeEventListener("mouseup",this.boundButtonBlurHandler),this.element_.removeEventListener("mouseleave",this.boundButtonBlurHandler)},t.register({constructor:n,classAsString:"MaterialButton",cssClass:"mdl-js-button"}),r.prototype.Constant_={TINY_TIMEOUT:.001},r.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},r.prototype.onChange_=function(e){"use strict";this.updateClasses_()},r.prototype.onFocus_=function(e){"use strict";this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},r.prototype.onBlur_=function(e){"use strict";this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.onMouseUp_=function(e){"use strict";this.blur_()},r.prototype.updateClasses_=function(){"use strict";this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED),this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},r.prototype.blur_=function(e){"use strict";window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},r.prototype.disable=function(){"use strict";this.inputElement_.disabled=!0,this.updateClasses_()},r.prototype.enable=function(){"use strict";this.inputElement_.disabled=!1,this.updateClasses_()},r.prototype.check=function(){"use strict";this.inputElement_.checked=!0,this.updateClasses_()},r.prototype.uncheck=function(){"use strict";this.inputElement_.checked=!1,this.updateClasses_()},r.prototype.init=function(){"use strict";if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var n=document.createElement("span");n.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},r.prototype.mdlDowngrade_=function(){"use strict";this.rippleContainerElement_&&this.rippleContainerElement_.removeEventListener("mouseup",this.boundRippleMouseUp),this.inputElement_.removeEventListener("change",this.boundInputOnChange),this.inputElement_.removeEventListener("focus",this.boundInputOnFocus),this.inputElement_.removeEventListener("blur",this.boundInputOnBlur),this.element_.removeEventListener("mouseup",this.boundElementMouseUp)},t.register({constructor:r,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox"}),i.prototype.Constant_={TINY_TIMEOUT:.001},i.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},i.prototype.onChange_=function(e){"use strict";this.updateClasses_()},i.prototype.onFocus_=function(e){"use strict";this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},i.prototype.onBlur_=function(e){"use strict";this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},i.prototype.onMouseUp_=function(e){"use strict";this.blur_()},i.prototype.updateClasses_=function(){"use strict";this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED),this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},i.prototype.blur_=function(e){"use strict";window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},i.prototype.disable=function(){"use strict";this.inputElement_.disabled=!0,this.updateClasses_()},i.prototype.enable=function(){"use strict";this.inputElement_.disabled=!1,this.updateClasses_()},i.prototype.check=function(){"use strict";this.inputElement_.checked=!0,this.updateClasses_()},i.prototype.uncheck=function(){"use strict";this.inputElement_.checked=!1,this.updateClasses_()},i.prototype.init=function(){"use strict";if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);if(this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},i.prototype.mdlDowngrade_=function(){"use strict";this.rippleContainerElement_&&this.rippleContainerElement_.removeEventListener("mouseup",this.boundRippleMouseUp),this.inputElement_.removeEventListener("change",this.boundInputOnChange),this.inputElement_.removeEventListener("focus",this.boundInputOnFocus),this.inputElement_.removeEventListener("blur",this.boundInputOnBlur),this.element_.removeEventListener("mouseup",this.boundElementOnMouseUp)},t.register({constructor:i,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle"}),s.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},s.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},s.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},s.prototype.init=function(){"use strict";if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var n=this.element_.getAttribute("for"),r=null;n&&(r=document.getElementById(n),r&&(this.forElement_=r,r.addEventListener("click",this.handleForClick_.bind(this)),r.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);for(var s=0;s<i.length;s++)i[s].addEventListener("click",this.handleItemClick_.bind(this)),i[s].tabIndex="-1",i[s].addEventListener("keydown",this.handleItemKeyboardEvent_.bind(this));if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(s=0;s<i.length;s++){var o=i[s],u=document.createElement("span");u.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var a=document.createElement("span");a.classList.add(this.CssClasses_.RIPPLE),u.appendChild(a),o.appendChild(u),o.classList.add(this.CssClasses_.RIPPLE_EFFECT)}}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},s.prototype.handleForClick_=function(e){"use strict";if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),n=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=n.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=n.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=n.right-t.right+"px",this.container_.style.bottom=n.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},s.prototype.handleForKeyboardEvent_=function(e){"use strict";if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},s.prototype.handleItemKeyboardEvent_=function(e){"use strict";if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var n=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),n>0?t[n-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>n+1?t[n+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var r=new MouseEvent("mousedown");e.target.dispatchEvent(r),r=new MouseEvent("mouseup"),e.target.dispatchEvent(r),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},s.prototype.handleItemClick_=function(e){"use strict";e.target.getAttribute("disabled")!==null?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},s.prototype.applyClip_=function(e,t){"use strict";this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip=null:this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px "+"0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=null},s.prototype.addAnimationEndListener_=function(){"use strict";var e=function(){this.element_.classList.remove(this.CssClasses_.IS_ANIMATING)}.bind(this);this.element_.addEventListener("transitionend",e),this.element_.addEventListener("webkitTransitionEnd",e)},s.prototype.show=function(e){"use strict";if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,n=this.element_.getBoundingClientRect().width;this.container_.style.width=n+"px",this.container_.style.height=t+"px",this.outline_.style.width=n+"px",this.outline_.style.height=t+"px";var r=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);for(var s=0;s<i.length;s++){var o=null;this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?o=(t-i[s].offsetTop-i[s].offsetHeight)/t*r+"s":o=i[s].offsetTop/t*r+"s",i[s].style.transitionDelay=o}this.applyClip_(t,n),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+n+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var u=function(t){t!==e&&!this.closing_&&(document.removeEventListener("click",u),this.hide())}.bind(this);document.addEventListener("click",u)}},s.prototype.hide=function(){"use strict";if(this.element_&&this.container_&&this.outline_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);for(var t=0;t<e.length;t++)e[t].style.transitionDelay=null;var n=this.element_.getBoundingClientRect().height,r=this.element_.getBoundingClientRect().width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(n,r),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},s.prototype.toggle=function(e){"use strict";this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},t.register({constructor:s,classAsString:"MaterialMenu",cssClass:"mdl-js-menu"}),o.prototype.Constant_={},o.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},o.prototype.setProgress=function(e){"use strict";if(this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS))return;this.progressbar_.style.width=e+"%"},o.prototype.setBuffer=function(e){"use strict";this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},o.prototype.init=function(){"use strict";if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},t.register({constructor:o,classAsString:"MaterialProgress",cssClass:"mdl-js-progress"}),u.prototype.Constant_={TINY_TIMEOUT:.001},u.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},u.prototype.onChange_=function(e){"use strict";this.updateClasses_(this.btnElement_,this.element_);var t=document.getElementsByClassName(this.CssClasses_.JS_RADIO);for(var n=0;n<t.length;n++){var r=t[n].querySelector("."+this.CssClasses_.RADIO_BTN);r.getAttribute("name")===this.btnElement_.getAttribute("name")&&this.updateClasses_(r,t[n])}},u.prototype.onFocus_=function(e){"use strict";this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},u.prototype.onBlur_=function(e){"use strict";this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},u.prototype.onMouseup_=function(e){"use strict";this.blur_()},u.prototype.updateClasses_=function(e,t){"use strict";e.disabled?t.classList.add(this.CssClasses_.IS_DISABLED):t.classList.remove(this.CssClasses_.IS_DISABLED),e.checked?t.classList.add(this.CssClasses_.IS_CHECKED):t.classList.remove(this.CssClasses_.IS_CHECKED)},u.prototype.blur_=function(e){"use strict";window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},u.prototype.disable=function(){"use strict";this.btnElement_.disabled=!0,this.updateClasses_(this.btnElement_,this.element_)},u.prototype.enable=function(){"use strict";this.btnElement_.disabled=!1,this.updateClasses_(this.btnElement_,this.element_)},u.prototype.check=function(){"use strict";this.btnElement_.checked=!0,this.updateClasses_(this.btnElement_,this.element_)},u.prototype.uncheck=function(){"use strict";this.btnElement_.checked=!1,this.updateClasses_(this.btnElement_,this.element_)},u.prototype.init=function(){"use strict";if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(e),this.element_.appendChild(t);var n;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),n=document.createElement("span"),n.classList.add(this.CssClasses_.RIPPLE_CONTAINER),n.classList.add(this.CssClasses_.RIPPLE_EFFECT),n.classList.add(this.CssClasses_.RIPPLE_CENTER),n.addEventListener("mouseup",this.onMouseup_.bind(this));var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),n.appendChild(r),this.element_.appendChild(n)}this.btnElement_.addEventListener("change",this.onChange_.bind(this)),this.btnElement_.addEventListener("focus",this.onFocus_.bind(this)),this.btnElement_.addEventListener("blur",this.onBlur_.bind(this)),this.element_.addEventListener("mouseup",this.onMouseup_.bind(this)),this.updateClasses_(this.btnElement_,this.element_),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:u,classAsString:"MaterialRadio",cssClass:"mdl-js-radio"}),a.prototype.Constant_={},a.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},a.prototype.onInput_=function(e){"use strict";this.updateValueStyles_()},a.prototype.onChange_=function(e){"use strict";this.updateValueStyles_()},a.prototype.onMouseUp_=function(e){"use strict";e.target.blur()},a.prototype.onContainerMouseDown_=function(e){"use strict";if(e.target!==this.element_.parentElement)return;e.preventDefault();var t=new MouseEvent("mousedown",{target:e.target,buttons:e.buttons,clientX:e.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(t)},a.prototype.updateValueStyles_=function(e){"use strict";var t=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);t===0?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=t,this.backgroundLower_.style.webkitFlex=t,this.backgroundUpper_.style.flex=1-t,this.backgroundUpper_.style.webkitFlex=1-t)},a.prototype.disable=function(){"use strict";this.element_.disabled=!0},a.prototype.enable=function(){"use strict";this.element_.disabled=!1},a.prototype.change=function(e){"use strict";e&&(this.element_.value=e),this.updateValueStyles_()},a.prototype.init=function(){"use strict";if(this.element_){if(this.isIE_){var e=document.createElement("div");e.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_)}else{var t=document.createElement("div");t.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_);var n=document.createElement("div");n.classList.add(this.CssClasses_.BACKGROUND_FLEX),t.appendChild(n),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),n.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),n.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},a.prototype.mdlDowngrade_=function(){"use strict";this.element_.removeEventListener("input",this.boundInputHandler),this.element_.removeEventListener("change",this.boundChangeHandler),this.element_.removeEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.removeEventListener("mousedown",this.boundContainerMouseDownHandler)},t.register({constructor:a,classAsString:"MaterialSlider",cssClass:"mdl-js-slider"}),f.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},f.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},f.prototype.createLayer=function(e){"use strict";var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);var s=[n,r,i];for(var o=0;o<s.length;o++){var u=document.createElement("div");u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[o].appendChild(u)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},f.prototype.stop=function(){"use strict";this.element_.classList.remove("is-active")},f.prototype.start=function(){"use strict";this.element_.classList.add("is-active")},f.prototype.init=function(){"use strict";if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},t.register({constructor:f,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner"}),l.prototype.Constant_={TINY_TIMEOUT:.001},l.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},l.prototype.onChange_=function(e){"use strict";this.updateClasses_()},l.prototype.onFocus_=function(e){"use strict";this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},l.prototype.onBlur_=function(e){"use strict";this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},l.prototype.onMouseUp_=function(e){"use strict";this.blur_()},l.prototype.updateClasses_=function(){"use strict";this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED),this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},l.prototype.blur_=function(e){"use strict";window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},l.prototype.disable=function(){"use strict";this.inputElement_.disabled=!0,this.updateClasses_()},l.prototype.enable=function(){"use strict";this.inputElement_.disabled=!1,this.updateClasses_()},l.prototype.on=function(){"use strict";this.inputElement_.checked=!0,this.updateClasses_()},l.prototype.off=function(){"use strict";this.inputElement_.checked=!1,this.updateClasses_()},l.prototype.init=function(){"use strict";if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("div");e.classList.add(this.CssClasses_.TRACK);var t=document.createElement("div");t.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");n.classList.add(this.CssClasses_.FOCUS_HELPER),t.appendChild(n),this.element_.appendChild(e),this.element_.appendChild(t),this.boundMouseUpHandler=this.onMouseUp_.bind(this);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},l.prototype.mdlDowngrade_=function(){"use strict";this.rippleContainerElement_&&this.rippleContainerElement_.removeEventListener("mouseup",this.boundMouseUpHandler),this.inputElement_.removeEventListener("change",this.boundChangeHandler),this.inputElement_.removeEventListener("focus",this.boundFocusHandler),this.inputElement_.removeEventListener("blur",this.boundBlurHandler),this.element_.removeEventListener("mouseup",this.boundMouseUpHandler)},t.register({constructor:l,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch"}),c.prototype.Constant_={},c.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},c.prototype.initTabs_=function(e){"use strict";this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new h(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},c.prototype.resetTabState_=function(){"use strict";for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},c.prototype.resetPanelState_=function(){"use strict";for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},c.prototype.init=function(){"use strict";this.element_&&this.initTabs_()},t.register({constructor:c,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"}),p.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},p.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},p.prototype.onKeyDown_=function(e){"use strict";var t=e.target.value.split("\n").length;e.keyCode===13&&t>=this.maxRows&&e.preventDefault()},p.prototype.onFocus_=function(e){"use strict";this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},p.prototype.onBlur_=function(e){"use strict";this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},p.prototype.updateClasses_=function(){"use strict";this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED),this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},p.prototype.disable=function(){"use strict";this.input_.disabled=!0,this.updateClasses_()},p.prototype.enable=function(){"use strict";this.input_.disabled=!1,this.updateClasses_()},p.prototype.change=function(e){"use strict";e&&(this.input_.value=e),this.updateClasses_()},p.prototype.init=function(){"use strict";this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_&&(this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler)),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)))},p.prototype.mdlDowngrade_=function(){"use strict";this.input_.removeEventListener("input",this.boundUpdateClassesHandler),this.input_.removeEventListener("focus",this.boundFocusHandler),this.input_.removeEventListener("blur",this.boundBlurHandler),this.boundKeyDownHandler&&this.input_.removeEventListener("keydown",this.boundKeyDownHandler)},t.register({constructor:p,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield"}),d.prototype.Constant_={},d.prototype.CssClasses_={IS_ACTIVE:"is-active"},d.prototype.handleMouseEnter_=function(e){"use strict";e.stopPropagation();var t=e.target.getBoundingClientRect();this.element_.style.left=t.left+t.width/2+"px",this.element_.style.marginLeft=-1*(this.element_.offsetWidth/2)+"px",this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},d.prototype.handleMouseLeave_=function(e){"use strict";e.stopPropagation(),this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},d.prototype.init=function(){"use strict";if(this.element_){var e=this.element_.getAttribute("for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveHandler=this.handleMouseLeave_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("click",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveHandler))}},d.prototype.mdlDowngrade_=function(){"use strict";this.forElement_&&(this.forElement_.removeEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.removeEventListener("click",this.boundMouseEnterHandler,!1),this.forElement_.removeEventListener("mouseleave",this.boundMouseLeaveHandler))},t.register({constructor:d,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"}),v.prototype.Constant_={MAX_WIDTH:"(max-width: 850px)",TAB_SCROLL_PIXELS:100,MENU_ICON:"menu",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},v.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},v.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating"},v.prototype.contentScrollHandler_=function(){"use strict";if(this.header_.classList.contains(this.CssClasses_.IS_ANIMATING))return;this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},v.prototype.screenSizeHandler_=function(){"use strict";this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN))},v.prototype.drawerToggleHandler_=function(){"use strict";this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN)},v.prototype.headerTransitionEndHandler=function(){"use strict";this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},v.prototype.headerClickHandler=function(){"use strict";this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},v.prototype.resetTabState_=function(e){"use strict";for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},v.prototype.resetPanelState_=function(e){"use strict";for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},v.prototype.init=function(){"use strict";if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);var t=this.element_.childNodes;for(var n=0;n<t.length;n++){var r=t[n];r.classList&&r.classList.contains(this.CssClasses_.HEADER)&&(this.header_=r),r.classList&&r.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=r),r.classList&&r.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=r)}this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var i=this.Mode_.STANDARD;this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?i=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(i=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler.bind(this)),this.header_.addEventListener("click",this.headerClickHandler.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(i=this.Mode_.SCROLL,e.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),i===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):i===this.Mode_.SEAMED||i===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):i===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_()));if(this.drawer_){var s=document.createElement("div");s.classList.add(this.CssClasses_.DRAWER_BTN);var o=document.createElement("i");o.classList.add(this.CssClasses_.ICON),o.textContent=this.Constant_.MENU_ICON,s.appendChild(o),s.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(s,this.header_.firstChild):this.element_.insertBefore(s,this.content_);var u=document.createElement("div");u.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(u),u.addEventListener("click",this.drawerToggleHandler_.bind(this))}if(this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var a=document.createElement("div");a.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(a,this.tabBar_),this.header_.removeChild(this.tabBar_);var f=document.createElement("div");f.classList.add(this.CssClasses_.TAB_BAR_BUTTON),f.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var l=document.createElement("i");l.classList.add(this.CssClasses_.ICON),l.textContent=this.Constant_.CHEVRON_LEFT,f.appendChild(l),f.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var c=document.createElement("div");c.classList.add(this.CssClasses_.TAB_BAR_BUTTON),c.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var h=document.createElement("i");h.classList.add(this.CssClasses_.ICON),h.textContent=this.Constant_.CHEVRON_RIGHT,c.appendChild(h),c.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),a.appendChild(f),a.appendChild(this.tabBar_),a.appendChild(c);var p=function(){this.tabBar_.scrollLeft>0?f.classList.add(this.CssClasses_.IS_ACTIVE):f.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?c.classList.add(this.CssClasses_.IS_ACTIVE):c.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",p),p(),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);var d=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),v=this.content_.querySelectorAll("."+this.CssClasses_.PANEL);for(var g=0;g<d.length;g++)new m(d[g],d,v,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:v,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"}),g.prototype.Constant_={},g.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},g.prototype.selectRow_=function(e,t,n){"use strict";if(t)return function(){e.checked?t.classList.add(this.CssClasses_.IS_SELECTED):t.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this);if(n)return function(){var t,r;if(e.checked)for(t=0;t<n.length;t++)r=n[t].querySelector("td").querySelector(".mdl-checkbox"),r.MaterialCheckbox.check(),n[t].classList.add(this.CssClasses_.IS_SELECTED);else for(t=0;t<n.length;t++)r=n[t].querySelector("td").querySelector(".mdl-checkbox"),r.MaterialCheckbox.uncheck(),n[t].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this)},g.prototype.createCheckbox_=function(e,n){"use strict";var r=document.createElement("label");r.classList.add("mdl-checkbox"),r.classList.add("mdl-js-checkbox"),r.classList.add("mdl-js-ripple-effect"),r.classList.add("mdl-data-table__select");var i=document.createElement("input");return i.type="checkbox",i.classList.add("mdl-checkbox__input"),e?i.addEventListener("change",this.selectRow_(i,e)):n&&i.addEventListener("change",this.selectRow_(i,null,n)),r.appendChild(i),t.upgradeElement(r,"MaterialCheckbox"),r},g.prototype.init=function(){"use strict";if(this.element_){var e=this.element_.querySelector("th"),t=this.element_.querySelector("tbody").querySelectorAll("tr");if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var n=document.createElement("th"),r=this.createCheckbox_(null,t);n.appendChild(r),e.parentElement.insertBefore(n,e);for(var i=0;i<t.length;i++){var s=t[i].querySelector("td");if(s){var o=document.createElement("td"),u=this.createCheckbox_(t[i]);o.appendChild(u),t[i].insertBefore(o,s)}}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:g,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"}),y.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},y.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},y.prototype.downHandler_=function(e){"use strict";if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=Math.sqrt(t.width*t.width+t.height*t.height)*2+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);if(e.type==="mousedown"&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{e.type==="touchstart"&&(this.ignoringMouseDown_=!0);var n=this.getFrameCount();if(n>0)return;this.setFrameCount(1);var r=e.currentTarget.getBoundingClientRect(),i,s;if(e.clientX===0&&e.clientY===0)i=Math.round(r.width/2),s=Math.round(r.height/2);else{var o=e.clientX?e.clientX:e.touches[0].clientX,u=e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(o-r.left),s=Math.round(u-r.top)}this.setRippleXY(i,s),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},y.prototype.upHandler_=function(e){"use strict";e&&e.detail!==2&&this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)},y.prototype.init=function(){"use strict";if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(this.rippleElement_!==null){var n,r,i,s="translate("+this.x_+"px, "+this.y_+"px)";t?(r=this.Constant_.INITIAL_SCALE,i=this.Constant_.INITIAL_SIZE):(r=this.Constant_.FINAL_SCALE,i=this.rippleSize_+"px",e&&(s="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),n="translate(-50%, -50%) "+s+r,this.rippleElement_.style.webkitTransform=n,this.rippleElement_.style.msTransform=n,this.rippleElement_.style.transform=n,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-->0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},y.prototype.mdlDowngrade_=function(){"use strict";this.element_.removeEventListener("mousedown",this.boundDownHandler),this.element_.removeEventListener("touchstart",this.boundDownHandler),this.element_.removeEventListener("mouseup",this.boundUpHandler),this.element_.removeEventListener("mouseleave",this.boundUpHandler),this.element_.removeEventListener("touchend",this.boundUpHandler),this.element_.removeEventListener("blur",this.boundUpHandler)},t.register({constructor:y,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1}),t}(),window.componentHandler}),define("moment",["jquery"],function(e){return function(e){!function(e){function t(e,t){return function(n){return a(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){o(this,e)}function s(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,i=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,o=e.minutes||e.minute||e.m||0,u=e.seconds||e.second||e.s||0,a=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=a+1e3*u+6e4*o+36e5*s,this._days=i+7*r,this._months=n+12*t,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function f(e,t,n,r){var i,s,o=t._milliseconds,u=t._days,a=t._months;o&&e._d.setTime(+e._d+o*n),(u||a)&&(i=e.minute(),s=e.hour()),u&&e.date(e.date()+u*n),a&&e.month(e.month()+a*n),o&&!r&&D.updateOffset(e),(u||a)&&(e.minute(i),e.hour(s))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&s++;return s+i}function h(e){return e?it[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function p(e,t){return t.abbr=e,j[e]||(j[e]=new r),j[e].set(t),j[e]}function d(e){if(!e)return D.fn._lang;if(!j[e]&&F)try{require("./lang/"+e)}catch(t){return D.fn._lang}return j[e]}function v(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function m(e){var t,n,r=e.match(R);for(t=0,n=r.length;n>t;t++)r[t]=at[r[t]]?at[r[t]]:v(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function g(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var r=5;r--&&U.test(t);)t=t.replace(U,n);return st[t]||(st[t]=m(t)),st[t](e)}function y(e,t){switch(e){case"DDDD":return X;case"YYYY":return V;case"YYYYY":return $;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return d(t._l)._meridiemParse;case"X":return G;case"Z":case"ZZ":return K;case"T":return Q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return z;default:return new RegExp(e.replace("\\",""))}}function b(e){var t=(K.exec(e)||[])[0],n=(t+"").match(tt)||["-",0,0],r=+(60*n[1])+~~n[2];return"+"===n[0]?-r:r}function w(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":i[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":r=d(n._l).monthsParse(t),null!=r?i[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(i[2]=~~t);break;case"YY":i[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=d(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(t)}null==t&&(n._isValid=!1)}function E(e){var t,n,r=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function S(e){var t,n,r=e._f.match(R),i=e._i;for(e._a=[],t=0;t<r.length;t++)n=(y(r[t],e).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),at[r[t]]&&w(r[t],n,e);i&&(e._il=i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),E(e)}function x(e){var t,n,r,s,u,a=99;for(s=0;s<e._f.length;s++)t=o({},e),t._f=e._f[s],S(t),n=new i(t),u=c(t._a,n.toArray()),n._il&&(u+=n._il.length),a>u&&(a=u,r=n);o(e,r)}function T(e){var t,n=e._i,r=Y.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;4>t;t++)if(et[t][1].exec(n)){e._f+=et[t][0];break}K.exec(n)&&(e._f+=" Z"),S(e)}else e._d=new Date(n)}function N(t){var n=t._i,r=I.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?T(t):l(n)?(t._a=n.slice(0),E(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function C(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function k(e,t,n){var r=B(Math.abs(e)/1e3),i=B(r/60),s=B(i/60),o=B(s/24),u=B(o/365),a=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",B(o/30)]||1===u&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,C.apply({},a)}function L(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=D(e).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function A(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=d().preparse(t)),D.isMoment(t)?(e=o({},t),e._d=new Date(+t._d)):n?l(n)?x(e):S(e):N(e),new i(e))}function O(e,t){D.fn[e]=D.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),D.updateOffset(this),this):this._d["get"+n+t]()}}function M(e){D.duration.fn[e]=function(){return this._data[e]}}function _(e,t){D.duration.fn["as"+e]=function(){return+this/t}}for(var D,P,H="2.1.0",B=Math.round,j={},F="undefined"!=typeof module&&module.exports,I=/^\/?Date\((\-?\d+)/i,q=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,R=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,z=/\d\d?/,W=/\d{1,3}/,X=/\d{3}/,V=/\d{1,4}/,$=/[+\-]?\d{1,6}/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,K=/Z|[\+\-]\d\d:?\d\d/i,Q=/T/i,G=/[\+\-]?\d+(\.\d{1,3})?/,Y=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",et=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tt=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),rt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},it={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},st={},ot="DDD w W M D d".split(" "),ut="M D H h m s w W".split(" "),at={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(e/60),2)+":"+a(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ot.length;)P=ot.pop(),at[P+"o"]=n(at[P],P);for(;ut.length;)P=ut.pop(),at[P+P]=t(at[P],2);for(at.DDDD=t(at.DDD,3),r.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=D([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=D([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return L(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},D=function(e,t,n){return A({_i:e,_f:t,_l:n,_isUTC:!1})},D.utc=function(e,t,n){return A({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},D.unix=function(e){return D(1e3*e)},D.duration=function(e,t){var n,r,i=D.isDuration(e),o="number"==typeof e,u=i?e._input:o?{}:e,a=q.exec(e);return o?t?u[t]=e:u.milliseconds=e:a&&(n="-"===a[1]?-1:1,u={y:0,d:~~a[2]*n,h:~~a[3]*n,m:~~a[4]*n,s:~~a[5]*n,ms:~~a[6]*n}),r=new s(u),i&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},D.version=H,D.defaultFormat=Z,D.updateOffset=function(){},D.lang=function(e,t){return e?(t?p(e,t):j[e]||d(e),D.duration.fn._lang=D.fn._lang=d(e),void 0):D.fn._lang._abbr},D.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),d(e)},D.isMoment=function(e){return e instanceof i},D.isDuration=function(e){return e instanceof s},D.fn=i.prototype={clone:function(){return D(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return g(D(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?D.utc(this._a):D(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=g(this,e||D.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?D.duration(+t,e):D.duration(e,t),f(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?D.duration(+t,e):D.duration(e,t),f(this,n,-1),this},diff:function(e,t,n){var r,i,s=this._isUTC?D(e).zone(this._offset||0):D(e).local(),o=6e4*(this.zone()-s.zone());return t=h(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-D(this).startOf("month")-(s-D(s).startOf("month")))/r,i-=6e4*(this.zone()-D(this).startOf("month").zone()-(s.zone()-D(s).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:u(i)},from:function(e,t){return D.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(D(),e)},calendar:function(){var e=this.diff(D().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),D.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+D(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+D(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+D(e).startOf(t)},min:function(e){return e=D.apply(null,arguments),this>e?this:e},max:function(e){return e=D.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=b(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&f(this,D.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return D.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=B((D(this).startOf("day")-D(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=L(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=L(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=L(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(t){return t===e?this._lang:(this._lang=d(t),this)}},P=0;P<nt.length;P++)O(nt[P].toLowerCase().replace(/s$/,""),nt[P]);O("year","FullYear"),D.fn.days=D.fn.day,D.fn.months=D.fn.month,D.fn.weeks=D.fn.week,D.fn.isoWeeks=D.fn.isoWeek,D.fn.toJSON=D.fn.toISOString,D.duration.fn=s.prototype={_bubble:function(){var e,t,n,r,i=this._milliseconds,s=this._days,o=this._months,a=this._data;a.milliseconds=i%1e3,e=u(i/1e3),a.seconds=e%60,t=u(e/60),a.minutes=t%60,n=u(t/60),a.hours=n%24,s+=u(n/24),a.days=s%30,o+=u(s/30),a.months=o%12,r=u(o/12),a.years=r},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=k(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=D.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=D.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:D.fn.lang};for(P in rt)rt.hasOwnProperty(P)&&(_(P,rt[P]),M(P.toLowerCase()));_("Weeks",6048e5),D.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},D.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),F&&(module.exports=D),"undefined"==typeof ender&&(this.moment=D),"function"==typeof define&&define.amd&&define("moment",[],function(){return D})}.call(this),moment.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}(),moment}),define("models/mail/MessagesModel",["underscore","backbone","shared","moment"],function(e,t,n,r){var i=t.Model.extend({defaults:{msgID:"",folderID:"",msgDate:"",msgFrom:{fullName:"",mailAddress:""},msgTo:[],msgReplyTo:[],msgCc:[],msgCC:[],msgBcc:[],msgSubject:"",msgHasAttachments:"",msgFlagged:"",msgForwarded:"",msgAnswered:"",msgDraft:"",msgSeen:"",msgSize:"",msgBodyResume:"",msgType:"",files:[]},initialize:function(){this.api=n.api,this.readResource="/Mail/Messages",this.updateResource="",this.createResource="/Mail/Send",this.deleteResource="/Mail/DelMessage"},checkAttachments:function(e){var t=n.max_upload_file_size,r=n.max_upload_file_qtd,i=this.get("files"),s=0,o=!0;for(var u in i)s+=i[u].fileSize;if(s/1024>t){var a=n.bytesToSize(t*1024,0);o="Sua mensagem está com mais de "+a+"!"}return i.length>r&&(o="Sua mensagem está com mais de "+r+" anexos!"),o!=1&&e&&e&&n.showMessage({type:"warning",icon:"icon-email",title:o,description:"",elementID:"#pageMessage"}),o},clearFiles:function(){this.set("files",[])},addFile:function(e,t,n,r,i){var s=this.get("files"),o={fileID:e,filename:decodeURI(n),fileSize:i,src:t,dataType:r};s.push(o),this.set("files",s),this.checkAttachments(!0)},removeFileByID:function(e){var t=this.get("files"),n=[];for(var r in t)t[r].fileID!=e&&n.push(t[r]);this.set("files",n)},route:function(){return"/Mail/Messages/0/"+this.get("msgID")+"/"+this.get("folderID")},listItemID:function(){return"Mail_Message_ListItem_"+this.get("folderID").split("/").join("_").split(" ").join("_")+"_"+this.get("msgID")},getEmailsRecipientsInArray:function(e){var t="",n=this.get(e);for(var r in n)t+=this.getEmailStringForMessageRecipient(n[r])+", ";return t},getAttachmentSize:function(t){var r="",i=this;return e.each(this.get("msgAttachments"),function(e){e.attachmentID==t&&(r=n.bytesToSize(e.attachmentSize,0))}),""+r+""},getMessageBody:function(e,t,n){var r="";n!=undefined?r=n.get("msgBody"):r=this.get("msgBody");var i="";return e==1?(i="<br><br>"+this.getUserSignature()+"<br><br>",t=="forward"?(i+=n.getForwardMessageString(n),i=this.nl2br(i,"<br>"),i+=r):t=="reply"&&(i+=this.getReplyMessageString(n),i=this.nl2br(i,"<br>"),i=i+'<blockquote style="margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex; border-left-color: rgb(204, 204, 204); border-left-width: 1px; border-left-style: solid;">'+r+"</blockquote>")):i=r,i},getReplyMessageString:function(e){var t=e.get("msgDate"),n="Em "+t+", "+e.getEmailStringForMessageRecipient(e.get("msgFrom"),!0)+" escreveu: \n\n";return n},getForwardMessageString:function(t){var n="---------- Mensagem encaminhada ----------\n";return n=n+"Remetente: "+t.get("msgFrom").mailAddress+"\n",n=n+"Data: "+t.get("msgDate")+"\n",n=n+"Assunto: "+t.get("msgSubject")+"\n",n+="Para: ",e.each(t.get("msgTo"),function(e){n=n+t.getEmailStringForMessageRecipient(e,!0)+", "}),t.get("msgCc").length&&(n+="\nCc: ",e.each(t.get("msgCc"),function(e){n=n+t.getEmailStringForMessageRecipient(e,!0)+", "})),n+="\n",n},getUserSignature:function(){return n.settings.mailSignature==undefined&&(n.settings.mailSignature="Mensagem enviada pelo Expresso Mobile."),n.settings.typeSignature!="html"?this.nl2br(n.settings.mailSignature,"<br>"):n.settings.mailSignature},nl2br:function(e,t){return t==undefined&&(t="<br>"),(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"")},getEmailStringForMessageRecipient:function(e,t){var n="";return $.trim(e.fullName)!=""&&$.trim(e.fullName)!="undefined"?t==undefined?n+='"'+$.trim(e.fullName)+'" <'+e.mailAddress+">":n+='"'+$.trim(e.fullName)+'" &lt;'+e.mailAddress+"&gt;":n+=e.mailAddress+"",n},htmlDecode:function(e){var t=$("<div/>").html(e).text();return t},htmlEncode:function(e){return $("<div/>").text(e).html()},removeRecipient:function(e,t){var n=this.get(e),r=[];for(var i=0,s;recipient=n[i];i++)recipient.mailAddress!=t&&r.push(recipient);this.set(e,r)},addRecipient:function(e,t,n){var r=this.get(e),i={fullName:n,mailAddress:t};r.push(i),this.set(e,r)},getTimeAgo:function(){var e=this.get("msgDate");return r(e,"DD/MM/YYYY hh:mm").fromNow()},getQtdFiles:function(){var e=this.get("files");return e.length},addBinaryFile:function(e,t,n,r){var i=new FileReader,s=this;i.fileName=t,i.fileID=e,i.fileSize=n.size,i.onerror=function(e){},i.onprogress=function(e){},i.onabort=function(e){},i.onloadstart=function(e){},i.onload=function(e){blobBinaryString=i.result,s.addFile(i.fileID,blobBinaryString,escape(i.fileName),"binary",i.fileSize),r!=undefined&&r(s)},i.readAsBinaryString(n)},addNewMessageFiles:function(e){var t=this,r=1,i=function(n){alert("Não foi possível anexar um arquivo!\n"),e(t)},s=function(n){var i=function(t){e(t)};r+=1,t.addBinaryFile(r,n.name,n,i)},o=function(e){e.file(s,i)},u=function(e){var t=n.newMessageFiles;for(var r=0,s;s=t[r];r++){var u=t[r];e.root.getFile(u,null,o,i)}};n.newMessageFiles!=0?window.requestFileSystem(LocalFileSystem.PERSISTENT,0,u,i):e(t)},send:function(e,t){var n=this,r={msgTo:this.get("msgToString"),msgCcTo:this.get("msgCcString"),msgBccTo:this.get("msgBccString"),msgSubject:this.get("msgSubject"),msgBody:this.get("msgBody"),msgType:this.get("msgType")},i=this.get("files");this.api.resource(this.createResource).params(r),this.api.clearFiles();for(var s in i)this.api.addFile(i[s].src,i[s].filename,i[s].dataType,i[s].size);this.api.dataType("fileupload").done(function(t){e(t)}).fail(function(e){t(e)}).execute()},getMessageSize:function(){return n.bytesToSize(this.get("msgSize"),0)},"delete":function(e,t){var n=this;this.api.resource(this.deleteResource).params({folderID:this.get("folderID"),msgID:this.get("msgID")}).done(function(t){e(t)}).fail(function(e){t(e)}).execute()}});return i}),define("collections/mail/MessagesCollection",["underscore","backbone","shared","models/mail/MessagesModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},done:function(e){return this._data.done=e,this},fail:function(e){return this._data.fail=e,this},currentPage:1,currentFolder:"",currentSearch:"",_ignoreCache:!1,ignoreCache:function(e){return this._ignoreCache=e,this},initialize:function(e,t){this.api=n.api,this.model=r},getMessagesInFolder:function(e,t,i,s){var o=this;o._data={};var u=r,a=this._data;this.currentFolder=e,this.currentSearch=i;var f=null;return s?(f=s,this.currentPage=1):f=o.currentPage,this.api.resource("/Mail/Messages").params({folderID:e,msgID:t,search:i,resultsPerPage:n.settings.resultsPerPage,page:f}).done(function(t){for(var r in t.messages){var i=new u(t.messages[r]);o.add(i)}o._data.done&&o._data.done(o),e=="INBOX"&&(n.lastCheckDate=Date.now())}).fail(function(e){o._data.fail&&o._data.fail(e)}),this._ignoreCache&&(console.log("ignoreCache"),this.api.ignoreCache(!0)),o},getMessageByID:function(e,t){return this.getMessagesInFolder(e,t,"",1)},execute:function(){return this.api.execute()},getNextPage:function(){return this.currentPage=this.currentPage+1,this.getMessagesInFolder(this.currentFolder,this.currentSearch,this.currentPage)}});return i}),define("text!templates/login/loginTemplate.html",[],function(){return'<div id="pageMessage"></div>\n<div class="login-center" style="width: 250px; margin-top: 20px;">\n      <div class="login-logo animation-scale-fadein"></div>\n</div>\n<div class="login-center" style="width: 250px; margin-top: 20px;">\n      <form method="POST" action="#/Home" onsubmit="return false;">\n            <div id="login-loading" class="animation-falling mdl-card mdl-shadow--2dp" style="width: 250px;">\n              <div class="mdl-card__supporting-text" style="">\n                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">\n                        <% if (servers.length > 1) { %>\n                        <select id="serverURL" name="serverURL" class="mdl-textfield__input" >\n                              <% _.each(servers, function(server){ %>\n                                    <option value="<%=server.getServerURL()%>"><%=server.get("serverName")%></option>\n                              <% }); %>\n                        </select>\n                        <label class="mdl-textfield__label" for="serverURL">Servidor</label>\n                        <% } else { %>\n                              <% _.each(servers, function(server){ %>\n                                    <input type="hidden" id="serverURL" name="serverURL" value="<%=server.getServerURL()%>" />\n                              <% }); %>\n                        <% } %>\n                  </div>\n                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                      <input id="username" type="username" name="username" class="mdl-textfield__input" type="text" id="username" />\n                      <label class="mdl-textfield__label" for="username">Usu&aacute;rio</label>\n                  </div>\n                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                      <input id="password" type="password" name="password" class="mdl-textfield__input" type="text" id="username" />\n                      <label class="mdl-textfield__label" for="username">Senha</label>\n                  </div>\n              </div>\n              <div class="mdl-card__actions mdl-card--border">\n                   <button id="btn-login" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="width: 100%;">\n                    Conectar\n                   </button>\n                </div>\n            </div>\n      </form>\n</div>\n<div class="login-center" style="width: 250px; margin-top: 20px;">\n      <div class="login-company-logo animation-scale-fadein"></div>\n      <% if (Shared.isPhonegap()) { %>\n            <div id="helpLink" class="help">? Ajuda/Perguntas Frequentes</div>\n      <% } %>\n</div>\n\n\n\n\n'}),define("text!templates/home/loadingTemplate.html",[],function(){return'<div class="expresso-loading-spacer">\n    <div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active"></div>\n</div>\n'}),define("views/home/LoadingView",["jquery","underscore","backbone","shared","text!templates/home/loadingTemplate.html","material"],function(e,t,n,r,i,s){var o=n.View.extend({el:e("#content"),render:function(){r.menuView&&r.menuView.renderContextMenu(0,[]);var e={_:t},n=t.template(i,e);this.$el.html(n),s.upgradeDom()},loaded:function(){}});return o}),define("models/home/ServerModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{serverID:"",serverName:"",serverDescription:"",serverUrl:"",serverContext:"",serverStatus:"1"},initialize:function(){},getServerURL:function(){return this.get("serverUrl").concat(this.get("serverContext"))}});return r}),define("collections/home/ServersCollection",["underscore","backbone","shared","models/home/ServerModel","expressoAPI"],function(e,t,n,r,i){var s=t.Collection.extend({model:r,_data:{},done:function(e){return this._data.done=e,this},fail:function(e){return this._data.fail=e,this},initialize:function(e,t){this.api=n.api,this.model=r},getServersFromExpressoLivre:function(){var e=this,t=this._data,i=n.api.phoneGap(),s=n.ComunityServerURL;i?n.api.context(s).crossdomain(s):n.api.context(n.context).crossdomain(s),n.api.resource("AvailableServers").params({}).done(function(t){for(var n in t.servers){var i=new r(t.servers[n]);e.add(i)}return e._data.done&&e._data.done(e),!1}).fail(function(t){return e._data.fail&&e._data.fail(t),!1}).execute()},getServers:function(){var e=this,t=this._data,i=n.api.phoneGap();if(!i)var s=$.ajax("servers.json").done(function(t){try{var n=jQuery.parseJSON(t).result;for(var i in n.servers){var s=new r(n.servers[i]);e.add(s)}e._data.done&&e._data.done(e)}catch(o){e.getServersFromExpressoLivre()}});else e.getServersFromExpressoLivre();return e}});return s}),define("text!templates/mail/messagesListTemplate.html",[],function(){return'<div id="pull-to-action-loader"></div>\n<!-- <paper-fab-speed-dial>\n  <paper-fab-speed-dial-action icon="copy">Copy</paper-fab-speed-dial-action>\n  <paper-fab-speed-dial-action icon="print">Print</paper-fab-speed-dial-action>\n</paper-fab-speed-dial> -->\n<ul id="scrollerList">\n\n\n</ul>\n<div id="messages-loading-area" class="expresso-loading-spacer">\n	<% if (!collection.length) { %>Esta pasta n&atilde;o cont&eacute;m mensagens.<% } else { %>\n		\n	<% } %>\n</div>\n\n\n'}),define("text!templates/mail/messagesListItemsTemplate.html",[],function(){return'<% if ((Shared.isBuiltInExpresso()) && (1 == 0) ) { %>\n<% \n  _.each(messages, function(message){ \n   %>\n  <tr>\n      <td class="mdl-data-table__cell--non-numeric" style="position: relative; overflow: hidden;"><a href="<%=message.route()%>" class="listItemLink"><%= message.get("msgSubject") %></a></td>\n      <td><%= message.get("msgFrom").mailAddress %></td>\n      <td><%=message.getTimeAgo()%></td>\n      <td><%=message.getMessageSize()%></td>\n    </tr>\n<% }); %>\n<% } else { %>\n\n<% _.each(parentFolders, function(folder){ %>\n  <li>\n    <a href="<%=folder.route()%>" name="<%=folder.route()%>" data-toggle="collapse" data-target="#menu" class="listFolderItemLink">\n      <% if (folder.get("folderType") == 0) { %>\n        <div class="folder-icon  folder-inbox"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 4) { %>\n        <div class="folder-icon folder-drafts"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 1) { %>\n        <div class="folder-icon  folder-sent"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 2) { %>\n        <div class="folder-icon  folder-blue"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 3) { %>\n        <div class="folder-icon  folder-trash-full"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 5) { %>\n        <div class="folder-icon  folder-blue"></div>\n      <% } %>\n      <% if (folder.get("folderType") == 6) { %>\n        <div class="folder-icon  folder-shared"></div>\n      <% } %>\n      <% if (folder.get("qtdUnreadMessages") != 0) { %><strong class="badge badge-info" style="float: right; margin-top: 20px; margin-right: 10px;"><%=folder.get("qtdUnreadMessages")%></strong><% } %>\n      <h3 class="font-mid" style="margin-left: 40px;"><%=folder.get("folderName")%></h3>\n    </a>\n  </li>\n<% }); %>\n<% \n\n  _.each(messages, function(message){ \n   %>\n   <li id="<%=message.listItemID()%>" class="messageListItem <% if (message.get("msgID") == msgIDSelected) { %>selected<%} %>"> \n    <a href="<%=message.route()%>" rowid="<%=message.listItemID()%>" class="listItemLink">\n        <div class="messageItemContainer">\n          <div id="thread" class="layout horizontal ">\n            <div class="flex layout horizontal">\n              <div class="message-header layout vertical flex unread">\n                <span class="layout horizontal center justified">\n                  <span class="name">\n                    <%= message.get("msgSubject") %>\n                    <span class="messagecount"></span>\n                  </span>\n                  <time><%=message.getTimeAgo()%></time>\n                </span>\n                <!-- <span class="subject"></span> -->\n                <span id="lastline" class="layout horizontal center justified">\n                  <span class="snippet flex"><%= message.get("msgFrom").fullName %> &lt;<%= message.get("msgFrom").mailAddress %>&gt;</span>\n                </span>\n              </div>\n              <% if (Shared.isDesktop()) { %>\n              <div id="actionicons">\n                <button id="accbtn_reply" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">\n                  <i class="material-icons" role="presentation">reply</i>\n                  <span class="visuallyhidden">Responder</span>\n                </button>\n                <button id="accbtn_reply_all" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">\n                  <i class="material-icons" role="presentation">reply_all</i>\n                  <span class="visuallyhidden">Responder p/ Todos</span>\n                </button>\n                <button id="accbtn_forward" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">\n                  <i class="material-icons" role="presentation">forward</i>\n                  <span class="visuallyhidden">Encaminhar</span>\n                </button>\n              </div> \n              <% } %> \n            </div>\n          </div>\n        </div>\n    </a>\n  </li>\n  <!--<li id="<%=message.listItemID()%>" <% if (message.get("msgID") == msgIDSelected) { %>class="selected"<%} %>> \n    <a href="<%=message.route()%>" class="listItemLink">\n      <div class="msg-list-images">\n        <span class="font-small" style="text-align: right; margin: 5px; font-size: 10px;"><%=message.getTimeAgo()%></span>\n        <% if (message.get("msgHasAttachments") == \'1\') { %>\n        <div class="icon-msg-details icon-msg-details-attachments"></div>\n        <% } %>\n        <% if (message.get("msgFlagged") == \'1\') { %>\n        <div class="icon-msg-details icon-msg-details-flagged"></div>\n        <% } %>\n        <% if (message.get("msgForwarded") == \'1\') { %>\n        <div class="icon-msg-details icon-msg-details-forwarded"></div>\n        <% } %>\n        <div class="clear"></div>\n      </div>\n      <% if ((message.get("msgSeen") == \'0\') && (message.get("msgID") != msgIDSelected)) { %>\n        <div id="<%=message.listItemID()%>_unread" class="msg-unread"></div>\n      <% } %>\n      <h3 class="font-mid"><%= message.get("msgSubject") %></h3>\n      <span class="font-small"><%= message.get("msgFrom").mailAddress %></span>\n    </a> \n  </li>-->\n<% }); %>\n<% } %>'}),define("views/mail/MessagesListItemView",["jquery","underscore","backbone","shared","material"],function(e,t,n,r,i){document.registerElement("mail-thread2",{prototype:Object.create(HTMLElement.prototype)});var s=n.View.extend({tagName:"mail-thread",_shadow:null,initialize:function(e){this.attributes=e.attributes,this.el["msg-id"]=e.attributes["msg-id"],this.el["folder-id"]=e.attributes["folder-id"]},events:{"open-message":"_openMessage","thread-archive":"_archiveMessage","thread-unarchive":"_unarchiveMessage","thread-select":"_selectMessage","message-starred":"_starredMessage"},resize:function(){this.el.resize()},_starredMessage:function(e){var t=e.currentTarget;console.log("starredMessage:"+t.get("msg-id")+" in folder:"+t.get("folder-id"))},_selectMessage:function(e){var t=e.currentTarget;t.selected==1?console.log("selectMessage:"+t.get("msg-id")+" in folder:"+t.get("folder-id")):console.log("unselectMessage:"+t.get("msg-id")+" in folder:"+t.get("folder-id"))},_openMessage:function(e){var t=e.currentTarget,n=t.get("route");r.router.navigate(n,{trigger:!0})},_archiveMessage:function(e){var t=e.currentTarget;console.log("archiveMessage:"+t.get("msg-id")+" in folder:"+t.get("folder-id"))},_unarchiveMessage:function(e){var t=e.currentTarget;console.log("unarchiveMessage:"+t.get("msg-id")+" in folder:"+t.get("folder-id"))},render:function(){e("#scrollerList").append(this.el)}});return s}),define("views/mail/MessagesListItemsView",["jquery","underscore","backbone","shared","text!templates/mail/messagesListItemsTemplate.html","material","views/mail/MessagesListItemView"],function(e,t,n,r,i,s,o){var u=n.View.extend({parentFolders:[],msgIDSelected:"",render:function(e){var n=this.collection.models;t.each(n,function(e){var t={};t.subject=e.get("msgSubject"),t.from=e.get("msgFrom").fullName,t.date=e.getTimeAgo(),t.bodyresume=e.get("msgBodyResume"),t["msg-id"]=e.get("msgID"),t["folder-id"]=e.get("folderID"),t.route=e.route(),e.get("msgFlagged")=="1"&&(t.starred=!0),e.get("msgSeen")=="0"&&(t.unread=!0);var n=new o({collection:e,attributes:t});n.render()})},events:{}});return u}),define("models/mail/FoldersModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{folderName:"",folderParentID:"",folderHasChildren:0,qtdUnreadMessages:0,qtdMessages:0,folderID:"INBOX",folderType:0,diskSizeUsed:"",diskSizePercent:0},initialize:function(){this.api=n.api},route:function(){return"/Mail/Messages/1/0/"+this.get("folderID")+"#"}});return r}),define("collections/mail/FoldersCollection",["underscore","backbone","shared","models/mail/FoldersModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,diskSizeUsed:0,diskSizeLimit:0,diskSizePercent:0,_data:{},done:function(e){return this._data.done=e,this},fail:function(e){return this._data.fail=e,this},currentFolder:"",currentSearch:"",initialize:function(e,t){this.api=n.api,this.model=r,this.diskSizeUsed=0,this.diskSizeLimit=0,this.diskSizePercent=0},getSubFoldersFromFolderID:function(t){var n=[];return e.each(this.models,function(e){e.get("folderParentID")==t&&n.push(e)}),n},getFolderByID:function(t){var n=[];return e.each(this.models,function(e){e.get("folderID")==t&&(n=e)}),n},renameFolder:function(e,t){var n=this;n._data={};var i=r,s=this._data;return this.api.resource("/Mail/RenameFolder").params({folderName:e,folderID:t}).done(function(e){n._data.done&&n._data.done(e)}).fail(function(e){n._data.fail&&n._data.fail(e)}),n},addFolder:function(e,t){var n=this;n._data={};var i=r,s=this._data;return this.api.resource("/Mail/AddFolder").params({folderName:e,parentFolderID:t}).done(function(e){n._data.done&&n._data.done(e)}).fail(function(e){n._data.fail&&n._data.fail(e)}),n},cleanTrash:function(){var e=this;e._data={};var t=r,n=this._data;return this.api.resource("/Mail/CleanTrash").params({}).done(function(t){e._data.done&&e._data.done(t)}).fail(function(t){e._data.fail&&e._data.fail(t)}),e},deleteFolder:function(e){var t=this;t._data={};var n=r,i=this._data;return this.api.resource("/Mail/DelFolder").params({folderID:e}).done(function(e){t._data.done&&t._data.done(e)}).fail(function(e){t._data.fail&&t._data.fail(e)}),t},getFolders:function(e,t){var i=this;i._data={};var s=r,o=this._data;return this.currentFolder=e,this.currentSearch=t,this.api.resource("/Mail/Folders").params({folderID:e,search:t}).done(function(e){for(var t in e.folders){var r=new s(e.folders[t]);i.add(r)}i.diskSizeUsed=e.diskSizeUsed,i.diskSizeLimit=e.diskSizeLimit,i.diskSizePercent=e.diskSizePercent,n.folders=i,i._data.done&&i._data.done(i)}).fail(function(e){i._data.fail&&i._data.fail(e)}),i},execute:function(){return this.api.execute()}});return i}),define("text!templates/mail/detailMessageTemplate.html",[],function(){return'<% if (messages.length != 0) { %>\n<% _.each(messages, function(message){ %>\n<div class="expresso-email animation-fadein">\n<!-- <div class="mdl-card mdl-shadow--2dp card-detailMessage"> -->\n  <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n    <h2 class="mdl-card__title-text"><%= message.get("msgSubject") %></h2>\n  </div>\n \n<article id="wrapperDetail" class="contentScroll" style="overflow: auto; width: 100%;">\n  <div id="scrollerDetail">\n    <table id="messageDetails"> \n      <tr class="detailRow">\n        <td class="item detailCol">\n          De:\n        </td>\n        <td class="description detailCol">\n          <span class="badge-big badge-write-message">\n             <%= message.get("msgFrom").mailAddress %>\n          </span>\n        </td>\n        <td class="detailCol">\n          <div class="msg-list-images" style="width: 150px;">\n            <% if (message.get("msgHasAttachments") == \'1\') { %>\n            <div class="icon-msg-details icon-msg-details-attachments"></div>\n            <% } %>\n            <% if (message.get("msgFlagged") == \'1\') { %>\n            <div class="icon-msg-details icon-msg-details-flagged"></div>\n            <% } %>\n            <% if (message.get("msgForwarded") == \'1\') { %>\n            <div class="icon-msg-details icon-msg-details-forwarded"></div>\n            <% } %>\n            <div class="clear"></div>\n          </div>\n        </td>\n      </tr> \n      <div id="msgDetails" class="hidden">\n        <tr class="detailRow">\n          <td class="item detailCol">\n            Para:\n          </td>\n          <td class="description detailCol" colspan="2">\n            <% if (message.get("msgTo")) {  %>\n              <% if (message.get("msgTo").length > 3) { %>\n                <div style="float: right;">\n                  <a href="#" class="showMoreMsgTo">e mais <%=(message.get("msgTo").length - 3)%> pessoas...</a>\n                </div>\n              <% } %>\n                <% var qtdMsgTo = 1; %>\n                <% _.each(message.get("msgTo"), function(msgRecipient){ %>\n                    <span class="detailMsgTo badge-big badge-write-message <% if (qtdMsgTo >= 4) { %>hidden<% } %>" data-mail="<%=msgRecipient.mailAddress%>">\n                      \n                    <% if ($.trim(msgRecipient.fullName) != \'\') { %> \n                      <%=$.trim(msgRecipient.fullName)%>\n                    <% } else { %>\n                      <%=msgRecipient.mailAddress%>\n                    <% } %>\n                    \n                    </span>\n                    <% qtdMsgTo = qtdMsgTo + 1; %>\n                <% }); %>\n            <% } %>\n          </td>\n        </tr> \n      \n        <% if (message.get("msgCC").length) {  %>\n        <tr class="detailRow">\n          <td class="item detailCol">\n            Cc:\n          </td>\n          <td class="description detailCol" colspan="2">\n              <% if (message.get("msgCC").length > 3) { %>\n                <div style="float: right;">\n                  <a href="#" class="showMoreMsgCc">e mais <%=(message.get("msgCC").length - 3)%> pessoas...</a>\n                </div>\n              <% } %>\n              <% var qtdMsgCc = 1; %>\n              <% _.each(message.get("msgCC"), function(msgRecipientCc){ %>\n                <span class="detailMsgCc badge-big badge-write-message <% if (qtdMsgCc >= 4) { %>hidden<% } %>">\n                <% if ($.trim(msgRecipientCc.fullName) != \'\') { %> \n                  <%=$.trim(msgRecipientCc.fullName)%>\n                <% } else { %>\n                  <%=msgRecipientCc.mailAddress%>\n                <% } %>\n                </span>\n                <% qtdMsgCc = qtdMsgCc + 1; %>\n              <% }); %>\n            \n          </td>\n        </tr> \n        <% } %>\n        <% if (message.get("msgBcc").length) {  %>\n        <tr class="detailRow">\n          <td class="item detailCol">\n            Bcc:\n          </td>\n          <td class="description detailCol" colspan="2">\n              <% _.each(message.get("msgBcc"), function(msgRecipientBcc){ %>\n                <span class="badge-big badge-write-message">\n                <% if ($.trim(msgRecipientBcc.fullName) != \'\') { %> \n                  <%=$.trim(msgRecipientBcc.fullName)%>\n                <% } else { %>\n                  <%=msgRecipientBcc.mailAddress%>\n                <% } %>\n                </span>\n              <% }); %>\n          </td>\n        </tr> \n        <% } %>\n      </div>\n      <tr class="detailRow">\n        <td class="item detailCol">\n          Data:\n        </td>\n        <td class="description detailCol" colspan="2">\n          <%=message.get("msgDate")%>&nbsp;(<%=message.getTimeAgo()%>)\n        </td>\n      </tr> \n      <!-- <tr class="detailRow">\n        <td class="item detailCol">\n          Assunto:\n        </td>\n        <td class="description detailCol" colspan="2">\n          <%= message.get("msgSubject") %>\n        </td>\n      </tr> -->\n      <% if (message.get("msgAttachments")) {  %>\n      <tr class="detailRow">\n        <td class="item detailCol">\n          Anexos:\n        </td>\n        <td class="description detailCol" colspan="2">\n            <div id="msgAttachmentsRecipients">\n\n            </div>\n\n        </td>\n      </tr> \n      <% } %>\n      <tr>\n        <td colspan="3">\n          <div class="mdl-card__actions mdl-card--border">\n            <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">reply</i></a>\n            <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">reply_all</i></a>\n            <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">forward</i></a>\n            <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">delete</i></a>\n        </div>\n        </td>\n      </tr>\n      <tr class="detailRow">\n        <td id="contentMessageBody" class="itemBody detailCol" colspan="3">\n          <div id="disable-all-css">\n          <%=message.getMessageBody(false)%>\n          </div>\n        </td>\n      </tr> \n    </table>\n\n  </div>\n</article>\n  <!-- <div class="mdl-card__actions mdl-card--border">\n      <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">reply</i>Responder</a>\n      <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">reply_all</i>Responder p/ Todos</a>\n      <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">forward</i>Encaminhar</a>\n      <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect"><i class="material-icons" role="presentation">delete</i>Apagar</a>\n    </div> -->\n</div>\n<% }); %>\n<% } else { %>\n<h2 class="font-big"><span class="font-small-info"></span>&nbsp;</h2>\n<article id="wrapperDetail" class="content">\n  <div id="scrollerDetail">\n    <br><br>\n    <center>\n      <span>\n        Nenhuma mensagem foi selecionada...\n      </span>\n    </center>\n  </div>\n</article>\n<% } %>'}),define("models/home/ContextMenuModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{route:"",id:"",title:"",iconClass:"",callBack:"",parentCallBack:"",primary:!1},initialize:function(){}});return r}),define("collections/home/ContextMenuCollection",["underscore","backbone","shared","models/home/ContextMenuModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,initialize:function(e,t){this.api=n.api,this.model=r},createModelsFromArray:function(e){for(var t in e){var n=new r(e[t]);this.add(n)}},getMessagesListMenu:function(e,t,n,r){var i=[],s={route:"/Mail/Message/New",id:"1",title:"Nova Mensagem",iconClass:"btn-compose",primary:!0},o={route:"/Mail/AddFolder/"+e+"",id:"2",iconClass:"context-add-folder",title:"Adicionar Pasta"},u={route:"/Mail/RenameFolder/"+e+"",id:"3",iconClass:"context-rename-folder",title:"Renomear Pasta"},a={route:"/Mail/DeleteFolder/"+e+"",id:"4",iconClass:"context-del-folder",title:"Apagar Pasta"},f={route:"/Mail/CleanTrash/"+e+"",id:"5",iconClass:"context-delete-message",title:"Limpar Lixeira"};return i.push(s),n==5&&(i.push(o),i.push(u),r==0&&i.push(a)),n==0&&i.push(o),n==3&&i.push(f),this.createModelsFromArray(i),this},getMailSignatureMenu:function(){var e=[{route:"/Settings/SaveMailSignature",title:"Salvar",primary:!0}];return this.createModelsFromArray(e),this},getChangePasswordMenu:function(e){var t=[{route:"#",id:"0",callBack:e.saveCallBack,parentCallBack:e.parentCallBack,title:"Salvar",primary:!0}];return this.createModelsFromArray(t),this},getSupportMenu:function(e){var t=[{route:"#",id:"0",callBack:e.saveCallBack,parentCallBack:e.parentCallBack,title:"Enviar",primary:!0}];return this.createModelsFromArray(t),this},getEditFolderMenu:function(e){var t=[{route:"#",id:"0",callBack:e.saveCallBack,parentCallBack:e.parentCallBack,title:"Salvar",primary:!0}];return this.createModelsFromArray(t),this},getDetailMessageMenu:function(e,t,n,r){var i=[],s={route:"/Mail/Message/New",id:"0",title:"Nova Mensagem",iconClass:"btn-compose",primary:!0},o={route:"/Mail/Message/ReplyMessage/"+t+"/"+e,id:"1",iconClass:"context-reply",title:"Responder"},u={route:"/Mail/Message/ReplyToAll/"+t+"/"+e,id:"2",iconClass:"context-reply-all",title:"Responder p/ Todos"},a={route:"/Mail/Message/Forward/"+t+"/"+e,id:"3",iconClass:"context-forward",title:"Encaminhar"},f={route:"/Mail/Message/DelMessage/"+t+"/"+e,id:"4",iconClass:"context-delete-message",title:"Apagar Mensagem"},l={route:"/Mail/AddFolder/"+e+"",id:"5",iconClass:"context-add-folder",title:"Adicionar Pasta"},c={route:"/Mail/RenameFolder/"+e+"",id:"6",iconClass:"context-rename-folder",title:"Renomear Pasta"},h={route:"/Mail/DeleteFolder/"+e+"",id:"7",iconClass:"context-del-folder",title:"Apagar Pasta"},p={route:"/Mail/CleanTrash/"+e+"",id:"5",iconClass:"context-delete-message",title:"Limpar Lixeira"};return i.push(s),t!=0&&(i.push(o),i.push(u),i.push(a),i.push(f)),n==5&&(i.push(l),i.push(c),r==0&&i.push(h)),n==0&&i.push(l),n==3&&i.push(p),this.createModelsFromArray(i),this},getSendMessageMenu:function(e){var t=[{route:"#",id:"0",callBack:e.sendCallBack,parentCallBack:e.parentCallBack,title:"Enviar",iconClass:"",primary:!0},{route:"#",id:"1",callBack:e.addCcBccCallBack,parentCallBack:e.parentCallBack,title:"Adicionar CC/BCC",iconClass:"icon-add-ccbcc",primary:!1}],r={route:"#",id:"3",callBack:e.takePictureCallBack,parentCallBack:e.parentCallBack,title:"Tirar Foto",iconClass:"icon-take-picture",primary:!1},i={route:"#",id:"4",callBack:e.selectPictureCallBack,parentCallBack:e.parentCallBack,title:"Escolher Foto",iconClass:"icon-select-picture",primary:!1},s={route:"#",id:"5",callBack:e.selectAttachmentFileCallBack,parentCallBack:e.parentCallBack,title:"Adicionar Anexo",iconClass:"icon-select-picture",primary:!1};return n.isPhonegap()?(t.push(r),t.push(i)):t.push(s),this.createModelsFromArray(t),this},getSendMessageMenuWithCC:function(e){var t=[{route:"#",id:"0",callBack:e.sendCallBack,parentCallBack:e.parentCallBack,title:"Enviar",iconClass:"",primary:!0},{route:"#",id:"2",callBack:e.removeCcBccCallBack,parentCallBack:e.parentCallBack,title:"Remover CC/BCC",iconClass:"icon-remove-ccbcc",primary:!1}],r={route:"#",id:"3",callBack:e.takePictureCallBack,parentCallBack:e.parentCallBack,title:"Tirar Foto",iconClass:"icon-take-picture",primary:!1},i={route:"#",id:"4",callBack:e.selectPictureCallBack,parentCallBack:e.parentCallBack,title:"Escolher Foto",iconClass:"icon-select-picture",primary:!1},s={route:"#",id:"5",callBack:e.selectAttachmentFileCallBack,parentCallBack:e.parentCallBack,title:"Adicionar Anexo",iconClass:"icon-select-picture",primary:!1};return n.api.phoneGap()?(t.push(r),t.push(i)):t.push(s),this.createModelsFromArray(t),this},getPrimaryAction:function(){var e=!1;for(var t in this.models)this.models[t].get("primary")==1&&(e=this.models[t]);return e},getActionById:function(e){var t=!1;for(var n in this.models)this.models[n].get("id")==e&&(t=this.models[n]);return t},getGeneralContactsMenu:function(){var e=[{route:"/Contacts/Personal",iconClass:"btn-catalogo-pessoal",title:"Contatos Pessoais",primary:!0}];return this.createModelsFromArray(e),this},getPersonalContactsMenu:function(){var e=[{route:"/Contacts/General",iconClass:"btn-catalogo-geral",title:"Catálogo Geral",primary:!0}];return this.createModelsFromArray(e),this},getDetailsContactMenu:function(e,t,r){var i={route:"/Mail/Message/New/"+e,id:"0",title:"Nova Mensagem",iconClass:"btn-compose",primary:!0},s={route:"/Contacts/Personal",iconClass:"context-catalogo-pessoal",id:"1",title:"Contatos Pessoais"},o={route:"/Contacts/General",iconClass:"context-catalogo-geral",id:"2",title:"Catálogo Geral"},u={route:"/Contacts/Add/"+t,id:"3",title:"Adicionar nos contatos pessoais",iconClass:"icon-add-contact-personal"},a={route:"/Contacts/Delete/"+t,id:"3",title:"Remover dos contatos pessoais",iconClass:"icon-delete-contact-personal"},f=[];return n.userHasModule("mail")?f.push(i):(u.primary=!0,u.iconClass="btn-add-contact-personal",a.primary=!0,a.iconClass="btn-delete-contact-personal"),r=="General"?(f.push(s),f.push(u)):n.apiVersion!="1.0"&&(f.push(o),f.push(a)),this.createModelsFromArray(f),this},getCalendarMenu:function(e,t,n){var r=new Date,i="00";if(e==""||e==undefined)e=r.getFullYear();if(t==""||t==undefined)t=r.getMonth()+1,t=i.substring(0,i.length-(""+t).length)+(""+t);if(n==""||n==undefined)n=r.getDate();var s=[{route:"/Calendar/Events/Add/"+e+"/"+t+"/"+n,title:"Adicionar evento",iconClass:"btn-add-event",primary:!0}];return this.createModelsFromArray(s),this},getCalendarAddEventMenu:function(e){var t=[{route:"#",id:"0",callBack:e.saveCallBack,parentCallBack:e.parentCallBack,title:"Salvar",iconClass:"btn-save-event",primary:!0},{route:"#",id:"1",callBack:e.addParticipantsCallBack,parentCallBack:e.parentCallBack,title:"Adicionar participantes",iconClass:"icon-add-contact-agenda",primary:!1,action:"addParticipants"}];return this.createModelsFromArray(t),this},getCalendarDetailsEventMenu:function(e,t,n,r,i){var s=new Date,o="00";if(n==""||n==undefined)n=s.getFullYear();if(r==""||r==undefined)r=s.getMonth()+1,r=o.substring(0,o.length-(""+r).length)+(""+r);if(i==""||i==undefined)i=s.getDate();var u=[];return e?(u.push({route:"/Calendar/Events/Edit/"+t,id:"1",title:"Editar evento",iconClass:"btn-edit-event",primary:!0}),u.push({route:"/Calendar/Events/Add/"+n+"/"+r+"/"+i,id:"0",title:"Adicionar evento",iconClass:"",primary:!1,action:"add",iconClass:"icon-add-event"}),u.push({route:"/Calendar/Events/Delete/"+t+"/"+n+"/"+r+"/"+i,id:"2",title:"Excluir evento",iconClass:"",primary:!1,action:"delete",iconClass:"icon-delete-event"})):u.push({route:"/Calendar/Events/Add/"+n+"/"+r+"/"+i,id:"0",title:"Adicionar evento",iconClass:"",primary:!0,action:"add",iconClass:"btn-add-event"}),this.createModelsFromArray(u),this},getCalendarAddEventParticipantMenu:function(e){var t=[{route:"#",id:"0",callBack:e.saveCallBack,parentCallBack:e.parentCallBack,title:"Salvar",iconClass:"btn-add-contact-agenda",primary:!0}];return this.createModelsFromArray(t),this},getChatOfflineMenu:function(e){var t=[{id:"0",route:"/ChatReconnect",title:"Reconectar",iconClass:"",primary:!0},{id:"1",route:"/Settings/Support",title:"Suporte / Sugestões",iconClass:""}];return this.createModelsFromArray(t),this}});return i}),define("text!templates/mail/previewAttachmentMessageTemplate.html",[],function(){return'<div id="attach_<%=fileID%>" class="attachment<% if (fileType != \'base64\') { %> attachment-arquivo-background <% } %>">\n    <div id="preview_<%=fileID%>" class="attachmentPreview">&nbsp;</div>\n    <div class="attachmentTitle">\n      <% if (!( (Shared.isIDevice()) && (!Shared.isPhonegap()) &&  (previewType != \'compose\')) ) { %>\n      <a id="attachLink_<%=fileID%>" href="#" class="<% if (previewType == \'compose\') { %>deleteAttachmentLink<% } else { if (Shared.isDesktop()) { %>downloadAttachmentLink<% } else { %>touchDownloadAttachmentLink<% } } %>">\n        <div class="icon-attachment <% if (previewType == \'compose\') { %>deleteAttachment<% } else { %>downloadAttachment<% } %>"></div>\n        <div class="fileSize"><%=Shared.bytesToSize(fileSize,0)%></div>\n        <div class="fileName"><%=fileName%></div>\n      </a>\n      <% } else { %>\n        <div class="fileSize"><%=Shared.bytesToSize(fileSize,0)%></div>\n        <div class="fileName"><%=fileName%></div>\n      <% } %>\n    </div>\n    <% if (fileType == "base64") { %>\n      <div style="position: relative; overflow: hidden;">\n        <img class="attachmentImage" style="position: relative; left: 0px; height: 150px;" src="data:image/jpeg;base64,<%=fileData%>">\n      </div>\n    <% } %>\n</div>'}),define("views/mail/PreviewAttachmentMessageView",["jquery","underscore","backbone","shared","views/home/LoadingView","text!templates/mail/previewAttachmentMessageTemplate.html"],function(e,t,n,r,i,s){var o=n.View.extend({previewType:"compose",fileID:"",fileName:"",fileEncoding:"",fileIndex:"",fileType:"",fileSize:"",fileData:"",msgID:"",folderID:"",hasPreview:!1,forceDownloadFile:!1,render:function(){var n="#msgAttachmentsRecipients",i={fileID:this.fileID,fileName:this.fileName,fileType:this.fileType,fileSize:this.fileSize,fileData:this.fileData,previewType:this.previewType,_:t,Shared:r},o=t.template(s,i);this.$el.html(o),e(n).prepend(this.$el),this.canShowPreview()&&this.preview();if(this.forceDownloadFile!=0){var u=this;this.getFileData(function(e,t){var n=u.base64ArrayBuffer(t);u.fileData=n,u.forceDownloadFile(u.fileID,n,u.fileName,"base64")})}},events:{"touchend .touchDownloadAttachmentLink":"download","click .downloadAttachmentLink":"download","click .deleteAttachmentLink":"deleteAttachment"},startLoading:function(){var t="attachment_image_"+this.fileID;e("#attachment_image_"+this.fileID).addClass("hidden"),e("#attach_"+this.fileID).removeClass("attachment-arquivo-background");var n=e("<div />").addClass("spinner").attr("style","position: absolute; margin-top: 20px; margin-left: 40px; ");e("#preview_"+this.fileID).empty().prepend(n)},stopLoading:function(){e("#attachment_image_"+this.fileID).removeClass("hidden"),e("#attach_"+this.fileID).addClass("attachment-arquivo-background"),e("#preview_"+this.fileID).empty()},deleteAttachment:function(t){r.currentDraftMessage.removeFileByID(this.fileID),e("#attach_"+this.fileID).remove()},canShowPreview:function(){var e=this.fileName.toLowerCase().substr(this.fileName.length-3,3),t=!1;if(this.previewType=="compose"&&this.fileType=="binary"||this.fileData=="")switch(e){case"png":t=!0;break;case"jpg":t=!0}return t},showImage:function(t){if(!this.hasPreview){var n="attachment_image_"+this.fileID,r=e("<div />").attr("style","position: relative; overflow: hidden; height: 100%;").addClass("grow"),i=e("<img />").attr("style","position: relative; left: 0px; height: 150px;").addClass("attachmentImage");i.attr("id",n),i.attr("src","data:image/jpeg;base64,"+t),i.appendTo(r),e("#attach_"+this.fileID).append(r),e("#attach_"+this.fileID).removeClass("attachment-arquivo-background");var s=e("#"+n).width(),o=0;s<160?o=(160-s)/2:s>160&&(o=(160-s)/2),s==0&&(o=0),e("#"+n).attr("style","margin-left: "+o+"px;"),this.hasPreview=!0}},base64ArrayBuffer:function(e){var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),i=r.byteLength,s=i%3,o=i-s,u,a,f,l,c;for(var h=0;h<o;h+=3)c=r[h]<<16|r[h+1]<<8|r[h+2],u=(c&16515072)>>18,a=(c&258048)>>12,f=(c&4032)>>6,l=c&63,t+=n[u]+n[a]+n[f]+n[l];return s==1?(c=r[o],u=(c&252)>>2,a=(c&3)<<4,t+=n[u]+n[a]+"=="):s==2&&(c=r[o]<<8|r[o+1],u=(c&64512)>>10,a=(c&1008)>>4,f=(c&15)<<2,t+=n[u]+n[a]+n[f]+"="),t},downloadBrowser:function(t,n){window.URL=window.URL||window.webkitURL;var r=this.base64ArrayBuffer(n);this.showImage(r);var i=t.attachmentName.toLowerCase().substr(t.attachmentName.length-3,3),s="application/*";switch(i){case"png":s="image/png";break;case"jpg":s="image/jpeg";break;case"jpge":s="image/jpge";break;case"pdf":s="application/pdf"}var o=new Blob([n],{type:s}),u=document.createElement("a"),a=t.attachmentName;u.href=window.URL.createObjectURL(o),u.setAttribute("download",a),e("body").append(u);var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),u.dispatchEvent(f),e(u).trigger("click")},downloadPhonegap:function(e,t){var n=this.base64ArrayBuffer(t);this.showImage(n),window.plugins.expresso.saveImage(n,{filename:e.attachmentName,overwrite:!0},function(t){var n=e.attachmentName.toLowerCase().substr(e.attachmentName.length-3,3),r="application/*";switch(n){case"jpg":r="image/*";break;case"png":r="image/*";break;case"pdf":r="application/pdf"}window.plugins.webintent.startActivity({action:window.plugins.webintent.ACTION_VIEW,type:r,url:"file://"+t},function(){},function(){alert("Não foi possível abrir o Arquivo.")})},function(e){alert(e)})},downloadPhonegapIOS:function(e,t){var n=e.attachmentName,r=this.base64ArrayBuffer(t);this.showImage(r),ExternalFileUtil.openWith(n,"",r,function(e){},function(e){alert(e)})},getFileData:function(e){var t=this;this.startLoading();var n={attachmentID:this.fileID,attachmentName:this.fileName,attachmentEncoding:this.fileEncoding,attachmentIndex:this.fileIndex,msgID:this.msgID,folderID:this.folderID};r.api.resource("/Mail/Attachment").dataType("arraybuffer").params(n).done(function(r){t.stopLoading(),e(n,r)}).execute()},download:function(){var e=this;this.getFileData(function(t,n){r.isPhonegap()&&r.isAndroid()?e.downloadPhonegap(t,n):r.isPhonegap()&&r.isIDevice()?e.downloadPhonegapIOS(t,n):e.downloadBrowser(t,n)})},preview:function(e){var t=this;if(this.previewType!="compose"||this.forceDownloadFile!=0)this.getFileData(function(e,n){var r=t.base64ArrayBuffer(n);t.showImage(r)});else{var n=new FileReader;n.fileName=t.fileName,n.fileID=t.fileID,n.onerror=function(e){},n.onprogress=function(e){},n.onabort=function(e){},n.onloadstart=function(e){},n.onload=function(e){var n=e.target.result,r=t.base64ArrayBuffer(n);t.showImage(r)},n.readAsArrayBuffer(t.fileData)}}});return o}),define("views/mail/DetailMessageView",["jquery","underscore","backbone","shared","collections/mail/MessagesCollection","text!templates/mail/detailMessageTemplate.html","views/home/LoadingView","collections/home/ContextMenuCollection","views/mail/PreviewAttachmentMessageView"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({folderID:"INBOX",msgID:"",search:"",page:1,scrollRefresh:!1,scrollDetail:"",render:function(){var n="#contentDetail";r.isSmartPhoneResolution()&&(n="#content"),this.$el.html("");var u=this;if(this.msgID){var a=new o({el:e(n)});a.render();var f=new i;f.getMessagesInFolder(this.folderID,this.msgID,this.search,this.page).done(function(i){var o=i.models[0],a=i.models.length,i={messages:i.models,_:t,Shared:r,$:e},f=t.template(s,i);u.$el.html(f),e(n).empty().append(u.$el),u.renderAttachments(o);var l=5;if(r.folders!=undefined){var c=r.folders.getFolderByID(u.folderID);c.get!=undefined&&(l=c.get("folderType"))}r.menuView.renderContextMenu("detailMessage",{folderID:u.folderID,msgID:u.msgID,folderType:l,qtdMessages:a}),setTimeout(function(){e.each(e("#contentMessageBody img"),function(){var t=e("#wrapperDetail").width();t-=40;var n=e(this).height(),r=e(this).width();if(r>t){var i=t,s=t*(n/r);e("#contentMessageBody").width(t),e(this).css("max-width",t),e(this).css("max-height",n),e(this).css("height",s),e(this).css("width",i)}}),u.loaded()},500)}).fail(function(t){return r.handleErrors(t.error),e(n).empty(),!1}).execute()}},renderAttachments:function(e){if(e!=undefined){var t=e.get("msgAttachments");for(var n in t){var r=t[n],i=new a;i.fileID=r.attachmentID,i.fileName=r.attachmentName,i.fileSize=r.attachmentSize,i.fileEncoding=r.attachmentEncoding,i.fileIndex=r.attachmentIndex,i.msgID=e.get("msgID"),i.folderID=e.get("folderID"),i.fileData="",i.previewType="detailmessage",i.render()}}},events:{"click .attachmentLink":"openAttachment","click .showMoreMsgTo":"showMoreMsgTo","click .showMoreMsgCc":"showMoreMsgCc"},showMoreMsgTo:function(t){e(".detailMsgTo").removeClass("hidden"),e(".showMoreMsgTo").addClass("hidden"),this.loaded()},showMoreMsgCc:function(t){e(".detailMsgCc").removeClass("hidden"),e(".showMoreMsgCc").addClass("hidden"),this.loaded()},openAttachment:function(e){e.preventDefault(),r.router.navigate(e.currentTarget.getAttribute("href"),{trigger:!0})},loaded:function(){}});return f}),define("views/mail/PullToActionView",["jquery","underscore","backbone","shared","material"],function(e,t,n,r,i){var s=n.View.extend({_shadow:null,container:"#pageContent",refreshFunction:function(){},initialize:function(e){e.refreshAction!=undefined&&(this.refreshFunction=e.refreshAction),e.container!=undefined&&(this.container=e.container)},events:{refresh:"_refresh","lower-trigger":"_loadNextPage"},resize:function(){this.el.resize()},_refresh:function(){this.refreshFunction()},_loadNextPage:function(){console.log("_loadNextPage")},render:function(){this.el.innerHTML='<pull-to-action action="attribute.fire(\'refresh\',{})" color="blue" container="'+this.container+'"></pull-to-action><core-scroll-threshold id="threshold" lowerThreshold="500" scrollTarget="$(\'#content\')" lowerTriggered="true"></core-scroll-threshold>',e(this.container).empty().append(this.el)}});return s}),define("views/mail/MessagesListView",["jquery","underscore","backbone","shared","text!templates/mail/messagesListTemplate.html","views/mail/MessagesListItemsView","views/mail/MessagesListItemView","collections/mail/FoldersCollection","collections/mail/MessagesCollection","views/home/LoadingView","views/mail/DetailMessageView","views/mail/PullToActionView","material"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.View.extend({currentFolder:[],parentFolders:[],elementID:"#content",detailElementID:"#contentDetail",folderID:"INBOX",msgID:"",forceReload:"0",search:"",page:1,doneRoute:"",enabledDesktopVersion:!1,render:function(){this.elementID="#content";var n=this,s=function(s){r.setCurrentPageTitle(n.currentFolder.get("folderName"));var o={folderID:n.folderID,msgID:n.msgID,currentFolder:n.currentFolder,collection:s,_:t,Shared:r,enabledDesktopVersion:n.enabledDesktopVersion};s.length||r.isTabletResolution()&&(r.newMessageIntent?(r.newMessageIntent=!1,r.router.navigate("/Mail/Message/New",{trigger:!0})):r.router.navigate("/Mail/Messages/0/0/"+n.folderID+"#",{trigger:!0}));var u=t.template(i,o);n.$el.html(u),e(n.elementID).empty().append(n.$el);var a=function(){n.page=1,e("#scrollerList").empty(),n.getMessages(n.folderID,n.search,n.page,!1,!0)},f=new c({refreshAction:a,container:"#pull-to-action-loader"});f.render()},o=function(){r.newMessageIntent==0&&r.menuView.renderContextMenu("messageList",{folderID:n.folderID,folderName:n.currentFolder.folderName,folderType:n.currentFolder.get("folderType"),qtdMessages:0});if(r.isTabletResolution()&&n.forceReload=="1"||!r.isTabletResolution()&&r.gotoRoute!=0)if(r.newMessageIntent==1)r.newMessageIntent=!1,r.router.navigate("/Mail/Message/New",{trigger:!0});else if(n.msgID!=undefined){var e=new l;e.folderID=n.folderID,e.msgID=n.msgID,r.menuView.renderContextMenu("messageList",{folderID:n.folderID,folderName:n.currentFolder.folderName,folderType:n.currentFolder.get("folderType"),qtdMessages:0}),e.render()}r.setDefaultIMListeners()};if(this.forceReload=="1"){var u=new f({el:e(this.elementID)});u.render();var u=new f({el:e(this.detailElementID)});u.render(),n.getMessages(n.folderID,n.search,n.page,!1,!1,s,o)}else{var u=new f({el:e(this.detailElementID)});u.render();var a=new l;a.folderID=n.folderID,a.msgID=n.msgID,a.render()}},events:{"keydown #searchField":"searchMessage","lower-trigger":"loadNextPage"},loadNextPage:function(e){console.log("loadNextPage")},searchMessage:function(t){t.which==13&&!t.shiftKey&&(this.search=e("#searchField").val(),pullDownEl=document.getElementById("pullDown"),pullDownEl.className="loading",pullDownEl.querySelector(".pullDownLabel").innerHTML="Carregando...",this.pullDownAction())},selectFirstMessage:function(){var t=this.collection[0];t&&(e("#"+t.listItemID()).addClass("selected"),r.router.navigate(t.route(),{trigger:!0}))},getMessages:function(t,n,i,o,f,l,c){var h=new a,p=new u,d=this;p.getFolders(this.folderID,this.search).done(function(u){var a=u.getFolderByID(d.folderID),p=u.getSubFoldersFromFolderID(d.folderID);d.currentFolder=a,d.parentFolders=p,f==1&&h.ignoreCache(!0),h.getMessagesInFolder(t,"",n,i).done(function(t){o==1,d.collection=t.models,l&&l(d.collection);var n=new s({el:e("#scrollerList"),collection:t,parentFolders:d.parentFolders});o?n.parentFolders=[]:n.parentFolders=d.parentFolders,(d.msgID==""||d.msgID=="0")&&t.length&&r.isTabletResolution()&&(d.msgID=t.models[0].get("msgID")),n.msgIDSelected=d.msgID,n.render(o),c&&c()}).fail(function(t){return r.handleErrors(t.error),e(d.elementID).empty(),e(d.detailElementID).empty(),!1}).execute()}).fail(function(t){return r.handleErrors(t.error),e(d.elementID).empty(),e(d.detailElementID).empty(),!1}).execute()},pullDownAction:function(){this.page=1,e("#scrollerList").empty(),getMessages(this.folderID,this.search,this.page,!1,!0)},pullUpAction:function(){this.page=this.page+1,this.getMessages(this.folderID,this.search,this.page,!0,!1)}});return p}),define("text!templates/mail/foldersMenuListTemplate.html",[],function(){return'<% _.each(folders, function(folder){ %>\n	<% \n\n	folderIcon = "folder";\n	if (folder.get("folderType") == 0) { folderIcon = "inbox"; }\n	if (folder.get("folderType") == 4) { folderIcon = "drafts"; }\n	if (folder.get("folderType") == 1) { folderIcon = "send"; }\n	if (folder.get("folderType") == 2) { folderIcon = "archive"; }\n	if (folder.get("folderType") == 3) { folderIcon = "delete"; }\n	if (folder.get("folderType") == 5) { folderIcon = "folder"; }\n	if (folder.get("folderType") == 6) { folderIcon = "folder_shared"; }\n\n	%>\n	<% if (((folder.get("folderParentID") == "") || (folder.get("folderParentID") == "user")) ) { %>\n	<a class="mdl-navigation__link listFolderMenuItemLink" href="<%=folder.route()%>"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation"><%=folderIcon%></i>\n		<% if (folder.get("folderHasChildren") == 1) { %><i class="mdl-color-text--blue-grey-400 material-icons folder-with-subfolders" role="presentation">navigate_next</i><% } %>\n		<span class="material-label <% if (folder.get("qtdUnreadMessages") != 0) { %>mdl-badge<% } %>" data-badge="<%=folder.get("qtdUnreadMessages")%>"><%=folder.get("folderName")%>			\n		</span>\n	</a>\n\n	<% } %> \n<% }); %>\n<!-- \n<% _.each(folders, function(folder){ %>\n	<% if ((folder.get("folderParentID") == "") || (folder.get("folderParentID") == "user")) { %>\n	<li>\n		<a href="<%=folder.route()%>" name="<%=folder.route()%>" class="listFolderMenuItemLink">\n			<span class="material-label <% if (folder.get("qtdUnreadMessages") != 0) { %>mdl-badge<% } %>" data-badge="<%=folder.get("qtdUnreadMessages")%>"><%=folder.get("folderName")%><% if (folder.get("folderHasChildren") == 1) { %><strong class="badge badge-subfolders"> > </strong><% } %></span>\n\n		<% if (folder.get("folderType") == 0) { %>\n			<div class="icon folder-inbox"></div>\n		<% } %>\n		<% if (folder.get("folderType") == 4) { %>\n			<div class="icon folder-drafts"></div>\n		<% } %>\n		<% if (folder.get("folderType") == 1) { %>\n			<div class="icon folder-sent"></div>\n		<% } %>\n		<% if (folder.get("folderType") == 2) { %>\n			<div class="icon folder-spam"></div>\n		<% } %>\n		<% if (folder.get("folderType") == 3) { %>\n			<% if (folder.get("qtdMessages") == "0") { %>\n				<div class="icon folder-trash"></div>\n			<% } else { %>\n				<div class="icon folder-trash-full"></div>\n			<% } %>\n		<% } %>\n		<% if (folder.get("folderType") == 5) { %>\n			<div class="icon folder-blue"></div>\n		<% } %>\n		<% if (folder.get("folderType") == 6) { %>\n			<div class="icon folder-shared"></div>\n		<% } %>\n		\n		</a>\n	</li>\n	<% } %> \n<% }); %> -->'}),define("views/mail/FoldersMenuListView",["jquery","underscore","backbone","shared","collections/mail/FoldersCollection","text!templates/mail/foldersMenuListTemplate.html","views/home/LoadingView"],function(e,t,n,r,i,s,o){var u=n.View.extend({folderID:"INBOX",search:"",render:function(){this.getFolders(this.folderID,this.search)},events:{"click .listFolderMenuItemLink":"selectFolderMenuItem"},selectFolderMenuItem:function(t){t.preventDefault(),e("#myFolders li").each(function(){e(this).hasClass("selected")&&e(this).removeClass("selected")});var n=e(t.target).parent();n.hasClass("listFolderMenuItemLink")&&(n=n.parent()),n.addClass("selected"),r.router.navigate(t.currentTarget.getAttribute("href"),{trigger:!0})},getFolders:function(n,o){var u=this,a=new i;a.getFolders(n,o).done(function(n){u.collection=n.models;var i={folders:n.models,_:t},o=t.template(s,i);u.$el.html(o),e("#myFolders").empty().append(u.$el),r.menuView.setQuota(n.diskSizeUsed,n.diskSizeLimit),r.scrollerRefresh()}).fail(function(e){r.handleErrors(e)}).execute()}});return u}),define("text!templates/home/menuTemplate.html",[],function(){return'\n\n\n  <div class="expresso-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50 is-visible">\n    <header class="expresso-drawer-header">\n      <a class="menuLink" href="/Settings">\n        <button class="mdl-button mdl-js-button expresso-settings-button">\n          <i class="material-icons">settings</i>\n        </button>\n      </a>\n      <!-- <div class="menu-settings" style="float: right;"><i class="material-icons">settings</i></div> -->\n      <img id="userPicture" class="userPicture expresso-avatar">\n      \n      <div class="expresso-avatar-dropdown">\n        <span><% if (!_.isNull(user.contactFullName)) { %><%=user.contactFullName%><% } %><br><% if (!_.isNull(user.contactMails[0])) { %><%=user.contactMails[0]%><% } %></span>\n        \n        <div class="mdl-layout-spacer"></div>\n        <button id="accbtn" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">\n          <i class="material-icons" role="presentation">arrow_drop_down</i>\n          <span class="visuallyhidden">Contas</span>\n        </button>\n        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="accbtn">\n          <% if (Shared.automaticLoginAccounts.accounts.length >= 2) { %>\n            <% _.each(Shared.automaticLoginAccounts.accounts, function(account){ %>\n            <% if (Shared.forceAutomaticLoginInAccountName != account.accountName) { %>\n              <li class="mdl-menu__item"><a class="menuLink" href="/Switch/<%=account.accountName%>"><%=account.accountName%></a></li>\n            <% } %>\n            <% }); %>\n          <% } %>\n          <% if (Shared.isBuiltInExpresso()) { %>\n          <!-- <li class="mdl-menu__item"><a class="menuLink" href="/Settings"><i class="material-icons">settings</i>Prefer&ecirc;ncias</a></li> -->\n          <% } %>\n          <li class="mdl-menu__item"><a class="menuLink" href="/Logout"><i class="material-icons">exit_to_app</i>Sair</a></li>\n        </ul>\n      </div>\n      <div class="expresso-progressbar">\n        <span>\n          <br>\n          <div id="progress_bar_quota" class="mdl-progress mdl-js-progress" style="width: 150px;"></div>\n          <div id="progress_bar_quota_text" class="mdl-tooltip mdl-tooltip--large" for="progress_bar_quota">\n            \n          </div>\n         </span>\n      </div>\n    </header>\n    <nav class="expresso-navigation mdl-navigation mdl-color--white mdl-color-text--blue-grey-400">\n      <button href="/Mail/Message/New" id="btn-new-message" class="mdl-button menuLink mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="margin: 10px; margin-top: 0px;">\n             <i class="material-icons" role="presentation">create</i>ESCREVER\n      </button>\n      <% if (!Shared.isBuiltInExpresso()) { %>\n        <a class="mdl-navigation__link menuLink" href="/Mail/Messages/1/0/INBOX#"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">inbox</i>Caixa de Entrada</a>\n        <a class="mdl-navigation__link menuLink" href="/Calendar"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">event</i>Agenda</a>\n        <a class="mdl-navigation__link menuLink" href="/Contacts/Personal"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">people</i>Contatos</a>\n        \n          <a class="mdl-navigation__link menuLink mdl-cell--hide-desktop <% if (Shared.isDesktop()) { %> mdl-cell--hide-tablet  mdl-cell--hide-phone  <% } %>" href="/Chat"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">forum</i>Chat</a>\n        <!-- <a class="mdl-navigation__link menuLink" href="/Settings"><i class="mdl-color-text--blue-grey-400 material-icons " role="presentation">settings</i>Prefer&ecirc;ncias</a> -->\n      <% } %>\n      <dl>\n\n        <% if (Shared.userHasModule("mail")) { %>\n        <div class="expresso-myfolders-dropdown">\n            <span>Minhas Pastas</span>\n            <div class="mdl-layout-spacer"></div>\n            <div style="float: right; margin-right: 10px; ">\n              <button id="accbtn_folders" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="">\n                <i class="material-icons" role="presentation">arrow_drop_down</i>\n                <span class="visuallyhidden">Contas</span>\n              </button>\n            </div>\n            <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="accbtn_folders">\n              <li class="mdl-menu__item"><a class="menuLink" href="/Mail/AddFolder/INBOX#"><i class="material-icons">add</i>Adicionar Pasta</a></li>\n            </ul>\n        </div>\n        <dd>\n          <nav id="myFolders" class="expresso-navigation mdl-navigation mdl-color--white mdl-color-text--blue-grey-400">\n            \n          </nav>\n        </dd>\n        \n        <% } %>\n        \n      </dl>\n      <% if (Shared.isBuiltInExpresso()) { %>\n        <div class="mdl-layout-spacer"></div>\n        <a class="mdl-navigation__link menuLink" href="/Settings"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">settings</i><span class="visuallyhidden">Prefer&ecirc;ncias</span>Prefer&ecirc;ncias</a>\n      <% } %>\n    </nav>\n<!-- \n    <div class="menu-footer">\n      <% if (!Shared.isDesktop()) { %>\n      Desenvolvido por:<br><br>\n      <div class="company-logo"></div>\n      <% } %>\n    </div> -->\n\n</div>\n\n\n     \n    \n    \n'}),define("text!templates/home/contextMenuTemplate.html",[],function(){return'<div class="mdl-layout-spacer"></div>\n<label id="searchButton" class="mdl-button mdl-js-button mdl-button--icon">\n  <i class="material-icons">search</i>\n</label>\n\n	<% var menuItemsSecondary = _.filter(menuItems, function (item) { return item.get(\'primary\') == false; }); %>\n	<% if (typeof(menuItems) != \'undefined\' && menuItemsSecondary.length > 0) { %>\n	<button id="expressoContextMenu"\n	        class="mdl-button mdl-js-button mdl-button--icon">\n	  		<i class="material-icons">more_vert</i>\n		</button>\n   <% } %>\n\n<ul id="contextMenuItems" class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="expressoContextMenu">\n    <% _.each(menuItems, function(menuItem){ %>\n		<% if (!menuItem.get("primary")) { %>\n			<li class="mdl-menu__item"><a id="<%=menuItem.get("id")%>" href="<%=menuItem.get("route")%>" <% if (menuItem.get(\'action\') != undefined) { %>data-action="<%= menuItem.get(\'action\') %>"<% } %> title="<%=menuItem.get("title")%>"><%=menuItem.get("title")%></a></li>\n		<% } %>\n	<% }); %>\n</ul>\n\n\n<div class="expresso-fab-button animation-scale-fadein">\n	<button id="btn-primary-action" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">\n	  <i class="material-icons">create</i>\n	</button>\n</div>\n<!-- <div id="primaryButtonAction">\n	<button id="btn-primary-action" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">\n	  <i class="material-icons">send</i>\n	</button>\n</div> -->\n\n\n<!--\n<ul id="menuBarItems" class="right topButtons">\n<% if (Shared.isDesktop()) { %>\n	<% _.each(menuItems, function(menuItem){ %>\n		<% if (!menuItem.get("primary")) { %>\n			<li class="secondary" style="">\n				<a id="<%=menuItem.get("id")%>" href="<%=menuItem.get("route")%>" <% if (menuItem.get(\'action\') != undefined) { %>data-action="<%= menuItem.get(\'action\') %>"<% } %> title="<%=menuItem.get("title")%>"><div class="context-icon <%=menuItem.get("iconClass")%>"></div></a>\n			</li>\n		<% } %>\n	<% }); %>\n<% } %>\n  <li>\n    <input id="btn-primary-action" type="button" value="" class="hidden" style=""> \n  </li>\n  <% var menuItemsSecondary = _.filter(menuItems, function (item) { return item.get(\'primary\') == false; }); %>\n  <% if (!Shared.isDesktop()) { %>\n	  <% if (typeof(menuItems) != \'undefined\' && menuItemsSecondary.length > 0) { %>\n		  <li><a id="contextMenuButton" href="#" class="contextMenu">Menu de contexto</a></li>\n	  <% } %>\n  <% } %>\n\n  \n  \n</ul>\n<% if (!Shared.isDesktop()) { %>\n\n<div id="contextMenu">\n	\n	<ul>\n		<% _.each(menuItems, function(menuItem){ %>\n			<% if (!menuItem.get("primary")) { %>\n				<li><a id="<%=menuItem.get("id")%>" href="<%=menuItem.get("route")%>" <% if (menuItem.get(\'action\') != undefined) { %>data-action="<%= menuItem.get(\'action\') %>"<% } %> title="<%=menuItem.get("title")%>"><div class="context-icon <%=menuItem.get("iconClass")%>"></div><%=menuItem.get("title")%></a></li>\n			<% } %>\n		<% }); %>\n	</ul> \n</div>\n<% } %>\n-->\n'}),define("views/home/SearchView",["jquery","underscore","backbone","shared","material"],function(e,t,n,r,i){var s=n.View.extend({tagName:"material-search",initialize:function(){if(r.previousSearches==undefined||r.previousSearches==null)r.previousSearches=[]},attributes:{active:!0,narrow:!0,loading:!1,"search-value":""},events:{"search-change":"_doSearch"},resize:function(){this.el.resize()},_doSearch:function(e){var t=e.currentTarget,n=t.get("searchValue");console.log("search-changed:"+n),r.previousSearches.push(n);var i=r.previousSearches;console.log(i),t.set("previousSearches",i),console.log(e.currentTarget)},render:function(){e("#mainPage").prepend(this.$el)}});return s}),define("views/home/ContextMenuView",["jquery","underscore","backbone","shared","text!templates/home/contextMenuTemplate.html","collections/home/ContextMenuCollection","material","views/home/SearchView"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({menuOpen:!1,profile:null,collection:null,primaryAction:"",callBack:"",parentCallBack:"",render:function(){this.collection==null&&(this.collection=new s);var n={menuItems:this.collection.models,_:t,Shared:r},u=t.template(i,n);e("#contextMenuButton").addClass("contextMenu"),this.$el.html(u),e("#rightMenu").empty().append(this.$el),this.setPrimaryAction(),this.collection.models.length==0&&this.hideMenu(),e("#chatContactsWindow").width()==0||e("#chatContactsWindow").width()==undefined?e(".expresso-fab-button").animate({right:"16px"},200):e(".expresso-fab-button").animate({right:"266px"},200),o.upgradeDom()},clickMainAppPageContent:function(t){e("#contextMenu").hasClass("hidden")||r.contextMenulastHasHiddenClass||e("#contextMenu").addClass("hidden"),r.contextMenulastHasHiddenClass=e("#contextMenu").hasClass("hidden")},initialize:function(t){e(window).off("click"),e(window).on("click",this.clickMainAppPageContent),r.lastHasClass=!0},events:{"click #contextMenuButton":"toggleMenu","click #btn-primary-action":"routeToPrimaryAction","click #contextMenu ul li a":"selectContextMenuItem","click #contextMenuItems li a":"selectContextMenuItem","click #searchButton":"showSearchView"},showSearchView:function(){var e=new u;e.render()},selectContextMenuItem:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href"),n=e.currentTarget.getAttribute("id");if(t!="#")r.router.navigate(t,{trigger:!0});else{var i=this.collection.getActionById(n);this.callBack=i.get("callBack"),this.parentCallBack=i.get("parentCallBack"),this.callBack(this.parentCallBack)}this.toggleMenu()},routeToPrimaryAction:function(e){e.preventDefault(),this.closeMenu();if(this.primaryAction!="#")r.router.navigate(this.primaryAction,{trigger:!0});else{var t=this.collection.getPrimaryAction();this.callBack(this.parentCallBack)}},setPrimaryAction:function(){var t=this.collection.getPrimaryAction();t?(this.primaryAction=t.get("route"),this.callBack=t.get("callBack"),this.parentCallBack=t.get("parentCallBack"),e("#btn-primary-action").removeClass("hidden"),t.get("iconClass")!=""):e("#btn-primary-action").addClass("hidden")},hideMenu:function(){e("#contextMenuButton").removeClass("contextMenu"),e("#contextMenu").html("")},toggleMenu:function(t){t!=undefined&&t.preventDefault(),e("#contextMenu").hasClass("hidden")?this.openMenu():this.closeMenu()},openMenu:function(){this.menuOpen=!0,e("#contextMenu").removeClass("hidden")},closeMenu:function(){this.menuOpen=!1,e("#contextMenu").addClass("hidden")}});return a}),define("models/home/MenuItemModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{menuTitle:"",menuRoute:"",menuClass:"",menuIconClass:"",menuHasBadge:!1},initialize:function(){}});return r}),define("collections/home/MenuItemsCollection",["underscore","backbone","shared","models/home/MenuItemModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},initialize:function(e,t){},getInboxMenuItem:function(){var e={menuTitle:"Caixa de Entrada",menuRoute:"/Mail/Messages/1/0/INBOX#",menuClass:"inbox",menuIconClass:"icon-email",menuHasBadge:!0},t=new r(e);return t},getCalendarMenuItem:function(){var e={menuTitle:"Agenda",menuRoute:"/Calendar",menuClass:"calendar",menuIconClass:"icon-agenda"},t=new r(e);return t},getContactsMenuItem:function(){var e={menuTitle:"Contatos",menuRoute:"/Contacts/Personal",menuClass:"contacts",menuIconClass:"icon-contacts"},t=new r(e);return t},getChatMenuItem:function(){var e={menuTitle:"Chat",menuRoute:"/Chat",menuClass:"chat",menuIconClass:"icon-jabber",menuHasBadge:!0},t=new r(e);return t},getSettingsMenuItem:function(){var e={menuTitle:"Prefer&ecirc;ncias",menuRoute:"/Settings",menuClass:"settings",menuIconClass:"icon-settings"},t=new r(e);return t},getLogoutMenuItem:function(){var e={menuTitle:"Sair",menuRoute:"/Logout",menuClass:"logout",menuIconClass:"icon-logout"},t=new r(e);return t},getMenuItems:function(e){return n.userHasModule("mail")&&this.add(this.getInboxMenuItem()),n.userHasModule("calendar")&&this.add(this.getCalendarMenuItem()),n.userHasModule("catalog")&&this.add(this.getContactsMenuItem()),n.userHasModule("chat")&&(n.isDesktop()||this.add(this.getChatMenuItem())),n.userHasModule("settings")&&this.add(this.getSettingsMenuItem()),this.add(this.getLogoutMenuItem()),this.models}});return i}),define("views/home/MenuView",["jquery","underscore","backbone","shared","views/mail/FoldersMenuListView","text!templates/home/menuTemplate.html","views/home/ContextMenuView","collections/home/ContextMenuCollection","collections/home/MenuItemsCollection","material"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({el:e("#scrollerMenu"),profile:null,context:null,folderMenuLV:null,initialize:function(){this.context=new o},render:function(){e(window).resize(this.refreshWindow);var n=this;r.api.getLocalStorageValue("expresso",function(u){if(u!=null){var f=u.auth;f!=null&&r.api.auth(f),r.profile=u.profile,n.profile=r.profile}var l=new a,c=l.getMenuItems(r.profile.contactApps),h={user:n.profile,menuItems:c,_:t,Shared:r},p=t.template(s,h);n.$el.html(p),r.api.resource("Catalog/ContactPicture").params({contactID:n.profile.contactID,contactType:"2"}).done(function(t){t.contacts[0].contactImagePicture!=""&&(e("#userPicture").css("background-image","url('data:image/gif;base64,"+t.contacts[0].contactImagePicture+"')"),e("#userPicture").css("background-size","46px 61px"))}).fail(function(e){r.handleErrors(e)}).execute(),n.context=new o,r.userHasModule("mail")&&(n.folderMenuLV=new i,n.folderMenuLV.render())})},refreshFolders:function(){this.folderMenuLV=new i,this.folderMenuLV.render()},setQuota:function(t,n){var r=(t*100/n).toFixed(0);document.querySelector("#progress_bar_quota").addEventListener("mdl-componentupgraded",function(){this.MaterialProgress.setProgress(r)}),e("#progress_bar_quota_text").html(r+"% ("+this.bytesToSize(t,0)+" / "+this.bytesToSize(n,0)+")")},bytesToSize:function(e,t){var n=1024,r=n*1024,i=r*1024,s=i*1024;return e>=0&&e<n?e+" B":e>=n&&e<r?(e/n).toFixed(t)+" KB":e>=r&&e<i?(e/r).toFixed(t)+" MB":e>=i&&e<s?(e/i).toFixed(t)+" GB":e>=s?(e/s).toFixed(t)+" TB":e+" B"},selectMenu:function(t){e("#mainMenu li").each(function(){e(this).removeClass("selected")}),t>=1&&t<=6&&e("#myFolders li").each(function(){e(this).hasClass("selected")&&e(this).removeClass("selected")}),t==1&&e("#mainMenu li.inbox").addClass("selected"),t==2&&e("#mainMenu li.calendar").addClass("selected"),t==3&&e("#mainMenu li.contacts").addClass("selected"),t==4&&e("#mainMenu li.chat").addClass("selected"),t==5&&e("#mainMenu li.settings").addClass("selected"),t==6&&e("#mainMenu li.logout").addClass("selected"),this.closeMenu()},toggleMenu:function(){return r.menuOpen?this.closeMenu():this.openMenu(),!1},openMenu:function(){},closeMenu:function(){},loaded:function(){},setChatBadge:function(t){t>0?(e("#badge_chat").removeClass("hidden"),e("#badge_chat").html(t)):(e("#badge_chat").addClass("hidden"),e("#badge_chat").html(t))},setMailBadge:function(t){t>0?(e("#badge_inbox").removeClass("hidden"),e("#badge_inbox").html(t)):(e("#badge_inbox").addClass("hidden"),e("#badge_inbox").html(t))},renderContextMenu:function(e,t){this.context=new o;var n=new u;e=="detailMessage"&&(this.context.collection=n.getDetailMessageMenu(t.folderID,t.msgID,t.folderType,t.qtdMessages)),e=="messageList"&&(this.context.collection=n.getMessagesListMenu(t.folderID,t.folderName,t.folderType,t.qtdMessages)),e=="newMessage"&&(this.context.collection=n.getSendMessageMenu(t)),e=="newMessageWithCc"&&(this.context.collection=n.getSendMessageMenuWithCC(t)),e=="personalContacts"&&(this.context.collection=n.getPersonalContactsMenu()),e=="generalContacts"&&(this.context.collection=n.getGeneralContactsMenu()),e=="detailsContact"&&(this.context.collection=n.getDetailsContactMenu(t.email,t.contactID,t.contactType)),e=="calendar"&&(this.context.collection=n.getCalendarMenu(t.year,t.month,t.day)),e=="mailsignature"&&(this.context.collection=n.getMailSignatureMenu()),e=="changePassword"&&(this.context.collection=n.getChangePasswordMenu(t)),e=="calendarAddEvent"&&(this.context.collection=n.getCalendarAddEventMenu(t)),e=="calendarAddEventParticipant"&&(this.context.collection=n.getCalendarAddEventParticipantMenu(t)),e=="calendarDetailsEvent"&&(this.context.collection=n.getCalendarDetailsEventMenu(t.isOwner,t.eventID,t.year,t.month,t.day)),e=="editFolder"&&(this.context.collection=n.getEditFolderMenu(t)),e=="support"&&(this.context.collection=n.getSupportMenu(t)),e=="chatOffline"&&(this.context.collection=n.getChatOfflineMenu(t)),this.context.render()}});return l}),define("text!templates/home/homeTemplate.html",[],function(){return'<div id="mainPage" class="expresso-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">\n      <header class="expresso-header mdl-layout__header">\n\n        <div id="isOffline" style="display: none; position: absolute; margin-left: 50px; margin-top: -10px;"><div style="padding-right: 0px; padding-top: 15px; margin: 0px; margin-top: 10px; height: 27px;" class="message error">Voc&ecirc; est&aacute; trabalhando OFF-LINE.</div></div>\n        <div id="pageMessage"></div>\n        <div style="margin-left: -3px; margin-top: 50px; z-index: 5000;" id="beta" class="hidden"></div>\n\n        <div class="mdl-layout__header-row">\n          <span id="currentPageTitle" class="mdl-layout-title"></span>\n          <div class="mdl-layout-spacer"></div>\n          <div id="rightMenu">\n\n          </div>\n        </div>\n\n        <!-- <div class="mdl-layout__tab-bar mdl-js-ripple-effect">\n            <a href="#scroll-tab-1" class="mdl-layout__tab is-active">Pessoais</a>\n            <a href="#scroll-tab-2" class="mdl-layout__tab">Catalogo Geral</a>\n        </div>  -->\n        \n      </header>\n\n  \n  <div id="menu" class="mdl-layout__drawer left expanded">\n    <div id="scrollerMenu">\n    </div>\n  </div>\n  <main id="mainPageContent" class="mdl-layout__content">\n\n\n        <% if (Shared.userHasModule("chat")) { %>\n        <div id="chatContactsWindow" class="mdl-cell mdl-cell--hide-phone mdl-cell--hide-tablet"><div id="chat_toggleRoster" class="toggleRightDiv"></div><div id="chatDesktop"></div></div>\n        <% } %>\n\n   \n    <div id="pageContent" class="page-content mdl-cell mdl-grid">\n\n        <div id="content" class=" mdl-cell mdl-cell--12-col <% if (!Shared.forceSmartPhoneResolution) { %>mdl-cell--5-col-tablet mdl-cell--5-col-desktop<% } else { %>mdl-cell--12-col-tablet mdl-cell--12-col-desktop<% } %> mdl-card mdl-shadow--2dp">\n        \n        </div>\n        <div id="contentDetail" class=" mdl-cell mdl-cell--12-col  mdl-card mdl-shadow--2dp mdl-cell--hide-phone <% if (Shared.forceSmartPhoneResolution) { %>mdl-cell--hide-tablet mdl-cell--hide-desktop<% } else { %>mdl-cell--7-col-tablet mdl-cell--7-col-desktop<% } %>">\n          \n        </div>\n    </div>\n  </main>\n</div>\n'}),define("jquery_migrate",["jquery"],function(e){jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;s[n]||(s[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,i,s,o){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(o),s},set:function(e){r(o),s=e}}),n}catch(u){}e._definePropertyBroken=!0,t[i]=s}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,u=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},f=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;i(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,s,a){var f=i.toLowerCase(),d=t&&t.nodeType;return a&&(4>u.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!c.test(d)&&(o?i in o:e.isFunction(e.fn[i])))?e(t)[i](s):("type"===i&&s!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[f]&&h.test(f)&&(e.attrHooks[f]={get:function(t,r){var i,s=e.prop(t,r);return s===!0||"boolean"!=typeof s&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(f)&&r("jQuery.fn.attr('"+f+"') may use property instead of attribute")),u.call(e,t,i,s))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?a.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?f.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var d,v,m=e.fn.init,g=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var s;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(s=y.exec(e.trim(t)))&&s[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),s[3]&&r("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(s[2],n,!0),n,i):m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?g.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(d=e.uaMatch(navigator.userAgent),v={},d.browser&&(v[d.browser]=!0,v.version=d.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var i,s,o=this[0];return!o||"events"!==t||1!==arguments.length||(i=e.data(o,t),s=e._data(o,t),i!==n&&i!==s||s===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),s)};var w=/\/(java|ecma)script/i,E=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),E.apply(this,arguments)},e.clean||(e.clean=function(t,i,s,o){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,r("jQuery.clean() is deprecated");var u,a,f,l,c=[];if(e.merge(c,e.buildFragment(t,i).childNodes),s)for(f=function(e){return!e.type||w.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):s.appendChild(e):n},u=0;null!=(a=c[u]);u++)e.nodeName(a,"script")&&f(a)||(s.appendChild(a),a.getElementsByTagName!==n&&(l=e.grep(e.merge([],a.getElementsByTagName("script")),f),c.splice.apply(c,[u+1,0].concat(l)),u+=l.length));return c});var S=e.event.add,x=e.event.remove,T=e.event.trigger,N=e.fn.toggle,C=e.fn.live,k=e.fn.die,L="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+L+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,M=function(t){return"string"!=typeof t||e.event.special.hover?t:(O.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,s){e!==document&&A.test(t)&&r("AJAX events should be attached to document: "+t),S.call(this,e,M(t||""),n,i,s)},e.event.remove=function(e,t,n,r,i){x.call(this,e,M(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,s=t.guid||e.guid++,o=0,u=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(u.guid=s;i.length>o;)i[o++].guid=s;return this.click(u)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),C?C.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||A.test(e)||r("Global events are undocumented and deprecated"),T.call(this,e,t,n||document,i)},e.each(L.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window)}),function(e){"function"==typeof define&&define.amd?define("jqueryui",["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&n(o)):!1):(/^(input|select|textarea|button|object)$/.test(u)?!t.disabled:"a"===u?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function r(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function u(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}function a(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}};var f=0,l=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){return e.isFunction(r)?(a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}(),void 0):(a[t]=r,void 0)}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,i=l.call(arguments,1),s=0,o=i.length;o>s;s++)for(n in i[s])r=i[s][n],i[s].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(i){var s="string"==typeof i,o=l.call(arguments,1),u=this;return s?this.each(function(){var n,s=e.data(this,r);return"instance"===i?(u=s,!1):s?e.isFunction(s[i])&&"_"!==i.charAt(0)?(n=s[i].apply(s,o),n!==s&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+i+"'")}):(o.length&&(i=e.widget.extend.apply(null,[i].concat(o))),this.each(function(){var t=e.data(this,r);t?(t.option(i||{}),t._init&&t._init()):e.data(this,r,new n(i,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(i=o[t]=e.widget.extend({},this.options[t]),s=0;r.length-1>s;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget;var c=!1;e(document).mouseup(function(){c=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,s,o=Math.max,u=Math.abs,a=Math.round,f=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var p,v,m,g,y,b,w=e(i.of),E=e.position.getWithinInfo(i.within),S=e.position.getScrollInfo(E),x=(i.collision||"flip").split(" "),T={};return b=r(w),w[0].preventDefault&&(i.at="left top"),v=b.width,m=b.height,g=b.offset,y=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=f.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=f.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),T[this]=[e?e[0]:0,t?t[0]:0],i[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?y.left+=v:"center"===i.at[0]&&(y.left+=v/2),"bottom"===i.at[1]?y.top+=m:"center"===i.at[1]&&(y.top+=m/2),p=t(T.at,v,m),y.left+=p[0],y.top+=p[1],this.each(function(){var r,f,l=e(this),c=l.outerWidth(),h=l.outerHeight(),d=n(this,"marginLeft"),b=n(this,"marginTop"),N=c+d+n(this,"marginRight")+S.width,C=h+b+n(this,"marginBottom")+S.height,L=e.extend({},y),A=t(T.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?L.left-=c:"center"===i.my[0]&&(L.left-=c/2),"bottom"===i.my[1]?L.top-=h:"center"===i.my[1]&&(L.top-=h/2),L.left+=A[0],L.top+=A[1],s||(L.left=a(L.left),L.top=a(L.top)),r={marginLeft:d,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](L,{targetWidth:v,targetHeight:m,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:N,collisionHeight:C,offset:[p[0]+A[0],p[1]+A[1]],my:i.my,at:i.at,within:E,elem:l})}),i.using&&(f=function(e){var t=g.left-L.left,n=t+v-c,r=g.top-L.top,s=r+m-h,a={target:{element:w,left:g.left,top:g.top,width:v,height:m},element:{element:l,left:L.left,top:L.top,width:c,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};c>v&&v>u(t+n)&&(a.horizontal="center"),h>m&&m>u(r+s)&&(a.vertical="middle"),a.important=o(u(t),u(n))>o(u(r),u(s))?"horizontal":"vertical",i.using.call(this,e,a)}),l.offset(e.extend(L,{using:f}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,u=e.left-t.collisionPosition.marginLeft,a=i-u,f=u+t.collisionWidth-s-i;t.collisionWidth>s?a>0&&0>=f?(n=e.left+a+t.collisionWidth-s-i,e.left+=a-n):e.left=f>0&&0>=a?i:a>f?i+s-t.collisionWidth:i:a>0?e.left+=a:f>0?e.left-=f:e.left=o(e.left-u,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,u=e.top-t.collisionPosition.marginTop,a=i-u,f=u+t.collisionHeight-s-i;t.collisionHeight>s?a>0&&0>=f?(n=e.top+a+t.collisionHeight-s-i,e.top+=a-n):e.top=f>0&&0>=a?i:a>f?i+s-t.collisionHeight:i:a>0?e.top+=a:f>0?e.top-=f:e.top=o(e.top-u,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,s=i.offset.left+i.scrollLeft,o=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,f=e.left-t.collisionPosition.marginLeft,l=f-a,c=f+t.collisionWidth-o-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];0>l?(n=e.left+h+p+d+t.collisionWidth-o-s,(0>n||u(l)>n)&&(e.left+=h+p+d)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+d-a,(r>0||c>u(r))&&(e.left+=h+p+d))},top:function(e,t){var n,r,i=t.within,s=i.offset.top+i.scrollTop,o=i.height,a=i.isWindow?i.scrollTop:i.offset.top,f=e.top-t.collisionPosition.marginTop,l=f-a,c=f+t.collisionHeight-o-a,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,v=-2*t.offset[1];0>l?(r=e.top+p+d+v+t.collisionHeight-o-s,(0>r||u(l)>r)&&(e.top+=p+d+v)):c>0&&(n=e.top-t.collisionPosition.marginTop+p+d+v-a,(n>0||c>u(n))&&(e.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,o,u=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(u?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in r)t.style[o]=r[o];t.appendChild(a),n=u||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=e(a).offset().left,s=i>10&&11>i,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===i.containment?(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):i.containment.constructor===Array?(this.containment=i.containment,void 0):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,s,o=this.options,u=this._isRootNode(this.scrollParent[0]),a=e.pageX,f=e.pageY;return u&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(a=this.originalPageX),"x"===o.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,r._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],u=r.document[0];o!==u&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(u).scrollTop()<i.scrollSensitivity?s=e(u).scrollTop(e(u).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(u).scrollTop())<i.scrollSensitivity&&(s=e(u).scrollTop(e(u).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(u).scrollLeft()<i.scrollSensitivity?s=e(u).scrollLeft(e(u).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(u).scrollLeft())<i.scrollSensitivity&&(s=e(u).scrollLeft(e(u).scrollLeft()+i.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)a=r.snapElements[h].left-r.margins.left,f=a+r.snapElements[h].width,l=r.snapElements[h].top-r.margins.top,c=l+r.snapElements[h].height,a-v>g||m>f+v||l-v>b||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=v>=Math.abs(l-b),s=v>=Math.abs(c-y),o=v>=Math.abs(a-g),u=v>=Math.abs(f-m),i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left)),p=i||s||o||u,"outer"!==d.snapMode&&(i=v>=Math.abs(l-y),s=v>=Math.abs(c-b),o=v>=Math.abs(a-m),u=v>=Math.abs(f-g),i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||s||o||u||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(i=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,u=s+t.helperProportions.width,a=o+t.helperProportions.height,f=n.offset.left,l=n.offset.top,c=f+n.proportions().width,h=l+n.proportions().height;switch(r){case"fit":return s>=f&&c>=u&&o>=l&&h>=a;case"intersect":return s+t.helperProportions.width/2>f&&c>u-t.helperProportions.width/2&&o+t.helperProportions.height/2>l&&h>a-t.helperProportions.height/2;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,f,n.proportions().width);case"touch":return(o>=l&&h>=o||a>=l&&h>=a||l>o&&a>h)&&(s>=f&&c>=s||u>=f&&c>=u||f>s&&u>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;s.length>r;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(i=0;u.length>i;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance,n),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),s.length&&(r=e(s[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,n),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,s,o=this,u=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){u.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){u.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,s=this.axis,o=t.pageX-i.left||0,u=t.pageY-i.top||0,a=this._change[s];return this._updatePrevProperties(),a?(n=a.apply(this,[t,o,u]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>i&&(s.maxHeight=i)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,s,o,u,a=e(this).resizable("instance"),f=a.options,l=a.element,c=f.containment,h=c instanceof e?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=a._num(t.css("padding"+r))}),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=a.containerOffset,i=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:s,u=a._hasScroll(h)?h.scrollHeight:i,a.parentData={element:h,left:r.left,top:r.top,width:o,height:u}))},resize:function(t){var n,r,i,s,o=e(this).resizable("instance"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0};e(i.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(u[t]||0);n&&n>=0&&(i[t]=n||null)}),t.css(i)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,s=n.originalSize,o=n.originalPosition,u=n.axis,a="number"==typeof r.grid?[r.grid,r.grid]:r.grid,f=a[0]||1,l=a[1]||1,c=Math.round((i.width-s.width)/f)*f,h=Math.round((i.height-s.height)/l)*l,p=s.width+c,d=s.height+h,v=r.maxWidth&&p>r.maxWidth,m=r.maxHeight&&d>r.maxHeight,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>d;r.grid=a,g&&(p+=f),y&&(d+=l),v&&(p-=f),m&&(d-=l),/^(se|s|e)$/.test(u)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.top=o.top-h):/^(sw)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.left=o.left-c):((0>=d-l||0>=p-f)&&(t=n._getPaddingPlusBorderDimensions(this)),d-l>0?(n.size.height=d,n.position.top=o.top-h):(d=l-t.height,n.size.height=d,n.position.top=o.top+s.height-d),p-f>0?(n.size.width=p,n.position.left=o.left-c):(p=f-t.width,n.size.width=p,n.position.left=o.left+s.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?f=!(n.left>u||s>n.right||n.top>a||o>n.bottom):"fit"===i.tolerance&&(f=n.left>s&&u>n.right&&n.top>o&&a>n.bottom),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?u=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(u=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?u=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(u=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c="x"===this.options.axis||r+f>u&&a>r+f,h="y"===this.options.axis||t+l>s&&o>t+l,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){u.push(this)}var r,i,s,o,u=[],a=[],f=this._connectWith();if(f&&t)for(r=f.length-1;r>=0;r--)for(s=e(f[r],this.document[0]),i=s.length-1;i>=0;i--)o=e.data(s[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=a.length-1;r>=0;r--)a[r][0].each(n);return e(u)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n],this.document[0]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,s=null,l=h.floating||this._isFloating(this.currentItem),o=l?"left":"top",u=l?"width":"height",c=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(a=this.items[r].item.offset()[o],f=!1,t[c]-a>this.items[r][u]/2&&(f=!0),i>Math.abs(t[c]-a)&&(i=Math.abs(t[c]-a),s=this.items[r],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,r=n.heightStyle,i=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),i=r.uniqueId().attr("id");t.attr("aria-controls",i),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=i.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault(),s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1||(n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var r,i,s,o=this,u=0,a=e.css("box-sizing"),f=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},c=f&&l.down||l,h=function(){o._toggleComplete(n)};return"number"==typeof c&&(s=c),"string"==typeof c&&(i=c),i=i||c.easing||l.easing,s=s||c.duration||l.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:i,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:s,easing:i,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===a&&(u+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-u),u=0)}}),void 0):t.animate(this.hideProps,s,i,h):e.animate(this.showProps,s,i,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,n=this._filterMenuItems(i),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,r=this,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=s.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.outerHeight(),0>i?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-r-i}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,r,i;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s="textarea"===i,o="input"===i;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,n=!0,void 0;t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()})})},menufocus:function(t,n){var r,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),r=n.item.attr("aria-label")||i.value,r&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var h,p="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",v=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},m=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,v),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];m(r).not(r).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(e(this).addClass("ui-state-active"),h=this,t.document.one("mouseup",function(){h=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return n.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?m(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(d),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var g;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return u(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),("focus"===r||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,s){var o,a,f,l,c,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),u(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,f=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,f/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty(),g===i&&(g=null))},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,s,o,a,f=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):f?"all"===n?e.extend({},f.settings):this._get(f,n):null:(i=n||{},"string"==typeof n&&(i={},i[n]=r),f&&(this._curInst===f&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),a=this._getMinMaxDate(f,"max"),u(f.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(f.settings.maxDate=this._formatDate(f,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),f),this._autoSize(f),this._setDate(f,s),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!n||n.indexOf(r)>-1):void 0},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,s,o,a,f,l;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),s=i?i.apply(t,[t,n]):{},s!==!1&&(u(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(f=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",r(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[f]?n.dpDiv.show(f,e.datepicker._get(n,"showOptions"),l):n.dpDiv[f||"show"](f?l:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,g=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],s=17,u=t.dpDiv.find("."+this._dayOverClass+" a");u.length>0&&o.apply(u.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),i=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),r,i):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var i,s,o,u,a=0,f=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof f?f:(new Date).getFullYear()%100+parseInt(f,10),c=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,d=(r?r.monthNames:null)||this._defaults.monthNames,v=-1,m=-1,g=-1,y=-1,b=!1,w=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},E=function(e){var t=w(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?r:1,s=RegExp("^\\d{"+i+","+r+"}"),o=n.substring(a).match(s);if(!o)throw"Missing number at position "+a;return a+=o[0].length,parseInt(o[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var r=t[1];return n.substr(a,r.length).toLowerCase()===r.toLowerCase()?(s=t[0],a+=r.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+a},x=function(){if(n.charAt(a)!==t.charAt(i))throw"Unexpected literal at position "+a;a++};for(i=0;t.length>i;i++)if(b)"'"!==t.charAt(i)||w("'")?x():b=!1;else switch(t.charAt(i)){case"d":g=E("d");break;case"D":S("D",c,h);break;case"o":y=E("o");break;case"m":m=E("m");break;case"M":m=S("M",p,d);break;case"y":v=E("y");break;case"@":u=new Date(E("@")),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"!":u=new Date((E("!")-this._ticksTo1970)/1e4),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(n.length>a&&(o=n.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===v?v=(new Date).getFullYear():100>v&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=v?0:-100)),y>-1)for(m=1,g=y;;){if(s=this._getDaysInMonth(v,m-1),s>=g)break;m++,g-=s}if(u=this._daylightSavingAdjust(new Date(v,m-1,g)),u.getFullYear()!==v||u.getMonth()+1!==m||u.getDate()!==g)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))for(;n>r.length;)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||a("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);f;){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=7*parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=null==n||""===n?r:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&"Invalid Date"==""+o?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(0>Z&&(Z+=12,et--),Y)for(t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",S=0;V[0]>S;S++){for(x="",this.maxRows=4,T=0;V[1]>T;T++){if(N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===S?U?s:r:"")+(/all|right/.test(C)&&0===S?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)A=(E+l)%7,L+="<th scope='col'"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M)),H=0;D>H;H++){for(k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",E=0;7>E;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&G>P||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!a||l>=r.getMonth())&&(!f||i.getMonth()>=l)&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&g?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(i){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,i);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(n,function(n,r){var i,s;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},s={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,i){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",r,t(i))},drag:function(e,r){n._trigger("drag",e,t(r))},stop:function(i,s){var o=s.offset.left-n.document.scrollLeft(),u=s.offset.top-n.document.scrollTop();r.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(u>=0?"+":"")+u,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",i,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,r=this.options,i=r.resizable,s=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(r,i){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",r,t(i))},resize:function(e,r){n._trigger("resize",e,t(r))},stop:function(i,s){var o=n.uiDialog.offset(),u=o.left-n.document.scrollLeft(),a=o.top-n.document.scrollTop();r.height=n.uiDialog.height(),r.width=n.uiDialog.width(),r.position={my:"left top",at:"left"+(u>=0?"+":"")+u+" "+"top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",i,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=i.is(":data(ui-draggable)"),n&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var r=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var r=this,i="";e.each(n,function(n,s){s.optgroup!==i&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),i=s.optgroup),r._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var r=e("<li>");return n.disabled&&r.addClass("ui-state-disabled"),this._setText(r,n.label),r.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,r,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),i+=":not(.ui-state-disabled)"),r="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0),r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,r){var i=e(r),s=i.parent("optgroup");n.push({element:i,index:t,value:i.val(),label:i.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||i.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=n,s=e(this),o=t)}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var r,i,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],s=0;r.length>s;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,r=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=r+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=100*((a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())),l["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&("horizontal"===a.orientation?(0===r&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(0===r&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?100*((r-i)/(s-i)):0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),"max"===o&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),"max"===o&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var n,r,i,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,o),n===!1))return}switch(s=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-s)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r}))}var r;r=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=null!==r.min?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&r.min>e?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(n)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:a(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:a(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:a(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:a(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(a(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,r;t=t.cloneNode(!1),n=t.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(i){}try{r=decodeURIComponent(r)}catch(i){}return t.hash.length>1&&n===r}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,i){return e(i).attr("aria-controls")===r?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(r),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function r(){return t>i&&(t=0),0>t&&(t=i),t}for(var i=this.tabs.length-1;-1!==e.inArray(r(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,s,o,u=e(r).uniqueId().attr("id"),a=e(r).closest("li"),f=a.attr("aria-controls");t._isLocal(r)?(i=r.hash,o=i.substring(1),s=t.element.find(t._sanitizeSelector(i))):(o=a.attr("aria-controls")||e({}).uniqueId()[0].id,i="#"+o,s=t.element.find(i),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),f&&a.data("ui-tabs-aria-controls",f),a.attr({"aria-controls":o,"aria-labelledby":u}),s.attr("aria-labelledby",u)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)t===!0||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1||(n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),f.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l))},_toggle:function(t,n){function r(){s.running=!1,s._trigger("activate",t,n)}function i(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,r):(o.show(),r())}var s=this,o=n.newPanel,u=n.oldPanel;this.running=!0,u.length&&this.options.hide?this._hide(u,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u.hide(),i()),u.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&u.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),s=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),u={tab:i,panel:o},a=function(e,t){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,u)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){o.html(e),r._trigger("load",n,u),a(i,t)},1)}).fail(function(e,t){setTimeout(function(){a(e,t)},1)})))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;return"disabled"===t?(this[n?"_disable":"_enable"](),this.options[t]=n,void 0):(this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;return"string"==typeof r?this._open(t,e,r):(n=r.call(e[0],function(n){i._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,n))})}),n&&this._open(t,e,n),void 0)},_open:function(t,n,r){function i(e){f.of=e,o.is(":hidden")||o.position(f)}var s,o,u,a,f=e.extend({},this.options.position);if(r){if(s=this._find(n))return s.tooltip.find(".ui-tooltip-content").html(r),void 0;n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),o=s.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(a=r.clone(),a.removeAttr("id").find("[id]").removeAttr("id")):a=r,e("<div>").html(a).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(u=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(f.of),clearInterval(u))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),s=this._find(i);return s?(n=s.tooltip,s.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),s.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:n}),s.hiding||(s.closing=!1)),void 0):(i.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur"),s=r.element;i.target=i.currentTarget=s[0],t.close(i,!0),e("#"+n).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var r=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(n){var r=f(),i=r._rgba=[];return n=n.toLowerCase(),d(a,function(e,s){var o,u=s.re.exec(n),a=u&&s.parse(u),f=s.space||"rgba";return a?(o=r[f](a),r[l[f].cache]=o[l[f].cache],i=r._rgba=o._rgba,!1):t}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),r):s[n]}function i(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",u=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=f.support={},p=e("<p>")[0],d=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,d(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=e.extend(f.prototype,{parse:function(i,o,u,a){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=t);var c=this,h=e.type(i),p=this._rgba=[];return o!==t&&(i=[i,o,u,a],h="array"),"string"===h?this.parse(r(i)||s._default):"array"===h?(d(l.rgba.props,function(e,t){p[t.idx]=n(i[t.idx],t)}),this):"object"===h?(i instanceof f?d(l,function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}):d(l,function(t,r){var s=r.cache;d(r.props,function(e,t){if(!c[s]&&r.to){if("alpha"===e||null==i[e])return;c[s]=r.to(c._rgba)}c[s][t.idx]=n(i[e],t,!0)}),c[s]&&0>e.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,r.from&&(c._rgba=r.from(c[s])))}),this):t},is:function(e){var n=f(e),r=!0,i=this;return d(l,function(e,s){var o,u=n[s.cache];return u&&(o=i[s.cache]||s.to&&s.to(i._rgba)||[],d(s.props,function(e,n){return null!=u[n.idx]?r=u[n.idx]===o[n.idx]:t})),r}),r},_space:function(){var e=[],t=this;return d(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=f(e),i=r._space(),s=l[i],o=0===this.alpha()?f("transparent"):this,u=o[s.cache]||s.to(o._rgba),a=u.slice();return r=r[s.cache],d(s.props,function(e,i){var s=i.idx,o=u[s],f=r[s],l=c[i.type]||{};null!==f&&(null===o?a[s]=f:(l.mod&&(f-o>l.mod/2?o+=l.mod:o-f>l.mod/2&&(o-=l.mod)),a[s]=n((f-o)*t+o,i)))}),this[i](a)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=f(t)._rgba;return f(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,l.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=e[3],u=Math.max(r,i,s),a=Math.min(r,i,s),f=u-a,l=u+a,c=.5*l;return t=a===u?0:r===u?60*(i-s)/f+360:i===u?60*(s-r)/f+120:60*(r-i)/f+240,n=0===f?0:.5>=c?f/l:f/(2-l),[Math.round(t)%360,n,c,null==o?1:o]},l.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],s=e[3],o=.5>=r?r*(1+n):r+n-r*n,u=2*r-o;return[Math.round(255*i(u,o,t+1/3)),Math.round(255*i(u,o,t)),Math.round(255*i(u,o,t-1/3)),s]},d(l,function(r,i){var s=i.props,o=i.cache,a=i.to,l=i.from;f.fn[r]=function(r){if(a&&!this[o]&&(this[o]=a(this._rgba)),r===t)return this[o].slice();var i,u=e.type(r),c="array"===u||"object"===u?r:arguments,h=this[o].slice();return d(s,function(e,t){var r=c["object"===u?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=n(r,t)}),l?(i=f(l(h)),i[o]=h,i):f(h)},d(s,function(t,n){f.fn[t]||(f.fn[t]=function(i){var s,o=e.type(i),a="alpha"===t?this._hsla?"hsla":"rgba":r,f=this[a](),l=f[n.idx];return"undefined"===o?l:("function"===o&&(i=i.call(this,l),o=e.type(i)),null==i&&n.empty?this:("string"===o&&(s=u.exec(i),s&&(i=l+parseFloat(s[2])*("+"===s[1]?1:-1))),f[n.idx]=i,this[a](f)))})})}),f.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,i){var s,o,u="";if("transparent"!==i&&("string"!==e.type(i)||(s=r(i)))){if(i=f(s||i),!h.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===u||"transparent"===u)&&o&&o.style;)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(a){}i=i.blend(u&&"transparent"!==u?u:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(a){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=f(t.elem,n),t.end=f(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},f.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)n=i[r],"string"==typeof i[n]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}function n(t,n){var r,s,o={};for(r in n)s=n[r],t[r]!==s&&(i[r]||(e.fx.step[r]||!isNaN(parseFloat(s)))&&(o[r]=s));return o}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,u){var a=e.speed(s,o,u);return this.queue(function(){var s,o=e(this),u=o.attr("class")||"",f=a.children?o.find("*").addBack():o;f=f.map(function(){var n=e(this);return{el:n,start:t(this)}}),s=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),f=f.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",u),f=f.map(function(){var t=this,n=e.Deferred(),r=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(n,r,i,s){return r?e.effects.animateClass.call(this,{add:n},r,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,i,s,o){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(y+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;t.length>r;r++)null!==t[r]&&(n=e.data(y+t[r]),void 0===n&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=r.complete,u=r.mode;(i.is(":hidden")?"hide"===u:"show"===u)?(i[u](),n()):o.call(i[0],r,n)}var r=t.apply(this,arguments),i=r.mode,s=r.queue,o=e.effects.effect[r.effect];return e.fx.off||!o?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):s===!1?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,n){var r,i,s,o=e(this),u=/up|down|vertical/,a=/up|left|vertical|horizontal/,f=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c=t.direction||"up",h=u.test(c),p=h?"height":"width",d=h?"top":"left",v=a.test(c),m={},g="show"===l;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),f):e.effects.save(o,f),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i=r[p](),s=parseFloat(r.css(d))||0,m[p]=g?i:0,v||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[d]=g?s:i+s),g&&(r.css(p,0),v||r.css(d,s+i)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===l&&o.hide(),e.effects.restore(o,f),e.effects.removeWrapper(o),n()}})},e.effects.effect.bounce=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),f="hide"===a,l="show"===a,c=t.direction||"up",h=t.distance,p=t.times||5,d=2*p+(l||f?1:0),v=t.duration/d,m=t.easing,g="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=o.queue(),w=b.length;for((l||f)&&u.push("opacity"),e.effects.save(o,u),o.show(),e.effects.createWrapper(o),h||(h=o["top"===g?"outerHeight":"outerWidth"]()/3),l&&(s={opacity:1},s[g]=0,o.css("opacity",0).css(g,y?2*-h:2*h).animate(s,v,m)),f&&(h/=Math.pow(2,p-1)),s={},s[g]=0,r=0;p>r;r++)i={},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m).animate(s,v,m),h=f?2*h:h/2;f&&(i={opacity:0},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m)),o.queue(function(){f&&o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,d+1))),o.dequeue()},e.effects.effect.clip=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),f="show"===a,l=t.direction||"vertical",c="vertical"===l,h=c?"height":"width",p=c?"top":"left",d={};e.effects.save(o,u),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i="IMG"===o[0].tagName?r:o,s=i[h](),f&&(i.css(h,0),i.css(p,s/2)),d[h]=f?s:0,d[p]=f?0:s/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}})},e.effects.effect.drop=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(i,t.mode||"hide"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"pos":"neg",c={opacity:u?1:0};e.effects.save(i,s),i.show(),e.effects.createWrapper(i),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0)/2,u&&i.css("opacity",0).css(f,"pos"===l?-r:r),c[f]=(u?"pos"===l?"+=":"-=":"pos"===l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.explode=function(t,n){function r(){b.push(this),b.length===c*h&&i()}function i(){p.css({visibility:"visible"}),e(b).remove(),v||p.hide(),n()}var s,o,u,a,f,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,p=e(this),d=e.effects.setMode(p,t.mode||"hide"),v="show"===d,m=p.show().css("visibility","hidden").offset(),g=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/c),b=[];for(s=0;c>s;s++)for(a=m.top+s*y,l=s-(c-1)/2,o=0;h>o;o++)u=m.left+o*g,f=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:y,left:u+(v?f*g:0),top:a+(v?l*y:0),opacity:v?0:1}).animate({left:u+(v?0:f*g),top:a+(v?0:l*y),opacity:v?1:0},t.duration||500,t.easing,r)},e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var r,i,s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a="show"===u,f="hide"===u,l=t.size||15,c=/([0-9]+)%/.exec(l),h=!!t.horizFirst,p=a!==h,d=p?["width","height"]:["height","width"],v=t.duration/2,m={},g={};e.effects.save(s,o),s.show(),r=e.effects.createWrapper(s).css({overflow:"hidden"}),i=p?[r.width(),r.height()]:[r.height(),r.width()],c&&(l=parseInt(c[1],10)/100*i[f?0:1]),a&&r.css(h?{height:0,width:l}:{height:l,width:0}),m[d[0]]=a?i[0]:l,g[d[1]]=a?i[1]:0,r.animate(m,v,t.easing).animate(g,v,t.easing,function(){f&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()})},e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,i),n()}})},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||"effect"!==p,v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||("show"===p?b:r),o.to=t.to||("hide"===p?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}},("box"===v||"both"===v)&&(s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),("content"===v||"both"===v)&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from),("content"===v||"both"===v)&&(c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),d||("static"===g?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return"auto"===n?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:"horizontal"!==u?o/100:1,x:"vertical"!==u?o/100:1};i.effect="size",i.queue=!1,i.complete=n,"effect"!==s&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&("show"===s&&(i.from.opacity=0,i.to.opacity=1),"hide"===s&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s="hide"===i,o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.pulsate=function(t,n){var r,i=e(this),s=e.effects.setMode(i,t.mode||"show"),o="show"===s,u="hide"===s,a=o||"hide"===s,f=2*(t.times||5)+(a?1:0),l=t.duration/f,c=0,h=i.queue(),p=h.length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1),r=1;f>r;r++)i.animate({opacity:c},l,t.easing),c=1-c;i.animate({opacity:c},l,t.easing),i.queue(function(){u&&i.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,f+1))),i.dequeue()},e.effects.effect.shake=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(i,t.mode||"effect"),u=t.direction||"left",a=t.distance||20,f=t.times||3,l=2*f+1,c=Math.round(t.duration/l),h="up"===u||"down"===u?"top":"left",p="up"===u||"left"===u,d={},v={},m={},g=i.queue(),y=g.length;for(e.effects.save(i,s),i.show(),e.effects.createWrapper(i),d[h]=(p?"-=":"+=")+a,v[h]=(p?"+=":"-=")+2*a,m[h]=(p?"-=":"+=")+2*a,i.animate(d,c,t.easing),r=1;f>r;r++)i.animate(v,c,t.easing).animate(m,c,t.easing);i.animate(v,c,t.easing).animate(d,c/2,t.easing).queue(function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,l+1))),i.dequeue()},e.effects.effect.slide=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(i,t.mode||"show"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a,c={};e.effects.save(i,s),i.show(),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),u&&i.css(f,l?isNaN(r)?"-"+r:-r:r),c[f]=(u?l?"+=":"-=":l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s="fixed"===i.css("position"),o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}}),define("wijmo",["jquery","jquery_migrate","jqueryui"],function($,jquery_migrate,jqueryui){function wijmoASPNetParseOptionsReviewer(d,c){var a,b=d[c],e;if(b)switch(typeof b){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(b),a&&(e=new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]),e.setFullYear(+a[1]),d[c]=e);break;case"object":if(b.needQuotes!==undefined&&b.valueString!==undefined)b.needQuotes?d[c]=b.valueString:d[c]=eval(b.valueString);else for(c in b)wijmoASPNetParseOptionsReviewer(b,c)}}function wijmoASPNetParseOptions(e){var t;if(!e)return e;for(t in e)wijmoASPNetParseOptionsReviewer(e,t);return e}(function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;n=function(e){return new n.prototype.init(e)},typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",r=/^0x[a-f0-9]+$/i,i=/^[+-]?infinity$/i,s=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,o=/^\s+|\s+$/g,u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},a=function(e,t){return e.substr(e.length-t.length)===t},f=function(e){var n,r,i,s,o,u,a=arguments[0]||{},p=1,d=arguments.length,e=!1;typeof a=="boolean"&&(e=a,a=arguments[1]||{},p=2),typeof a!="object"&&!c(a)&&(a={});for(;p<d;p++)if((n=arguments[p])!=null)for(r in n){i=a[r],s=n[r];if(a===s)continue;e&&s&&(h(s)||(o=l(s)))?(o?(o=!1,u=i&&l(i)?i:[]):u=i&&h(i)?i:{},a[r]=f(e,u,s)):s!==t&&(a[r]=s)}return a},l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},c=function(e){return Object.prototype.toString.call(e)==="[object Function]"},h=function(e){return Object.prototype.toString.call(e)==="[object Object]"},p=function(e,t){return e.indexOf(t)===0},d=function(e){return(e+"").replace(o,"")},v=function(e){return isNaN(e)?NaN:e|0},m=function(e,t,n){for(var r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},g=function(e,t){for(var n=0,r=!1,i=0,s=e.length;i<s;i++){var o=e.charAt(i);switch(o){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return n},y=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(i===1){n=r[t];if(!n)throw"Invalid date format string '"+t+"'.";t=n}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},b=function(e,t,n){function T(e,t){var n,r=e+"";return t>1&&r.length<t?(n=c[t-2]+r,n.substr(n.length-t,t)):(n=r,n)}function N(){return h||p?h:(h=d.test(t),p=!0,h)}function C(e,t){if(w)return w[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var r=n.calendar,i=r.convert;if(!t||!t.length||t==="i"){var s;if(n&&n.name.length)if(i)s=b(e,r.patterns.F,n);else{var o=new Date(e.getTime()),u=S(e,r.eras);o.setFullYear(x(e,r,u)),s=o.toLocaleString()}else s=e.toString();return s}var a=r.eras,f=t==="s";t=y(r,t),s=[];var l,c=["0","00","000"],h,p,d=/([^d]|^)(d|dd)([^d]|$)/g,v=0,m=E(),w;!f&&i&&(w=i.fromGregorian(e));for(;;){var k=m.lastIndex,L=m.exec(t),A=t.slice(k,L?L.index:t.length);v+=g(A,s);if(!L)break;if(v%2){s.push(L[0]);continue}var O=L[0],M=O.length;switch(O){case"ddd":case"dddd":var _=M===3?r.days.namesAbbr:r.days.names;s.push(_[e.getDay()]);break;case"d":case"dd":h=!0,s.push(T(C(e,2),M));break;case"MMM":case"MMMM":var D=C(e,1);s.push(r.monthsGenitive&&N()?r.monthsGenitive[M===3?"namesAbbr":"names"][D]:r.months[M===3?"namesAbbr":"names"][D]);break;case"M":case"MM":s.push(T(C(e,1)+1,M));break;case"y":case"yy":case"yyyy":D=w?w[0]:x(e,r,S(e,a),f),M<4&&(D%=100),s.push(T(D,M));break;case"h":case"hh":l=e.getHours()%12,l===0&&(l=12),s.push(T(l,M));break;case"H":case"HH":s.push(T(e.getHours(),M));break;case"m":case"mm":s.push(T(e.getMinutes(),M));break;case"s":case"ss":s.push(T(e.getSeconds(),M));break;case"t":case"tt":D=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",s.push(M===1?D.charAt(0):D);break;case"f":case"ff":case"fff":s.push(T(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),M));break;case"zzz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),2)+":"+T(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&s.push(r.eras[S(e,a)].name);break;case"/":s.push(r["/"]);break;default:throw"Invalid date format pattern '"+O+"'."}}return s.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],s=1,o=Math.pow(10,t),u=Math.round(e*o)/o;isFinite(u)||(u=e),e=u;var a=e+"",f="",l=a.split(/e/i),c=l.length>1?parseInt(l[1],10):0;a=l[0],l=a.split("."),a=l[0],f=l.length>1?l[1]:"";var h;c>0?(f=m(f,c,!1),a+=f.slice(0,c),f=f.substr(c)):c<0&&(c=-c,a=m(a,c+1),f=a.slice(-c,a.length)+f,a=a.slice(0,-c)),t>0?f=n["."]+(f.length>t?f.slice(0,t):m(f,t)):f="";var p=a.length-1,d=n[","],v="";while(p>=0){if(i===0||i>p)return a.slice(0,p+1)+(v.length?d+v+f:f);v=a.slice(p-i+1,p+1)+(v.length?d+v:""),p-=i,s<r.length&&(i=r[s],s++)}return a.slice(0,p+1)+d+v+f},w=function(t,n,r){if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||n==="i")return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i=r.numberFormat,s=Math.abs(t),o=-1,u;n.length>1&&(o=parseInt(n.slice(1),10));var a=n.charAt(0).toUpperCase(),f;switch(a){case"D":u="n",s=v(s),o!==-1&&(s=m(""+s,o,!0)),t<0&&(s="-"+s);break;case"N":f=i;case"C":f=f||i.currency;case"P":f=f||i.percent,u=t<0?f.pattern[0]:f.pattern[1]||"n",o===-1&&(o=f.decimals),s=e(s*(a==="P"?100:1),o,f);break;default:throw"Bad number format specifier: "+a}for(var l=/n|\$|-|%/g,c="";;){var h=l.lastIndex,p=l.exec(u);c+=u.slice(h,p?p.index:u.length);if(!p)break;switch(p[0]){case"n":c+=s;break;case"$":c+=i.currency.symbol;break;case"-":/[1-9]/.test(s)&&(c+=i["-"]);break;case"%":c+=i.percent.symbol}}return c}}(),E=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},S=function(e,t){if(!t)return 0;for(var n,r=e.getTime(),i=0,s=t.length;i<s;i++){n=t[i].start;if(n===null||r>=n)return i}return 0},x=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,s,o;e=function(e,t){if(t<100){var n=new Date,r=S(n),i=x(n,e,r),s=e.twoDigitYearMax;s=typeof s=="string"?(new Date).getFullYear()%100+parseInt(s,10):s,t+=i-i%100,t>s&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,a=e._upperDays;return a||(e._upperDays=a=[o(i.names),o(i.namesAbbr),o(i.namesShort)]),t=s(t),n?(r=u(a[1],t),r===-1&&(r=u(a[2],t))):r=u(a[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,a=e._upperMonths,f=e._upperMonthsGen;a||(e._upperMonths=a=[o(r.names),o(r.namesAbbr)],e._upperMonthsGen=f=[o(i.names),o(i.namesAbbr)]),t=s(t);var l=u(n?a[1]:a[0],t);return l<0&&(l=u(n?f[1]:f[0],t)),l},r=function(e,t){var n=e._parseRegExp;if(!n)e._parseRegExp=n={};else{var r=n[t];if(r)return r}var i=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],u=0,a=0,f=E(),l;while((l=f.exec(i))!==null){var c=i.slice(u,l.index);u=f.lastIndex,a+=g(c,s);if(a%2){s.push(l[0]);continue}var h=l[0],p=h.length,d;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}d&&s.push(d),o.push(l[0])}g(i.slice(u),s),s.push("$");var v=s.join("").replace(/\s+/g,"\\s+"),m={regExp:v,groups:o};return n[t]=m},i=function(e,t,n){return e<t||e>n},s=function(e){return e.split(" ").join(" ").toUpperCase()},o=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t},T=function(s,o,u){s=d(s);var a=u.calendar,f=r(a,o),l=(new RegExp(f.regExp)).exec(s);if(l===null)return null;for(var c=f.groups,h=null,v=null,m=null,g=null,y=null,b=0,w,E=0,S=0,x=0,T=null,N=!1,C=0,L=c.length;C<L;C++){var A=l[C+1];if(A){var O=c[C],M=O.length,_=parseInt(A,10);switch(O){case"dd":case"d":g=_;if(i(g,1,31))return null;break;case"MMM":case"MMMM":m=n(a,A,M===3);if(i(m,0,11))return null;break;case"M":case"MM":m=_-1;if(i(m,0,11))return null;break;case"y":case"yy":case"yyyy":v=M<4?e(a,_):_;if(i(v,0,9999))return null;break;case"h":case"hh":b=_,b===12&&(b=0);if(i(b,0,11))return null;break;case"H":case"HH":b=_;if(i(b,0,23))return null;break;case"m":case"mm":E=_;if(i(E,0,59))return null;break;case"s":case"ss":S=_;if(i(S,0,59))return null;break;case"tt":case"t":N=a.PM&&(A===a.PM[0]||A===a.PM[1]||A===a.PM[2]);if(!N&&(!a.AM||A!==a.AM[0]&&A!==a.AM[1]&&A!==a.AM[2]))return null;break;case"f":case"ff":case"fff":x=_*Math.pow(10,3-M);if(i(x,0,999))return null;break;case"ddd":case"dddd":y=t(a,A,M===3);if(i(y,0,6))return null;break;case"zzz":var D=A.split(/:/);if(D.length!==2)return null;w=parseInt(D[0],10);if(i(w,-12,13))return null;var P=parseInt(D[1],10);if(i(P,0,59))return null;T=w*60+(p(A,"-")?-P:P);break;case"z":case"zz":w=_;if(i(w,-12,13))return null;T=w*60;break;case"g":case"gg":var H=A;if(!H||!a.eras)return null;H=d(H.toLowerCase());for(var B=0,F=a.eras.length;B<F;B++)if(H===a.eras[B].name.toLowerCase()){h=B;break}if(h===null)return null}}}var I=new Date,q,R=a.convert;q=R?R.fromGregorian(I)[0]:I.getFullYear(),v===null?v=q:a.eras&&(v+=a.eras[h||0].offset),m===null&&(m=0),g===null&&(g=1);if(R){I=R.toGregorian(v,m,g);if(I===null)return null}else{I.setFullYear(v,m,g);if(I.getDate()!==g)return null;if(y!==null&&I.getDay()!==y)return null}N&&b<12&&(b+=12),I.setHours(b,E,S,x);if(T!==null){var U=I.getMinutes()-(T+I.getTimezoneOffset());I.setHours(I.getHours()+parseInt(U/60,10),U%60)}return I}}(),N=function(e,t,n){var r=t["-"],i=t["+"],s;switch(n){case"n -":r=" "+r,i=" "+i;case"n-":a(e,r)?s=["-",e.substr(0,e.length-r.length)]:a(e,i)&&(s=["+",e.substr(0,e.length-i.length)]);break;case"- n":r+=" ",i+=" ";case"-n":p(e,r)?s=["-",e.substr(r.length)]:p(e,i)&&(s=["+",e.substr(i.length)]);break;case"(n)":p(e,"(")&&a(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var r={},i=!1;typeof e!="string"?(n=e,e=this.culture().name,r=this.cultures[e]):typeof t!="string"?(n=t,i=this.cultures[e]==null,r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=f(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.cultures[this.cultureSelector]||this.cultures["default"];typeof e=="string"&&(e=e.split(","));if(l(e)){for(var n,r=this.cultures,i=e,s=i.length,o=[],u=0;u<s;u++){e=d(i[u]);var a,f=e.split(";");n=d(f[0]),f.length===1?a=1:(e=d(f[1]),e.indexOf("q=")===0?(e=e.substr(2),a=parseFloat(e),a=isNaN(a)?0:a):a=1),o.push({lang:n,pri:a})}o.sort(function(e,t){return e.pri<t.pri?1:-1});for(u=0;u<s;u++){n=o[u].lang,t=r[n];if(t)return t}for(u=0;u<s;u++){n=o[u].lang;do{var c=n.lastIndexOf("-");if(c===-1)break;n=n.substr(0,c),t=r[n];if(t)return t}while(1)}for(u=0;u<s;u++){n=o[u].lang;for(var h in r){var p=r[h];if(p.language==n)return p}}}else if(typeof e=="object")return e;return t||null},n.format=function(e,t,n){return culture=this.findClosestCulture(n),e instanceof Date?e=b(e,t,culture):typeof e=="number"&&(e=w(e,t,culture)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,s;if(t){typeof t=="string"&&(t=[t]);if(t.length)for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a){r=T(e,a,n);if(r)break}}}else{s=n.calendar.patterns;for(i in s){r=T(e,s[i],n);if(r)break}}return r||null},n.parseInt=function(e,t,r){return v(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,n){typeof t!="number"&&(n=t,t=10);var o=this.findClosestCulture(n),u=NaN,a=o.numberFormat;e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e=d(e);if(i.test(e))u=parseFloat(e);else if(!t&&r.test(e))u=parseInt(e,16);else{var f=N(e,a,a.pattern[0]),l=f[0],c=f[1];l===""&&a.pattern[0]!=="(n)"&&(f=N(e,a,"(n)"),l=f[0],c=f[1]),l===""&&a.pattern[0]!=="-n"&&(f=N(e,a,"-n"),l=f[0],c=f[1]),l=l||"+";var h,p,v=c.indexOf("e");v<0&&(v=c.indexOf("E")),v<0?(p=c,h=null):(p=c.substr(0,v),h=c.substr(v+1));var m,g,y=a["."],b=p.indexOf(y);b<0?(m=p,g=null):(m=p.substr(0,b),g=p.substr(b+y.length));var w=a[","];m=m.split(w).join("");var E=w.replace(/\u00A0/g," ");w!==E&&(m=m.split(E).join(""));var S=l+m;g!==null&&(S+="."+g);if(h!==null){var x=N(h,a,"-n");S+="e"+(x[0]||"+")+x[1]}s.test(S)&&(u=parseFloat(S))}return u},n.culture=function(e){return typeof e!="undefined"&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture["default"]}})(this),function(e){function t(e){return e&&e.constructor===Number?e+"px":e}e.fn.bgiframe=e.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(n){n=e.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},n);var r='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+n.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(n.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+(n.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":t(n.top))+";"+"left:"+(n.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":t(n.left))+";"+"width:"+(n.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":t(n.width))+";"+"height:"+(n.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":t(n.height))+";"+'"/>';return this.each(function(){e(this).children("iframe.bgiframe").length===0&&this.insertBefore(document.createElement(r),this.firstChild)})}:function(){return this},e.fn.bgIframe=e.fn.bgiframe}(jQuery),function(e){function t(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=!0,o=0,u=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),u=i,n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS&&(u=0,o=-1*i),n.wheelDeltaY!==undefined&&(u=n.wheelDeltaY/120),n.wheelDeltaX!==undefined&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,u),(e.event.dispatch||e.event.handle).apply(this,r)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),jQuery.cookie=function(e,t,n){if(typeof t=="undefined"){var a=null;if(document.cookie&&document.cookie!=""){var f=document.cookie.split(";");for(var l=0;l<f.length;l++){var c=jQuery.trim(f[l]);if(c.substring(0,e.length+1)==e+"="){a=decodeURIComponent(c.substring(e.length+1));break}}}return a}n=n||{},t===null&&(t="",n.expires=-1);var r="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var i;typeof n.expires=="number"?(i=new Date,i.setTime(i.getTime()+n.expires*24*60*60*1e3)):i=n.expires,r="; expires="+i.toUTCString()}var s=n.path?"; path="+n.path:"",o=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,s,o,u].join("")},function(e){var t="0.4.0",n="hasOwnProperty",r=/[\.\/]/,i="*",s=function(){},o=function(e,t){return e-t},u,a,f={n:{}},l=function(e,t){var n=f,r=a,i=Array.prototype.slice.call(arguments,2),s=l.listeners(e),c=0,p=!1,d,v=[],m={},y=[],b=[];u=e,a=0;for(var w=0,E=s.length;w<E;w++)"zIndex"in s[w]&&(v.push(s[w].zIndex),s[w].zIndex<0&&(m[s[w].zIndex]=s[w]));v.sort(o);while(v[c]<0){d=m[v[c++]],y.push(d.apply(t,i));if(a)return a=r,y}for(w=0;w<E;w++){d=s[w];if("zIndex"in d)if(d.zIndex==v[c]){y.push(d.apply(t,i));if(a)return a=r,y;do{c++,d=m[v[c]],d&&y.push(d.apply(t,i));if(a)return a=r,y}while(d)}else m[d.zIndex]=d;else{y.push(d.apply(t,i));if(a)return a=r,y}}return a=r,y.length?y:null};l.listeners=function(e){var t=e.split(r),n=f,s,o,u,a,l,c,h,p,v=[n],m=[];for(a=0,l=t.length;a<l;a++){p=[];for(c=0,h=v.length;c<h;c++){n=v[c].n,o=[n[t[a]],n[i]],u=2;while(u--)s=o[u],s&&(p.push(s),m=m.concat(s.f||[]))}v=p}return m},l.on=function(e,t){var n=e.split(r),i=f;for(var o=0,u=n.length;o<u;o++)i=i.n,!i[n[o]]&&(i[n[o]]={n:{}}),i=i[n[o]];i.f=i.f||[];for(o=0,u=i.f.length;o<u;o++)if(i.f[o]==t)return s;return i.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},l.stop=function(){a=1},l.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(u):u},l.unbind=function(e,t){var s=e.split(r),o,u,a,l,h,p,v,m=[f];for(l=0,h=s.length;l<h;l++)for(p=0;p<m.length;p+=a.length-2){a=[p,1],o=m[p].n;if(s[l]!=i)o[s[l]]&&a.push(o[s[l]]);else for(u in o)o[n](u)&&a.push(o[u]);m.splice.apply(m,a)}for(l=0,h=m.length;l<h;l++){o=m[l];while(o.n){if(t){if(o.f){for(p=0,v=o.f.length;p<v;p++)if(o.f[p]==t){o.f.splice(p,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[n](u)&&o.n[u].f){var g=o.n[u].f;for(p=0,v=g.length;p<v;p++)if(g[p]==t){g.splice(p,1);break}!g.length&&delete o.n[u].f}}else{delete o.f;for(u in o.n)o.n[n](u)&&o.n[u].f&&delete o.n[u].f}o=o.n}}},l.once=function(e,t){var n=function(){t.apply(this,arguments),l.unbind(e,n)};return l.on(e,n)},l.version=t,l.toString=function(){return"You are running Eve "+t},typeof module!="undefined"&&module.exports?module.exports=l:e.eve=l}(this),function(){function e(e,t,r,i,o,u){r=Y(r);var a,f,c,p=[],d,v,g,y=e.ms,b={},w={},E={};if(i)for(T=0,N=vn.length;T<N;T++){var S=vn[T];if(S.el.id==t.id&&S.anim==e){S.percent!=r?(vn.splice(T,1),c=1):f=S,t.attr(S.totalOrigin);break}}else i=+w;for(var T=0,N=e.percents.length;T<N;T++){if(e.percents[T]==r||e.percents[T]>i*e.top){r=e.percents[T],v=e.percents[T-1]||0,y=y/e.top*(r-v),d=e.percents[T+1],a=e.anim[r];break}i&&t.attr(e.anim[e.percents[T]])}if(!!a){if(!f){for(var C in a)if(a[m](C))if(nt[m](C)||t.paper.customAttributes[m](C)){b[C]=t.attr(C),b[C]==null&&(b[C]=tt[C]),w[C]=a[C];switch(nt[C]){case F:E[C]=(w[C]-b[C])/y;break;case"colour":b[C]=l.getRGB(b[C]);var A=l.getRGB(w[C]);E[C]={r:(A.r-b[C].r)/y,g:(A.g-b[C].g)/y,b:(A.b-b[C].b)/y};break;case"path":var O=Ft(b[C],w[C]),M=O[1];b[C]=O[0],E[C]=[];for(T=0,N=b[C].length;T<N;T++){E[C][T]=[0];for(var _=1,D=b[C][T].length;_<D;_++)E[C][T][_]=(M[T][_]-b[C][T][_])/y}break;case"transform":var P=t._,H=$t(P[C],w[C]);if(H){b[C]=H.from,w[C]=H.to,E[C]=[],E[C].real=!0;for(T=0,N=b[C].length;T<N;T++){E[C][T]=[b[C][T][0]];for(_=1,D=b[C][T].length;_<D;_++)E[C][T][_]=(w[C][T][_]-b[C][T][_])/y}}else{var B=t.matrix||new s,j={_:{transform:P.transform},getBBox:function(){return t.getBBox(1)}};b[C]=[B.a,B.b,B.c,B.d,B.e,B.f],Xt(j,w[C]),w[C]=j._.transform,E[C]=[(j.matrix.a-B.a)/y,(j.matrix.b-B.b)/y,(j.matrix.c-B.c)/y,(j.matrix.d-B.d)/y,(j.matrix.e-B.e)/y,(j.matrix.e-B.f)/y]}break;case"csv":var I=k(a[C])[L](h),q=k(b[C])[L](h);if(C=="clip-rect"){b[C]=q,E[C]=[],T=q.length;while(T--)E[C][T]=(I[T]-b[C][T])/y}w[C]=I;break;default:I=[][x](a[C]),q=[][x](b[C]),E[C]=[],T=t.paper.customAttributes[C].length;while(T--)E[C][T]=((I[T]||0)-(q[T]||0))/y}}var R=a.easing,U=l.easing_formulas[R];if(!U){U=k(R).match(K);if(U&&U.length==5){var z=U;U=function(e){return n(e,+z[1],+z[2],+z[3],+z[4],y)}}else U=dt}g=a.start||e.start||+(new Date),S={anim:e,percent:r,timestamp:g,start:g+(e.del||0),status:0,initstatus:i||0,stop:!1,ms:y,easing:U,from:b,diff:E,to:w,el:t,callback:a.callback,prev:v,next:d,repeat:u||e.times,origin:t.attr(),totalOrigin:o},vn.push(S);if(i&&!f&&!c){S.stop=!0,S.start=new Date-y*i;if(vn.length==1)return gn()}c&&(S.start=new Date-S.ms*i),vn.length==1&&mn(gn)}else f.initstatus=i,f.start=new Date-f.ms*i;eve("anim.start."+t.id,t,e)}}function t(e,t){var n=[],r={};this.ms=t,this.times=1;if(e){for(var i in e)e[m](i)&&(r[Y(i)]=e[i],n.push(Y(i)));n.sort(ht)}this.anim=r,this.top=n[n.length-1],this.percents=n}function n(e,t,n,r,i,s){function o(e,t){var n,r,i,s,o,u;for(i=e,u=0;u<8;u++){s=a(i)-e;if(H(s)<t)return i;o=(3*c*i+2*l)*i+f;if(H(o)<1e-6)break;i-=s/o}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=a(i);if(H(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)/2+n}return i}function u(e,t){var n=o(e,t);return((d*n+p)*n+h)*n}function a(e){return((c*e+l)*e+f)*e}var f=3*t,l=3*(r-t)-f,c=1-f-l,h=3*n,p=3*(i-n)-h,d=1-h-p;return u(e,1/(200*s))}function r(){return this.x+C+this.y+C+this.width+" × "+this.height}function i(){return this.x+C+this.y}function s(e,t,n,r,i,s){e!=null?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function o(e){var t=[];for(var n=0,r=e.length;r-2>n;n+=2){var i=[{x:+e[n],y:+e[n+1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];r-4==n?(i[0]={x:+e[n-2],y:+e[n-1]},i[3]=i[2]):n&&(i[0]={x:+e[n-2],y:+e[n-1]}),t.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return t}function u(){return this.hex}function a(e,t,n){function r(){var i=Array.prototype.slice.call(arguments,0),s=i.join("␀"),o=r.cache=r.cache||{},u=r.count=r.count||[];return o[m](s)?(f(u,s),n?n(o[s]):o[s]):(u.length>=1e3&&delete o[u.shift()],u.push(s),o[s]=e[S](t,i),n?n(o[s]):o[s])}return r}function f(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function l(e){if(l.is(e,"function"))return c?e():eve.on("DOMload",e);if(l.is(e,q))return l._engine.create[S](l,e.splice(0,3+l.is(e[0],F))).add(e);var t=Array.prototype.slice.call(arguments,0);if(l.is(t[t.length-1],"function")){var n=t.pop();return c?n.call(l._engine.create[S](l,t)):eve.on("DOMload",function(){n.call(l._engine.create[S](l,t))})}return l._engine.create[S](l,arguments)}l.version="2.0.1",l.eve=eve;var c,h=/[, ]+/,p={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},d=/\{(\d+)\}/g,v="prototype",m="hasOwnProperty",g={doc:document,win:window},y={was:Object.prototype[m].call(g.win,"Raphael"),is:g.win.Raphael},b=function(){this.ca=this.customAttributes={}},w,E="appendChild",S="apply",x="concat",T="createTouch"in g.doc,N="",C=" ",k=String,L="split",A="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[L](C),O={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},M=k.prototype.toLowerCase,_=Math,D=_.max,P=_.min,H=_.abs,B=_.pow,j=_.PI,F="number",I="string",q="array",R="toString",U="fill",z=Object.prototype.toString,W={},X="push",V=l._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,$=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,J={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=_.round,G="setAttribute",Y=parseFloat,Z=parseInt,et=k.prototype.toUpperCase,tt=l._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=l._availableAnimAttrs={blur:F,"clip-rect":"csv",cx:F,cy:F,fill:"colour","fill-opacity":F,"font-size":F,height:F,opacity:F,path:"path",r:F,rx:F,ry:F,stroke:"colour","stroke-opacity":F,"stroke-width":F,transform:"transform",width:F,x:F,y:F},rt=/\s*,\s*/,it={hs:1,rg:1},st=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,ut=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,at=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig,ft=l._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,lt={},ct=function(e,t){return e.key-t.key},ht=function(e,t){return Y(e)-Y(t)},pt=function(){},dt=function(e){return e},vt=l._rectPath=function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},mt=function(e,t,n,r){return r==null&&(r=n),[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},gt=l._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return vt(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return vt(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return vt(t.x,t.y,t.width,t.height)}},yt=l.mapPath=function(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=Ft(e);for(i=0,o=e.length;i<o;i++){a=e[i];for(s=1,u=a.length;s<u;s+=2)n=t.x(a[s],a[s+1]),r=t.y(a[s],a[s+1]),a[s]=n,a[s+1]=r}return e};l._g=g,l.type=g.win.SVGAngle||g.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(l.type=="VML"){var bt=g.doc.createElement("div"),wt;bt.innerHTML='<v:shape adj="1"/>',wt=bt.firstChild,wt.style.behavior="url(#default#VML)";if(!wt||typeof wt.adj!="object")return l.type=N;bt=null}l.svg=!(l.vml=l.type=="VML"),l._Paper=b,l.fn=w=b.prototype=l.prototype,l._id=0,l._oid=0,l.is=function(e,t){return t=M.call(t),t=="finite"?!J[m](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||z.call(e).slice(8,-1).toLowerCase()==t},l.angle=function(e,t,n,r,i,s){if(i==null){var o=e-n,u=t-r;return!o&&!u?0:(180+_.atan2(-u,-o)*180/j+360)%360}return l.angle(e,t,i,s)-l.angle(n,r,i,s)},l.rad=function(e){return e%360*j/180},l.deg=function(e){return e*180/j%360},l.snapTo=function(e,t,n){n=l.is(n,"finite")?n:10;if(l.is(e,q)){var r=e.length;while(r--)if(H(e[r]-t)<=n)return e[r]}else{e=+e;var i=t%e;if(i<n)return t-i;if(i>e-n)return t-i+e}return t};var Et=l.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=_.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)});l.setWindow=function(e){eve("setWindow",l,g.win,e),g.win=e,g.doc=g.win.document,l._engine.initWin&&l._engine.initWin(g.win)};var St=function(e){if(l.vml){var t=/^\s+|\s+$/g,n;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),n=r.body}catch(i){n=createPopup().document.body}var s=n.createTextRange();St=a(function(e){try{n.style.color=k(e).replace(t,N);var r=s.queryCommandValue("ForeColor");return r=(r&255)<<16|r&65280|(r&16711680)>>>16,"#"+("000000"+r.toString(16)).slice(-6)}catch(i){return"none"}})}else{var o=g.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",g.doc.body.appendChild(o),St=a(function(e){return o.style.color=e,g.doc.defaultView.getComputedStyle(o,N).getPropertyValue("color")})}return St(e)},xt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Tt=function(){return"hsl("+[this.h,this.s,this.l]+")"},Nt=function(){return this.hex},Ct=function(e,t,n){t==null&&l.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r);if(t==null&&l.is(e,I)){var r=l.getRGB(e);e=r.r,t=r.g,n=r.b}if(e>1||t>1||n>1)e/=255,t/=255,n/=255;return[e,t,n]},kt=function(e,t,n,r){e*=255,t*=255,n*=255;var i={r:e,g:t,b:n,hex:l.rgb(e,t,n),toString:Nt};return l.is(r,"finite")&&(i.opacity=r),i};l.color=function(e){var t;return l.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=l.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):l.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=l.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(l.is(e,"string")&&(e=l.getRGB(e)),l.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=l.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=l.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=Nt,e},l.hsb2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,r=e.o),e*=360;var i,s,o,u,a;return e=e%360/60,a=n*t,u=a*(1-H(e%2-1)),i=s=o=n-a,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],kt(i,s,o,r)},l.hsl2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h);if(e>1||t>1||n>1)e/=360,t/=100,n/=100;e*=360;var i,s,o,u,a;return e=e%360/60,a=2*t*(n<.5?n:1-n),u=a*(1-H(e%2-1)),i=s=o=n-a/2,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],kt(i,s,o,r)},l.rgb2hsb=function(e,t,n){n=Ct(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o;return s=D(e,t,n),o=s-P(e,t,n),r=o==0?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,r=(r+360)%6*60/360,i=o==0?0:o/s,{h:r,s:i,b:s,toString:xt}},l.rgb2hsl=function(e,t,n){n=Ct(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o,u,a;return o=D(e,t,n),u=P(e,t,n),a=o-u,r=a==0?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=(o+u)/2,i=a==0?0:s<.5?a/(2*s):a/(2-2*s),{h:r,s:i,l:s,toString:Tt}},l._path2string=function(){return this.join(",").replace(st,"$1")};var Lt=l._preload=function(e,t){var n=g.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,g.doc.body.removeChild(this)},n.onerror=function(){g.doc.body.removeChild(this)},g.doc.body.appendChild(n),n.src=e};l.getRGB=a(function(e){if(!e||!!((e=k(e)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:u};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:u};!it[m](e.toLowerCase().substring(0,2))&&e.charAt()!="#"&&(e=St(e));var t,n,r,i,s,o,a,f=e.match($);return f?(f[2]&&(i=Z(f[2].substring(5),16),r=Z(f[2].substring(3,5),16),n=Z(f[2].substring(1,3),16)),f[3]&&(i=Z((o=f[3].charAt(3))+o,16),r=Z((o=f[3].charAt(2))+o,16),n=Z((o=f[3].charAt(1))+o,16)),f[4]&&(a=f[4][L](rt),n=Y(a[0]),a[0].slice(-1)=="%"&&(n*=2.55),r=Y(a[1]),a[1].slice(-1)=="%"&&(r*=2.55),i=Y(a[2]),a[2].slice(-1)=="%"&&(i*=2.55),f[1].toLowerCase().slice(0,4)=="rgba"&&(s=Y(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100)),f[5]?(a=f[5][L](rt),n=Y(a[0]),a[0].slice(-1)=="%"&&(n*=2.55),r=Y(a[1]),a[1].slice(-1)=="%"&&(r*=2.55),i=Y(a[2]),a[2].slice(-1)=="%"&&(i*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="°")&&(n/=360),f[1].toLowerCase().slice(0,4)=="hsba"&&(s=Y(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100),l.hsb2rgb(n,r,i,s)):f[6]?(a=f[6][L](rt),n=Y(a[0]),a[0].slice(-1)=="%"&&(n*=2.55),r=Y(a[1]),a[1].slice(-1)=="%"&&(r*=2.55),i=Y(a[2]),a[2].slice(-1)=="%"&&(i*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="°")&&(n/=360),f[1].toLowerCase().slice(0,4)=="hsla"&&(s=Y(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100),l.hsl2rgb(n,r,i,s)):(f={r:n,g:r,b:i,toString:u},f.hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),l.is(s,"finite")&&(f.opacity=s),f)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:u}},l),l.hsb=a(function(e,t,n){return l.hsb2rgb(e,t,n).hex}),l.hsl=a(function(e,t,n){return l.hsl2rgb(e,t,n).hex}),l.rgb=a(function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)}),l.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},l.getColor.reset=function(){delete this.start},l.parsePathString=a(function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return l.is(e,q)&&l.is(e[0],q)&&(n=Ot(e)),n.length||k(e).replace(ot,function(e,r,i){var s=[],o=r.toLowerCase();i.replace(at,function(e,t){t&&s.push(+t)}),o=="m"&&s.length>2&&(n.push([r][x](s.splice(0,2))),o="l",r=r=="m"?"l":"L");if(o=="r")n.push([r][x](s));else while(s.length>=t[o]){n.push([r][x](s.splice(0,t[o])));if(!t[o])break}}),n.toString=l._path2string,n}),l.parseTransformString=a(function(e){if(!e)return null;var t={r:3,s:4,t:2,m:6},n=[];return l.is(e,q)&&l.is(e[0],q)&&(n=Ot(e)),n.length||k(e).replace(ut,function(e,t,r){var i=[],s=M.call(t);r.replace(at,function(e,t){t&&i.push(+t)}),n.push([t][x](i))}),n.toString=l._path2string,n}),l.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=B(f,3),c=B(f,2),h=a*a,p=h*a,d=l*e+c*3*a*n+f*3*a*a*i+p*o,v=l*t+c*3*a*r+f*3*a*a*s+p*u,m=e+2*a*(n-e)+h*(i-2*n+e),g=t+2*a*(r-t)+h*(s-2*r+t),y=n+2*a*(i-n)+h*(o-2*i+n),b=r+2*a*(s-r)+h*(u-2*s+r),w=f*e+a*n,E=f*t+a*r,S=f*i+a*o,x=f*s+a*u,T=90-_.atan2(m-y,g-b)*180/j;return(m>y||g<b)&&(T+=180),{x:d,y:v,m:{x:m,y:g},n:{x:y,y:b},start:{x:w,y:E},end:{x:S,y:x},alpha:T}},l._removedFactory=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}};var At=a(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=Ft(e);var t=0,n=0,r=[],i=[],s;for(var o=0,u=e.length;o<u;o++){s=e[o];if(s[0]=="M")t=s[1],n=s[2],r.push(t),i.push(n);else{var a=jt(t,n,s[1],s[2],s[3],s[4],s[5],s[6]);r=r[x](a.min.x,a.max.x),i=i[x](a.min.y,a.max.y),t=s[5],n=s[6]}}var f=P[S](0,r),l=P[S](0,i);return{x:f,y:l,width:D[S](0,r)-f,height:D[S](0,i)-l}},null,function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}),Ot=function(e){var t=[];if(!l.is(e,q)||!l.is(e&&e[0],q))e=l.parsePathString(e);for(var n=0,r=e.length;n<r;n++){t[n]=[];for(var i=0,s=e[n].length;i<s;i++)t[n][i]=e[n][i]}return t.toString=l._path2string,t},Mt=l._pathToRelative=a(function(e){if(!l.is(e,q)||!l.is(e&&e[0],q))e=l.parsePathString(e);var t=[],n=0,r=0,i=0,s=0,o=0;e[0][0]=="M"&&(n=e[0][1],r=e[0][2],i=n,s=r,o++,t.push(["M",n,r]));for(var u=o,a=e.length;u<a;u++){var f=t[u]=[],c=e[u];if(c[0]!=M.call(c[0])){f[0]=M.call(c[0]);switch(f[0]){case"a":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+(c[6]-n).toFixed(3),f[7]=+(c[7]-r).toFixed(3);break;case"v":f[1]=+(c[1]-r).toFixed(3);break;case"m":i=c[1],s=c[2];default:for(var h=1,p=c.length;h<p;h++)f[h]=+(c[h]-(h%2?n:r)).toFixed(3)}}else{f=t[u]=[],c[0]=="m"&&(i=c[1]+n,s=c[2]+r);for(var d=0,v=c.length;d<v;d++)t[u][d]=c[d]}var m=t[u].length;switch(t[u][0]){case"z":n=i,r=s;break;case"h":n+=+t[u][m-1];break;case"v":r+=+t[u][m-1];break;default:n+=+t[u][m-2],r+=+t[u][m-1]}}return t.toString=l._path2string,t},0,Ot),_t=l._pathToAbsolute=a(function(e){if(!l.is(e,q)||!l.is(e&&e[0],q))e=l.parsePathString(e);if(!e||!e.length)return[["M",0,0]];var t=[],n=0,r=0,i=0,s=0,u=0;e[0][0]=="M"&&(n=+e[0][1],r=+e[0][2],i=n,s=r,u++,t[0]=["M",n,r]);for(var a,f,c=u,h=e.length;c<h;c++){t.push(a=[]),f=e[c];if(f[0]!=et.call(f[0])){a[0]=et.call(f[0]);switch(a[0]){case"A":a[1]=f[1],a[2]=f[2],a[3]=f[3],a[4]=f[4],a[5]=f[5],a[6]=+(f[6]+n),a[7]=+(f[7]+r);break;case"V":a[1]=+f[1]+r;break;case"H":a[1]=+f[1]+n;break;case"R":var p=[n,r][x](f.slice(1));for(var d=2,v=p.length;d<v;d++)p[d]=+p[d]+n,p[++d]=+p[d]+r;t.pop(),t=t[x](o(p));break;case"M":i=+f[1]+n,s=+f[2]+r;default:for(d=1,v=f.length;d<v;d++)a[d]=+f[d]+(d%2?n:r)}}else if(f[0]=="R")p=[n,r][x](f.slice(1)),t.pop(),t=t[x](o(p)),a=["R"][x](f.slice(-2));else for(var m=0,g=f.length;m<g;m++)a[m]=f[m];switch(a[0]){case"Z":n=i,r=s;break;case"H":n=a[1];break;case"V":r=a[1];break;case"M":i=a[a.length-2],s=a[a.length-1];default:n=a[a.length-2],r=a[a.length-1]}}return t.toString=l._path2string,t},null,Ot),Dt=function(e,t,n,r){return[e,t,n,r,n,r]},Pt=function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},Ht=function(e,t,n,r,i,s,o,u,f,l){var c=j*120/180,h=j/180*(+i||0),p=[],d,v=a(function(e,t,n){var r=e*_.cos(n)-t*_.sin(n),i=e*_.sin(n)+t*_.cos(n);return{x:r,y:i}});if(!l){d=v(e,t,-h),e=d.x,t=d.y,d=v(u,f,-h),u=d.x,f=d.y;var m=_.cos(j/180*i),g=_.sin(j/180*i),y=(e-u)/2,b=(t-f)/2,w=y*y/(n*n)+b*b/(r*r);w>1&&(w=_.sqrt(w),n=w*n,r=w*r);var E=n*n,S=r*r,T=(s==o?-1:1)*_.sqrt(H((E*S-E*b*b-S*y*y)/(E*b*b+S*y*y))),N=T*n*b/r+(e+u)/2,C=T*-r*y/n+(t+f)/2,k=_.asin(((t-C)/r).toFixed(9)),A=_.asin(((f-C)/r).toFixed(9));k=e<N?j-k:k,A=u<N?j-A:A,k<0&&(k=j*2+k),A<0&&(A=j*2+A),o&&k>A&&(k-=j*2),!o&&A>k&&(A-=j*2)}else k=l[0],A=l[1],N=l[2],C=l[3];var O=A-k;if(H(O)>c){var M=A,D=u,P=f;A=k+c*(o&&A>k?1:-1),u=N+n*_.cos(A),f=C+r*_.sin(A),p=Ht(u,f,n,r,i,0,o,D,P,[A,M,N,C])}O=A-k;var B=_.cos(k),F=_.sin(k),I=_.cos(A),q=_.sin(A),R=_.tan(O/4),U=4/3*n*R,z=4/3*r*R,W=[e,t],X=[e+U*F,t-z*B],V=[u+U*q,f-z*I],$=[u,f];X[0]=2*W[0]-X[0],X[1]=2*W[1]-X[1];if(l)return[X,V,$][x](p);p=[X,V,$][x](p).join()[L](",");var J=[];for(var K=0,Q=p.length;K<Q;K++)J[K]=K%2?v(p[K-1],p[K],h).y:v(p[K],p[K+1],h).x;return J},Bt=function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:B(f,3)*e+B(f,2)*3*a*n+f*3*a*a*i+B(a,3)*o,y:B(f,3)*t+B(f,2)*3*a*r+f*3*a*a*s+B(a,3)*u}},jt=a(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),l=e-n,c=(-f+_.sqrt(f*f-4*a*l))/2/a,h=(-f-_.sqrt(f*f-4*a*l))/2/a,p=[t,u],d=[e,o],v;return H(c)>"1e12"&&(c=.5),H(h)>"1e12"&&(h=.5),c>0&&c<1&&(v=Bt(e,t,n,r,i,s,o,u,c),d.push(v.x),p.push(v.y)),h>0&&h<1&&(v=Bt(e,t,n,r,i,s,o,u,h),d.push(v.x),p.push(v.y)),a=s-2*r+t-(u-2*s+r),f=2*(r-t)-2*(s-r),l=t-r,c=(-f+_.sqrt(f*f-4*a*l))/2/a,h=(-f-_.sqrt(f*f-4*a*l))/2/a,H(c)>"1e12"&&(c=.5),H(h)>"1e12"&&(h=.5),c>0&&c<1&&(v=Bt(e,t,n,r,i,s,o,u,c),d.push(v.x),p.push(v.y)),h>0&&h<1&&(v=Bt(e,t,n,r,i,s,o,u,h),d.push(v.x),p.push(v.y)),{min:{x:P[S](0,d),y:P[S](0,p)},max:{x:D[S](0,d),y:D[S](0,p)}}}),Ft=l._path2curve=a(function(e,t){var n=_t(e),r=t&&_t(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][x](Ht[S](0,[t.x,t.y][x](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r][x](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][x](Pt(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][x](Pt(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][x](Dt(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][x](Dt(t.x,t.y,e[1],t.y));break;case"V":e=["C"][x](Dt(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][x](Dt(t.x,t.y,t.X,t.Y))}return e},u=function(e,t){if(e[t].length>7){e[t].shift();var i=e[t];while(i.length)e.splice(t++,0,["C"][x](i.splice(0,6)));e.splice(t,1),l=D(n.length,r&&r.length||0)}},a=function(e,t,i,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],l=D(n.length,r&&r.length||0))};for(var f=0,l=D(n.length,r&&r.length||0);f<l;f++){n[f]=o(n[f],i),u(n,f),r&&(r[f]=o(r[f],s)),r&&u(r,f),a(n,r,i,s,f),a(r,n,s,i,f);var c=n[f],h=r&&r[f],p=c.length,d=r&&h.length;i.x=c[p-2],i.y=c[p-1],i.bx=Y(c[p-4])||i.x,i.by=Y(c[p-3])||i.y,s.bx=r&&(Y(h[d-4])||s.x),s.by=r&&(Y(h[d-3])||s.y),s.x=r&&h[d-2],s.y=r&&h[d-1]}return r?[n,r]:n},null,Ot),It=l._parseDots=a(function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i={},s=e[n].match(/^([^:]*):?([\d\.]*)/);i.color=l.getRGB(s[1]);if(i.color.error)return null;i.color=i.color.hex,s[2]&&(i.offset=s[2]+"%"),t.push(i)}for(n=1,r=t.length-1;n<r;n++)if(!t[n].offset){var o=Y(t[n-1].offset||0),u=0;for(var a=n+1;a<r;a++)if(t[a].offset){u=t[a].offset;break}u||(u=100,a=r),u=Y(u);var f=(u-o)/(a-n+1);for(;n<a;n++)o+=f,t[n].offset=o+"%"}return t}),qt=l._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},Rt=l._tofront=function(e,t){t.top!==e&&(qt(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},Ut=l._toback=function(e,t){t.bottom!==e&&(qt(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},zt=l._insertafter=function(e,t,n){qt(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},Wt=l._insertbefore=function(e,t,n){qt(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},Xt=l._extractTransform=function(e,t){if(t==null)return e._.transform;t=k(t).replace(/\.{3}|\u2026/g,e._.transform||N);var n=l.parseTransformString(t),r=0,i=0,o=0,u=1,a=1,f=e._,c=new s;f.transform=n||[];if(n)for(var h=0,p=n.length;h<p;h++){var d=n[h],v=d.length,m=k(d[0]).toLowerCase(),g=d[0]!=m,y=g?c.invert():0,b,w,E,S,x;m=="t"&&v==3?g?(b=y.x(0,0),w=y.y(0,0),E=y.x(d[1],d[2]),S=y.y(d[1],d[2]),c.translate(E-b,S-w)):c.translate(d[1],d[2]):m=="r"?v==2?(x=x||e.getBBox(1),c.rotate(d[1],x.x+x.width/2,x.y+x.height/2),r+=d[1]):v==4&&(g?(E=y.x(d[2],d[3]),S=y.y(d[2],d[3]),c.rotate(d[1],E,S)):c.rotate(d[1],d[2],d[3]),r+=d[1]):m=="s"?v==2||v==3?(x=x||e.getBBox(1),c.scale(d[1],d[v-1],x.x+x.width/2,x.y+x.height/2),u*=d[1],a*=d[v-1]):v==5&&(g?(E=y.x(d[3],d[4]),S=y.y(d[3],d[4]),c.scale(d[1],d[2],E,S)):c.scale(d[1],d[2],d[3],d[4]),u*=d[1],a*=d[2]):m=="m"&&v==7&&c.add(d[1],d[2],d[3],d[4],d[5],d[6]),f.dirtyT=1,e.matrix=c}e.matrix=c,f.sx=u,f.sy=a,f.deg=r,f.dx=i=c.e,f.dy=o=c.f,u==1&&a==1&&!r&&f.bbox?(f.bbox.x+=+i,f.bbox.y+=+o):f.dirtyT=1},Vt=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},$t=l._equaliseTransform=function(e,t){t=k(t).replace(/\.{3}|\u2026/g,e),e=l.parseTransformString(e)||[],t=l.parseTransformString(t)||[];var n=D(e.length,t.length),r=[],i=[],s=0,o,u,a,f;for(;s<n;s++){a=e[s]||Vt(t[s]),f=t[s]||Vt(a);if(a[0]!=f[0]||a[0].toLowerCase()=="r"&&(a[2]!=f[2]||a[3]!=f[3])||a[0].toLowerCase()=="s"&&(a[3]!=f[3]||a[4]!=f[4]))return;r[s]=[],i[s]=[];for(o=0,u=D(a.length,f.length);o<u;o++)o in a&&(r[s][o]=a[o]),o in f&&(i[s][o]=f[o])}return{from:r,to:i}};l._getContainer=function(e,t,n,r){var i;i=r==null&&!l.is(e,"object")?g.doc.getElementById(e):e;if(i!=null)return i.tagName?t==null?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:t,height:n}:{container:1,x:e,y:t,width:n,height:r}},l.pathToRelative=Mt,l._engine={},l.path2curve=Ft,l.matrix=function(e,t,n,r,i,o){return new s(e,t,n,r,i,o)},function(e){function t(e){var t=_.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}function n(e){return e[0]*e[0]+e[1]*e[1]}e.add=function(e,t,n,r,i,o){var u=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,i],[t,r,o],[0,0,1]],l,c,h,p;e&&e instanceof s&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]);for(l=0;l<3;l++)for(c=0;c<3;c++){p=0;for(h=0;h<3;h++)p+=a[l][h]*f[h][c];u[l][c]=p}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new s(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,r){t==null&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,t,n){e=l.rad(e),t=t||0,n=n||0;var r=+_.cos(e).toFixed(9),i=+_.sin(e).toFixed(9);this.add(r,i,-i,r,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[k.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return l.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=_.sqrt(n(r[0])),t(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=_.sqrt(n(r[1])),t(r[1]),e.shear/=e.scaley;var i=-r[0][1],s=r[1][1];return s<0?(e.rotate=l.deg(_.acos(s)),i<0&&(e.rotate=360-e.rotate)):e.rotate=l.deg(_.asin(i)),e.isSimple=!+e.shear.toFixed(9)&&(e.scalex.toFixed(9)==e.scaley.toFixed(9)||!e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[L]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx&&t.dy?"t"+[t.dx,t.dy]:N)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:N)+(t.rotate?"r"+[t.rotate,0,0]:N)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(s.prototype);var Jt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(Jt&&Jt[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&Jt&&Jt[1]<8?w.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:w.safari=pt;var Kt=function(){this.returnValue=!1},Qt=function(){return this.originalEvent.preventDefault()},Gt=function(){this.cancelBubble=!0},Yt=function(){return this.originalEvent.stopPropagation()},Zt=function(){if(g.doc.addEventListener)return function(e,t,n,r){var i=T&&O[t]?O[t]:t,s=function(i){var s=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,o=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,u=i.clientX+o,a=i.clientY+s;if(T&&O[m](t))for(var f=0,l=i.targetTouches&&i.targetTouches.length;f<l;f++)if(i.targetTouches[f].target==e){var c=i;i=i.targetTouches[f],i.originalEvent=c,i.preventDefault=Qt,i.stopPropagation=Yt;break}return n.call(r,i,u,a)};return e.addEventListener(i,s,!1),function(){return e.removeEventListener(i,s,!1),!0}};if(g.doc.attachEvent)return function(e,t,n,r){var i=function(e){e=e||g.win.event;var t=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,i=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,s=e.clientX+i,o=e.clientY+t;return e.preventDefault=e.preventDefault||Kt,e.stopPropagation=e.stopPropagation||Gt,n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}}(),en=[],tn=function(e){var t=e.clientX,n=e.clientY,r=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,i=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,s,o=en.length;while(o--){s=en[o];if(T){var u=e.touches.length,a;while(u--){a=e.touches[u];if(a.identifier==s.el._drag.id){t=a.clientX,n=a.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var f=s.el.node,l,c=f.nextSibling,h=f.parentNode,p=f.style.display;g.win.opera&&h.removeChild(f),f.style.display="none",l=s.el.paper.getElementByPoint(t,n),f.style.display=p,g.win.opera&&(c?h.insertBefore(f,c):h.appendChild(f)),l&&eve("drag.over."+s.el.id,s.el,l),t+=i,n+=r,eve("drag.move."+s.el.id,s.move_scope||s.el,t-s.el._drag.x,n-s.el._drag.y,t,n,e)}},nn=function(e){l.unmousemove(tn).unmouseup(nn);var t=en.length,n;while(t--)n=en[t],n.el._drag={},eve("drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);en=[]},rn=l.el={};for(var sn=A.length;sn--;)(function(e){l[e]=rn[e]=function(t,n){return l.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Zt(this.shape||this.node||g.doc,e,t,n||this)})),this},l["un"+e]=rn["un"+e]=function(t){var n=this.events,r=n.length;while(r--)if(n[r].name==e&&n[r].f==t)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(A[sn]);rn.data=function(e,t){var n=lt[this.id]=lt[this.id]||{};if(arguments.length==1){if(l.is(e,"object")){for(var r in e)e[m](r)&&this.data(r,e[r]);return this}return eve("data.get."+this.id,this,n[e],e),n[e]}return n[e]=t,eve("data.set."+this.id,this,t,e),this},rn.removeData=function(e){return e==null?lt[this.id]={}:lt[this.id]&&delete lt[this.id][e],this},rn.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},rn.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var on=[];rn.drag=function(e,t,n,r,i,s){function o(o){(o.originalEvent||o).preventDefault();var u=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,a=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;this._drag.x=o.clientX+a,this._drag.y=o.clientY+u,this._drag.id=o.identifier,!en.length&&l.mousemove(tn).mouseup(nn),en.push({el:this,move_scope:r,start_scope:i,end_scope:s}),t&&eve.on("drag.start."+this.id,t),e&&eve.on("drag.move."+this.id,e),n&&eve.on("drag.end."+this.id,n),eve("drag.start."+this.id,i||r||this,o.clientX+a,o.clientY+u,o)}return this._drag={},on.push({el:this,start:o}),this.mousedown(o),this},rn.onDragOver=function(e){e?eve.on("drag.over."+this.id,e):eve.unbind("drag.over."+this.id)},rn.undrag=function(){var e=on.length;while(e--)on[e].el==this&&(this.unmousedown(on[e].start),on.splice(e,1),eve.unbind("drag.*."+this.id));!on.length&&l.unmousemove(tn).unmouseup(nn)},w.circle=function(e,t,n){var r=l._engine.circle(this,e||0,t||0,n||0);return this.__set__&&this.__set__.push(r),r},w.rect=function(e,t,n,r,i){var s=l._engine.rect(this,e||0,t||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(s),s},w.ellipse=function(e,t,n,r){var i=l._engine.ellipse(this,e||0,t||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},w.path=function(e){e&&!l.is(e,I)&&!l.is(e[0],q)&&(e+=N);var t=l._engine.path(l.format[S](l,arguments),this);return this.__set__&&this.__set__.push(t),t},w.image=function(e,t,n,r,i){var s=l._engine.image(this,e||"about:blank",t||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(s),s},w.text=function(e,t,n){var r=l._engine.text(this,e||0,t||0,k(n));return this.__set__&&this.__set__.push(r),r},w.set=function(e){!l.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new bn(e);return this.__set__&&this.__set__.push(t),t},w.setStart=function(e){this.__set__=e||this.set()},w.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},w.setSize=function(e,t){return l._engine.setSize.call(this,e,t)},w.setViewBox=function(e,t,n,r,i){return l._engine.setViewBox.call(this,e,t,n,r,i)},w.top=w.bottom=null,w.raphael=l;var un=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,u=t.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-s,a=t.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:u,x:a}};w.getElementByPoint=function(e,t){var n=this,r=n.canvas,i=g.doc.elementFromPoint(e,t);if(g.win.opera&&i.tagName=="svg"){var s=un(r),o=r.createSVGRect();o.x=e-s.x,o.y=t-s.y,o.width=o.height=1;var u=r.getIntersectionList(o,null);u.length&&(i=u[u.length-1])}if(!i)return null;while(i.parentNode&&i!=r.parentNode&&!i.raphael)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null,i},w.getById=function(e){var t=this.bottom;while(t){if(t.id==e)return t;t=t.next}return null},w.forEach=function(e,t){var n=this.bottom;while(n){if(e.call(t,n)===!1)return this;n=n.next}return this},rn.getBBox=function(e){if(this.removed)return{};var t=this._;if(e){if(t.dirty||!t.bboxwt)this.realPath=gt[this.type](this),t.bboxwt=At(this.realPath),t.bboxwt.toString=r,t.dirty=0;return t.bboxwt}if(t.dirty||t.dirtyT||!t.bbox){if(t.dirty||!this.realPath)t.bboxwt=0,this.realPath=gt[this.type](this);t.bbox=At(yt(this.realPath,this.matrix)),t.bbox.toString=r,t.dirty=t.dirtyT=0}return t.bbox},rn.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},rn.glow=function(e){if(this.type=="text")return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,i=r.set(),s=this.realPath||gt[this.type](this);s=this.matrix?yt(s,this.matrix):s;for(var o=1;o<n+1;o++)i.push(r.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*o).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var an={},fn=function(e,t,n,r,i,s,o,u,a){var f=0,c=100,h=[e,t,n,r,i,s,o,u].join(),p=an[h],d,v;!p&&(an[h]=p={data:[]}),p.timer&&clearTimeout(p.timer),p.timer=setTimeout(function(){delete an[h]},2e3);if(a!=null&&!p.precision){var m=fn(e,t,n,r,i,s,o,u);p.precision=~~m*10,p.data=[]}c=p.precision||c;for(var g=0;g<c+1;g++){p.data[g*c]?v=p.data[g*c]:(v=l.findDotsAtSegment(e,t,n,r,i,s,o,u,g/c),p.data[g*c]=v),g&&(f+=B(B(d.x-v.x,2)+B(d.y-v.y,2),.5));if(a!=null&&f>=a)return v;d=v}if(a==null)return f},ln=function(e,t){return function(n,r,i){n=Ft(n);var s,o,u,a,f="",c={},h,p=0;for(var d=0,v=n.length;d<v;d++){u=n[d];if(u[0]=="M")s=+u[1],o=+u[2];else{a=fn(s,o,u[1],u[2],u[3],u[4],u[5],u[6]);if(p+a>r){if(t&&!c.start){h=fn(s,o,u[1],u[2],u[3],u[4],u[5],u[6],r-p),f+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(i)return f;c.start=f,f=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,u[5],u[6]].join(),p+=a,s=+u[5],o=+u[6];continue}if(!e&&!t)return h=fn(s,o,u[1],u[2],u[3],u[4],u[5],u[6],r-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=a,s=+u[5],o=+u[6]}f+=u.shift()+u}return c.end=f,h=e?p:t?c:l.findDotsAtSegment(s,o,u[0],u[1],u[2],u[3],u[4],u[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},cn=ln(1),hn=ln(),pn=ln(0,1);l.getTotalLength=cn,l.getPointAtLength=hn,l.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return pn(e,t).end;var r=pn(e,n,1);return t?pn(r,t).end:r},rn.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():cn(this.attrs.path)},rn.getPointAtLength=function(e){if(this.type=="path")return hn(this.attrs.path,e)},rn.getSubpath=function(e,t){if(this.type=="path")return l.getSubpath(this.attrs.path,e,t)};var dn=l.easing_formulas={linear:function(e){return e},"<":function(e){return B(e,1.7)},">":function(e){return B(e,.48)},"<>":function(e){var t=.48-e/1.04,n=_.sqrt(.1734+t*t),r=n-t,i=B(H(r),1/3)*(r<0?-1:1),s=-n-t,o=B(H(s),1/3)*(s<0?-1:1),u=i+o+.5;return(1-u)*3*u*u+u*u*u},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:B(2,-10*e)*_.sin((e-.075)*2*j/.3)+1},bounce:function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r}};dn.easeIn=dn["ease-in"]=dn["<"],dn.easeOut=dn["ease-out"]=dn[">"],dn.easeInOut=dn["ease-in-out"]=dn["<>"],dn["back-in"]=dn.backIn,dn["back-out"]=dn.backOut;var vn=[],mn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},gn=function(){var t=+(new Date),n=0;for(;n<vn.length;n++){var r=vn[n];if(r.el.removed||r.paused)continue;var i=t-r.start,s=r.ms,o=r.easing,u=r.from,a=r.diff,f=r.to,c=r.t,h=r.el,p={},d,v={},g;r.initstatus?(i=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*s,r.status=r.initstatus,delete r.initstatus,r.stop&&vn.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(i/s))/r.anim.top;if(i<0)continue;if(i<s){var y=o(i/s);for(var b in u)if(u[m](b)){switch(nt[b]){case F:d=+u[b]+y*s*a[b];break;case"colour":d="rgb("+[yn(Q(u[b].r+y*s*a[b].r)),yn(Q(u[b].g+y*s*a[b].g)),yn(Q(u[b].b+y*s*a[b].b))].join(",")+")";break;case"path":d=[];for(var w=0,E=u[b].length;w<E;w++){d[w]=[u[b][w][0]];for(var S=1,T=u[b][w].length;S<T;S++)d[w][S]=+u[b][w][S]+y*s*a[b][w][S];d[w]=d[w].join(C)}d=d.join(C);break;case"transform":if(a[b].real){d=[];for(w=0,E=u[b].length;w<E;w++){d[w]=[u[b][w][0]];for(S=1,T=u[b][w].length;S<T;S++)d[w][S]=u[b][w][S]+y*s*a[b][w][S]}}else{var N=function(e){return+u[b][e]+y*s*a[b][e]};d=[["m",N(0),N(1),N(2),N(3),N(4),N(5)]]}break;case"csv":if(b=="clip-rect"){d=[],w=4;while(w--)d[w]=+u[b][w]+y*s*a[b][w]}break;default:var k=[][x](u[b]);d=[],w=h.paper.customAttributes[b].length;while(w--)d[w]=+k[w]+y*s*a[b][w]}p[b]=d}h.attr(p),function(e,t,n){setTimeout(function(){eve("anim.frame."+e,t,n)})}(h.id,h,r.anim)}else{(function(e,t,n){setTimeout(function(){eve("anim.frame."+t.id,t,n),eve("anim.finish."+t.id,t,n),l.is(e,"function")&&e.call(t)})})(r.callback,h,r.anim),h.attr(f),vn.splice(n--,1);if(r.repeat>1&&!r.next){for(g in f)f[m](g)&&(v[g]=r.totalOrigin[g]);r.el.attr(v),e(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&e(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}l.svg&&h&&h.paper&&h.paper.safari(),vn.length&&mn(gn)},yn=function(e){return e>255?255:e<0?0:e};rn.animateWith=function(e,t,n,r,i,s){var o=n?l.animation(n,r,i,s):t,u=e.status(t);return this.animate(o).status(o,u*t.ms/o.ms)},rn.onAnimation=function(e){return e?eve.on("anim.frame."+this.id,e):eve.unbind("anim.frame."+this.id),this},t.prototype.delay=function(e){var n=new t(this.anim,this.ms);return n.times=this.times,n.del=+e||0,n},t.prototype.repeat=function(e){var n=new t(this.anim,this.ms);return n.del=this.del,n.times=_.floor(D(e,0))||1,n},l.animation=function(e,n,r,i){if(e instanceof t)return e;if(l.is(r,"function")||!r)i=i||r||null,r=null;e=Object(e),n=+n||0;var s={},o,u;for(u in e)e[m](u)&&Y(u)!=u&&Y(u)+"%"!=u&&(o=!0,s[u]=e[u]);return o?(r&&(s.easing=r),i&&(s.callback=i),new t({100:s},n)):new t(e,n)},rn.animate=function(n,r,i,s){var o=this;if(o.removed)return s&&s.call(o),o;var u=n instanceof t?n:l.animation(n,r,i,s);return e(u,o,u.percents[0],null,o.attr()),o},rn.setTime=function(e,t){return e&&t!=null&&this.status(e,P(t,e.ms)/e.ms),this},rn.status=function(t,n){var r=[],i=0,s,o;if(n!=null)return e(t,this,-1,P(n,1)),this;s=vn.length;for(;i<s;i++){o=vn[i];if(o.el.id==this.id&&(!t||o.anim==t)){if(t)return o.status;r.push({anim:o.anim,status:o.status})}}return t?0:r},rn.pause=function(e){for(var t=0;t<vn.length;t++)vn[t].el.id==this.id&&(!e||vn[t].anim==e)&&eve("anim.pause."+this.id,this,vn[t].anim)!==!1&&(vn[t].paused=!0);return this},rn.resume=function(e){for(var t=0;t<vn.length;t++)if(vn[t].el.id==this.id&&(!e||vn[t].anim==e)){var n=vn[t];eve("anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},rn.stop=function(e){for(var t=0;t<vn.length;t++)vn[t].el.id==this.id&&(!e||vn[t].anim==e)&&eve("anim.stop."+this.id,this,vn[t].anim)!==!1&&vn.splice(t--,1);return this},rn.toString=function(){return"Raphaël’s object"};var bn=function(e){this.items=[],this.length=0,this.type="set";if(e)for(var t=0,n=e.length;t<n;t++)e[t]&&(e[t].constructor==rn.constructor||e[t].constructor==bn)&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},wn=bn.prototype;wn.push=function(){var e,t;for(var n=0,r=arguments.length;n<r;n++)e=arguments[n],e&&(e.constructor==rn.constructor||e.constructor==bn)&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},wn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},wn.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(e.call(t,this.items[n],n)===!1)return this;return this};for(var En in rn)rn[m](En)&&(wn[En]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][S](n,t)})}}(En));wn.attr=function(e,t){if(e&&l.is(e,q)&&l.is(e[0],"object"))for(var n=0,r=e.length;n<r;n++)this.items[n].attr(e[n]);else for(var i=0,s=this.items.length;i<s;i++)this.items[i].attr(e,t);return this},wn.clear=function(){while(this.length)this.pop()},wn.splice=function(e,t,n){e=e<0?D(this.length+e,0):e,t=D(0,P(this.length-e,t));var r=[],i=[],s=[],o;for(o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t;o++)i.push(this[e+o]);for(;o<this.length-e;o++)r.push(this[e+o]);var u=s.length;for(o=0;o<u+r.length;o++)this.items[e+o]=this[e+o]=o<u?s[o]:r[o-u];o=this.items.length=this.length-=t-u;while(this[o])delete this[o++];return new bn(i)},wn.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},wn.animate=function(e,t,n,r){(l.is(n,"function")||!n)&&(r=n||null);var i=this.items.length,s=i,o,u=this,a;if(!i)return this;r&&(a=function(){!--i&&r.call(u)}),n=l.is(n,I)?n:a;var f=l.animation(e,t,n,a);o=this.items[--s].animate(f);while(s--)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(o,f);return this},wn.insertAfter=function(e){var t=this.items.length;while(t--)this.items[t].insertAfter(e);return this},wn.getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x),t.push(s.y),n.push(s.x+s.width),r.push(s.y+s.height)}return e=P[S](0,e),t=P[S](0,t),{x:e,y:t,width:D[S](0,n)-e,height:D[S](0,r)-t}},wn.clone=function(e){e=new bn;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},wn.toString=function(){return"Raphaël‘s set"},l.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[m](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=Z(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[m](i)){var s=e.glyphs[i];t.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(s.k)for(var o in s.k)s[m](o)&&(t.glyphs[i].k[o]=s.k[o])}}return e},w.getFont=function(e,t,n,r){r=r||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400;if(!!l.fonts){var i=l.fonts[e];if(!i){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,N)+"(\\s|$)","i");for(var o in l.fonts)if(l.fonts[m](o)&&s.test(o)){i=l.fonts[o];break}}var u;if(i)for(var a=0,f=i.length;a<f;a++){u=i[a];if(u.face["font-weight"]==t&&(u.face["font-style"]==n||!u.face["font-style"])&&u.face["font-stretch"]==r)break}return u}},w.print=function(e,t,n,r,i,s,o){s=s||"middle",o=D(P(o||0,1),-1);var u=this.set(),a=k(n)[L](N),f=0,c=N,p;l.is(r,n)&&(r=this.getFont(r));if(r){p=(i||16)/r.face["units-per-em"];var d=r.face.bbox[L](h),v=+d[0],m=+d[1]+(s=="baseline"?d[3]-d[1]+ +r.face.descent:(d[3]-d[1])/2);for(var g=0,y=a.length;g<y;g++){var b=g&&r.glyphs[a[g-1]]||{},w=r.glyphs[a[g]];f+=g?(b.w||r.w)+(b.k&&b.k[a[g]]||0)+r.w*o:0,w&&w.d&&u.push(this.path(w.d).attr({fill:"#000",stroke:"none",transform:[["t",f*p,0]]}))}u.transform(["...s",p,p,v,m,"t",(e-v)/p,(t-m)/p])}return u},w.add=function(e){if(l.is(e,"array")){var t=this.set(),n=0,r=e.length,i;for(;n<r;n++)i=e[n]||{},p[m](i.type)&&t.push(this[i.type]().attr(i))}return t},l.format=function(e,t){var n=l.is(t,q)?[0][x](t):arguments;return e&&l.is(e,I)&&n.length-1&&(e=e.replace(d,function(e,t){return n[++t]==null?N:n[t]})),e||N},l.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,s){t=t||r,i&&(t in i&&(i=i[t]),typeof i=="function"&&s&&(i=i()))}),i=(i==null||i==r?e:i)+"",i};return function(t,r){return String(t).replace(e,function(e,t){return n(e,t,r)})}}(),l.ninja=function(){return y.was?g.win.Raphael=y.is:delete Raphael,l},l.st=wn,function(e,t,n){function r(){/in/.test(e.readyState)?setTimeout(r,9):l.eve("DOMload")}e.readyState==null&&e.addEventListener&&(e.addEventListener(t,n=function(){e.removeEventListener(t,n,!1),e.readyState="complete"},!1),e.readyState="loading"),r()}(document,"DOMContentLoaded"),y.was?g.win.Raphael=l:Raphael=l,eve.on("DOMload",function(){c=!0})}(),window.Raphael.svg&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=parseInt,s=Math,o=s.max,u=s.abs,a=s.pow,f=/[, ]+/,l=e.eve,c="",h=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},v={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(r,i){if(i){typeof r=="string"&&(r=m(r));for(var s in i)i[t](s)&&(s.substring(0,6)=="xlink:"?r.setAttributeNS(p,s.substring(6),n(i[s])):r.setAttribute(s,n(i[s])))}else r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},g=function(t,i){var f="linear",l=t.id+i,h=.5,p=.5,d=t.node,v=t.paper,g=d.style,y=e._g.doc.getElementById(l);if(!y){i=n(i).replace(e._radial_gradient,function(e,t,n){f="radial";if(t&&n){h=r(t),p=r(n);var i=(p>.5)*2-1;a(h-.5,2)+a(p-.5,2)>.25&&(p=s.sqrt(.25-a(h-.5,2))*i+.5)&&p!=.5&&(p=p.toFixed(5)-1e-5*i)}return c}),i=i.split(/\s*\-\s*/);if(f=="linear"){var b=i.shift();b=-r(b);if(isNaN(b))return null;var w=[0,0,s.cos(e.rad(b)),s.sin(e.rad(b))],E=1/(o(u(w[2]),u(w[3]))||1);w[2]*=E,w[3]*=E,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var S=e._parseDots(i);if(!S)return null;l=l.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&l!=t.gradient.id&&(v.defs.removeChild(t.gradient),delete t.gradient);if(!t.gradient){y=m(f+"Gradient",{id:l}),t.gradient=y,m(y,f=="radial"?{fx:h,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),v.defs.appendChild(y);for(var x=0,T=S.length;x<T;x++)y.appendChild(m("stop",{offset:S[x].offset?S[x].offset:x?"100%":"0%","stop-color":S[x].color||"#fff"}))}}return m(d,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),g.fill=c,g.opacity=1,g.fillOpacity=1,1},y=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(r,i,s){if(r.type=="path"){var o=n(i).toLowerCase().split("-"),u=r.paper,a=s?"end":"start",f=r.node,l=r.attrs,c=l["stroke-width"],p=o.length,g="classic",y,b,w,E,S,x=3,T=3,N=5;while(p--)switch(o[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=o[p];break;case"wide":T=5;break;case"narrow":T=2;break;case"long":x=5;break;case"short":x=2}g=="open"?(x+=2,T+=2,N+=2,w=1,E=s?4:1,S={fill:"none",stroke:l.stroke}):(E=w=x/2,S={fill:l.stroke,stroke:"none"}),r._.arrows?s?(r._.arrows.endPath&&v[r._.arrows.endPath]--,r._.arrows.endMarker&&v[r._.arrows.endMarker]--):(r._.arrows.startPath&&v[r._.arrows.startPath]--,r._.arrows.startMarker&&v[r._.arrows.startMarker]--):r._.arrows={};if(g!="none"){var C="raphael-marker-"+g,k="raphael-marker-"+a+g+x+T;e._g.doc.getElementById(C)?v[C]++:(u.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:d[g],id:C})),v[C]=1);var L=e._g.doc.getElementById(k),A;L?(v[k]++,A=L.getElementsByTagName("use")[0]):(L=m(m("marker"),{id:k,markerHeight:T,markerWidth:x,orient:"auto",refX:E,refY:T/2}),A=m(m("use"),{"xlink:href":"#"+C,transform:(s?" rotate(180 "+x/2+" "+T/2+") ":h)+"scale("+x/N+","+T/N+")","stroke-width":1/((x/N+T/N)/2)}),L.appendChild(A),u.defs.appendChild(L),v[k]=1),m(A,S);var O=w*(g!="diamond"&&g!="oval");s?(y=r._.arrows.startdx*c||0,b=e.getTotalLength(l.path)-O*c):(y=O*c,b=e.getTotalLength(l.path)-(r._.arrows.enddx*c||0)),S={},S["marker-"+a]="url(#"+k+")";if(b||y)S.d=Raphael.getSubpath(l.path,y,b);m(f,S),r._.arrows[a+"Path"]=C,r._.arrows[a+"Marker"]=k,r._.arrows[a+"dx"]=O,r._.arrows[a+"Type"]=g,r._.arrows[a+"String"]=i}else s?(y=r._.arrows.startdx*c||0,b=e.getTotalLength(l.path)-y):(y=0,b=e.getTotalLength(l.path)-(r._.arrows.enddx*c||0)),r._.arrows[a+"Path"]&&m(f,{d:Raphael.getSubpath(l.path,y,b)}),delete r._.arrows[a+"Path"],delete r._.arrows[a+"Marker"],delete r._.arrows[a+"dx"],delete r._.arrows[a+"Type"],delete r._.arrows[a+"String"];for(S in v)if(v[t](S)&&!v[S]){var M=e._g.doc.getElementById(S);M&&M.parentNode.removeChild(M)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},E=function(e,t,r){t=w[n(t).toLowerCase()];if(t){var i=e.attrs["stroke-width"]||"1",s={round:i,square:i,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],u=t.length;while(u--)o[u]=t[u]*i+(u%2?1:-1)*s;m(e.node,{"stroke-dasharray":o.join(",")})}},S=function(r,s){var a=r.node,l=r.attrs,h=a.style.visibility;a.style.visibility="hidden";for(var d in s)if(s[t](d)){if(!e._availableAttrs[t](d))continue;var v=s[d];l[d]=v;switch(d){case"blur":r.blur(v);break;case"href":case"title":case"target":var w=a.parentNode;if(w.tagName.toLowerCase()!="a"){var S=m("a");w.insertBefore(S,a),S.appendChild(a),w=S}d=="target"&&v=="blank"?w.setAttributeNS(p,"show","new"):w.setAttributeNS(p,d,v);break;case"cursor":a.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":b(r,v);break;case"arrow-end":b(r,v,1);break;case"clip-rect":var x=n(v).split(f);if(x.length==4){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var N=m("clipPath"),C=m("rect");N.id=e.createUUID(),m(C,{x:x[0],y:x[1],width:x[2],height:x[3]}),N.appendChild(C),r.paper.defs.appendChild(N),m(a,{"clip-path":"url(#"+N.id+")"}),r.clip=C}if(!v){var k=a.getAttribute("clip-path");if(k){var L=e._g.doc.getElementById(k.replace(/(^url\(#|\)$)/g,c));L&&L.parentNode.removeChild(L),m(a,{"clip-path":c}),delete r.clip}}break;case"path":r.type=="path"&&(m(a,{d:v?l.path=e._pathToAbsolute(v):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1)));break;case"width":a.setAttribute(d,v),r._.dirty=1;if(!l.fx)break;d="x",v=l.x;case"x":l.fx&&(v=-l.x-(l.width||0));case"rx":if(d=="rx"&&r.type=="rect")break;case"cx":a.setAttribute(d,v),r.pattern&&y(r),r._.dirty=1;break;case"height":a.setAttribute(d,v),r._.dirty=1;if(!l.fy)break;d="y",v=l.y;case"y":l.fy&&(v=-l.y-(l.height||0));case"ry":if(d=="ry"&&r.type=="rect")break;case"cy":a.setAttribute(d,v),r.pattern&&y(r),r._.dirty=1;break;case"r":r.type=="rect"?m(a,{rx:v,ry:v}):a.setAttribute(d,v),r._.dirty=1;break;case"src":r.type=="image"&&a.setAttributeNS(p,"href",v);break;case"stroke-width":if(r._.sx!=1||r._.sy!=1)v/=o(u(r._.sx),u(r._.sy))||1;r.paper._vbSize&&(v*=r.paper._vbSize),a.setAttribute(d,v),l["stroke-dasharray"]&&E(r,l["stroke-dasharray"],s),r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"stroke-dasharray":E(r,v,s);break;case"fill":var A=n(v).match(e._ISURL);if(A){N=m("pattern");var O=m("image");N.id=e.createUUID(),m(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(O,{x:0,y:0,"xlink:href":A[1]}),N.appendChild(O),function(t){e._preload(A[1],function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(O,{width:e,height:n}),r.paper.safari()})}(N),r.paper.defs.appendChild(N),a.style.fill="url(#"+N.id+")",m(a,{fill:"url(#"+N.id+")"}),r.pattern=N,r.pattern&&y(r);break}var M=e.getRGB(v);if(!M.error)delete s.gradient,delete l.gradient,!e.is(l.opacity,"undefined")&&e.is(s.opacity,"undefined")&&m(a,{opacity:l.opacity}),!e.is(l["fill-opacity"],"undefined")&&e.is(s["fill-opacity"],"undefined")&&m(a,{"fill-opacity":l["fill-opacity"]});else if((r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v)){if("opacity"in l||"fill-opacity"in l){var _=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(_){var D=_.getElementsByTagName("stop");m(D[D.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}}l.gradient=v,l.fill="none";break}M[t]("opacity")&&m(a,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=e.getRGB(v),a.setAttribute(d,M.hex),d=="stroke"&&M[t]("opacity")&&m(a,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),d=="stroke"&&r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v);break;case"opacity":l.gradient&&!l[t]("stroke-opacity")&&m(a,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(l.gradient){_=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c)),_&&(D=_.getElementsByTagName("stop"),m(D[D.length-1],{"stop-opacity":v}));break};default:d=="font-size"&&(v=i(v,10)+"px");var P=d.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});a.style[P]=v,r._.dirty=1,a.setAttribute(d,v)}}T(r,s),a.style.visibility=h},x=1.2,T=function(r,s){if(r.type=="text"&&!!(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y"))){var o=r.attrs,u=r.node,a=u.firstChild?i(e._g.doc.defaultView.getComputedStyle(u.firstChild,c).getPropertyValue("font-size"),10):10;if(s[t]("text")){o.text=s.text;while(u.firstChild)u.removeChild(u.firstChild);var f=n(s.text).split("\n"),l=[],h;for(var p=0,d=f.length;p<d;p++)h=m("tspan"),p&&m(h,{dy:a*x,x:o.x}),h.appendChild(e._g.doc.createTextNode(f[p])),u.appendChild(h),l[p]=h}else{l=u.getElementsByTagName("tspan");for(p=0,d=l.length;p<d;p++)p?m(l[p],{dy:a*x,x:o.x}):m(l[0],{dy:0})}m(u,{x:o.x,y:o.y}),r._.dirty=1;var v=r._getBBox(),g=o.y-(v.y+v.height/2);g&&e.is(g,"finite")&&m(l[0],{dy:g})}},N=function(t,n){var r=0,i=0;this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},C=e.el;N.prototype=C,C.constructor=N,e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new N(n,t);return r.type="path",S(r,{fill:"none",stroke:"#000",path:e}),r},C.rotate=function(e,t,i){if(this.removed)return this;e=n(e).split(f),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this.transform(this._.transform.concat([["r",e,t,i]])),this},C.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(f),e.length-1&&(t=r(e[1]),i=r(e[2]),s=r(e[3])),e=r(e[0]),t==null&&(t=e),s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);return i=i==null?o.x+o.width/2:i,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,t,i,s]])),this},C.translate=function(e,t){return this.removed?this:(e=n(e).split(f),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},C.transform=function(n){var r=this._;if(n==null)return r.transform;e._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix});if(r.sx!=1||r.sy!=1){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},C.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},C.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},C.remove=function(){if(!this.removed){var t=this.paper;t.__set__&&t.__set__.exclude(this),l.unbind("*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),e._tear(this,t),this.node.parentNode.removeChild(this.node);for(var n in this)this[n]=typeof this[n]=="function"?e._removedFactory(n):null;this.removed=!0}},C._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}return e&&this.hide(),t},C.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(r==null&&e.is(n,"string")){if(n=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(n=="transform")return this._.transform;var o=n.split(f),u={};for(var a=0,c=o.length;a<c;a++)n=o[a],n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n];return c-1?u:u[o[0]]}if(r==null&&e.is(n,"array")){u={};for(a=0,c=n.length;a<c;a++)u[n[a]]=this.attr(n[a]);return u}if(r!=null){var h={};h[n]=r}else n!=null&&e.is(n,"object")&&(h=n);for(var p in h)l("attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var v in d)d[t](v)&&(h[v]=d[v])}return S(this,h),this},C.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&e._tofront(this,t),this},C.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper);var n=this.paper;return this},C.insertAfter=function(t){if(this.removed)return this;var n=t.node||t[t.length-1].node;return n.nextSibling?n.parentNode.insertBefore(this.node,n.nextSibling):n.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this},C.insertBefore=function(t){if(this.removed)return this;var n=t.node||t[0].node;return n.parentNode.insertBefore(this.node,n),e._insertbefore(this,t,this.paper),this},C.blur=function(t){var n=this;if(+t!==0){var r=m("filter"),i=m("feGaussianBlur");n.attrs.blur=t,r.id=e.createUUID(),m(i,{stdDeviation:+t||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,m(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")},e._engine.circle=function(e,t,n,r){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var s=new N(i,e);return s.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},s.type="circle",m(i,s.attrs),s},e._engine.rect=function(e,t,n,r,i,s){var o=m("rect");e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);return u.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},u.type="rect",m(o,u.attrs),u},e._engine.ellipse=function(e,t,n,r,i){var s=m("ellipse");e.canvas&&e.canvas.appendChild(s);var o=new N(s,e);return o.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},o.type="ellipse",m(s,o.attrs),o},e._engine.image=function(e,t,n,r,i,s){var o=m("image");m(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);return u.attrs={x:n,y:r,width:i,height:s,src:t},u.type="image",u},e._engine.text=function(t,n,r,i){var s=m("text");t.canvas&&t.canvas.appendChild(s);var o=new N(s,t);return o.attrs={x:n,y:r,"text-anchor":"middle",text:i,font:e._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",S(o,o.attrs),o},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,r=t.x,i=t.y,s=t.width,o=t.height;if(!n)throw new Error("SVG container not found.");var u=m("svg"),a="overflow:hidden;",f;return r=r||0,i=i||0,s=s||512,o=o||342,m(u,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),n==1?(u.style.cssText=a+"position:absolute;left:"+r+"px;top:"+i+"px",e._g.doc.body.appendChild(u),f=1):(u.style.cssText=a+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),n=new e._Paper,n.width=s,n.height=o,n.canvas=u,n.clear(),n._left=n._top=0,f&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,r,i){l("setViewBox",this,this._viewBox,[e,t,n,r,i]);var s=o(n/this.width,r/this.height),u=this.top,a=i?"meet":"xMinYMin",f,c;e==null?(this._vbSize&&(s=1),delete this._vbSize,f="0 0 "+this.width+h+this.height):(this._vbSize=s,f=e+h+t+h+n+h+r),m(this.canvas,{viewBox:f,preserveAspectRatio:a});while(s&&u)c="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":c}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[e,t,n,r,!!i],this},e.prototype.renderfix=function(){var e=this.canvas,t=e.style,n;try{n=e.getScreenCTM()||e.createSVGMatrix()}catch(r){n=e.createSVGMatrix()}var i=-n.e%1,s=-n.f%1;if(i||s)i&&(this._left=(this._left+i)%1,t.left=this._left+"px"),s&&(this._top=(this._top+s)%1,t.top=this._top+"px")},e.prototype.clear=function(){e.eve("clear",this);var t=this.canvas;while(t.firstChild)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){l("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null};var k=e.st;for(var L in C)C[t](L)&&!k[t](L)&&(k[L]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(L))}(window.Raphael),window.Raphael.vml&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=Math,s=i.round,o=i.max,u=i.min,a=i.abs,f="fill",l=/[, ]+/,c=e.eve,h=" progid:DXImageTransform.Microsoft",p=" ",d="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,E={path:1,rect:1,image:1},S={circle:1,ellipse:1},x=function(t){var r=/[ahqstv]/ig,i=e._pathToAbsolute;n(t).match(r)&&(i=e._path2curve),r=/[clmz]/g;if(i==e._pathToAbsolute&&!n(t).match(r)){var o=n(t).replace(m,function(e,t,n){var r=[],i=t.toLowerCase()=="m",o=v[t];return n.replace(y,function(e){i&&r.length==2&&(o+=r+v[t=="m"?"l":"L"],r=[]),r.push(s(e*w))}),o+r});return o}var u=i(t),a,f;o=[];for(var l=0,c=u.length;l<c;l++){a=u[l],f=u[l][0].toLowerCase(),f=="z"&&(f="x");for(var h=1,g=a.length;h<g;h++)f+=s(a[h]*w)+(h!=g-1?",":d);o.push(f)}return o.join(p)},T=function(t,n,r){var i=e.matrix();return i.rotate(-t,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},N=function(e,t,n,r,i,s){var o=e._,u=e.matrix,l=o.fillpos,c=e.node,h=c.style,d=1,v="",m,g=w/t,y=w/n;h.visibility="hidden";if(!!t&&!!n){c.coordsize=a(g)+p+a(y),h.rotation=s*(t*n<0?-1:1);if(s){var b=T(s,r,i);r=b.dx,i=b.dy}t<0&&(v+="x"),n<0&&(v+=" y")&&(d=-1),h.flip=v,c.coordorigin=r*-g+p+i*-y;if(l||o.fillsize){var E=c.getElementsByTagName(f);E=E&&E[0],c.removeChild(E),l&&(b=T(s,u.x(l[0],l[1]),u.y(l[0],l[1])),E.position=b.dx*d+p+b.dy*d),o.fillsize&&(E.size=o.fillsize[0]*a(t)+p+o.fillsize[1]*a(n)),c.appendChild(E)}h.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var C=function(e,t,r){var i=n(t).toLowerCase().split("-"),s=r?"end":"start",o=i.length,u="classic",a="medium",f="medium";while(o--)switch(i[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":u=i[o];break;case"wide":case"narrow":f=i[o];break;case"long":case"short":a=i[o]}var l=e.node.getElementsByTagName("stroke")[0];l[s+"arrow"]=u,l[s+"arrowlength"]=a,l[s+"arrowwidth"]=f},k=function(i,a){i.attrs=i.attrs||{};var c=i.node,h=i.attrs,v=c.style,m,g=E[i.type]&&(a.x!=h.x||a.y!=h.y||a.width!=h.width||a.height!=h.height||a.cx!=h.cx||a.cy!=h.cy||a.rx!=h.rx||a.ry!=h.ry||a.r!=h.r),y=S[i.type]&&(h.cx!=a.cx||h.cy!=a.cy||h.r!=a.r||h.rx!=a.rx||h.ry!=a.ry),b=i;for(var T in a)a[t](T)&&(h[T]=a[T]);g&&(h.path=e._getPath[i.type](i),i._.dirty=1),a.href&&(c.href=a.href),a.title&&(c.title=a.title),a.target&&(c.target=a.target),a.cursor&&(v.cursor=a.cursor),"blur"in a&&i.blur(a.blur);if(a.path&&i.type=="path"||g)c.path=x(~n(h.path).toLowerCase().indexOf("r")?e._pathToAbsolute(h.path):h.path),i.type=="image"&&(i._.fillpos=[h.x,h.y],i._.fillsize=[h.width,h.height],N(i,1,1,0,0,0));"transform"in a&&i.transform(a.transform);if(y){var k=+h.cx,A=+h.cy,O=+h.rx||+h.r||0,_=+h.ry||+h.r||0;c.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-O)*w),s((A-_)*w),s((k+O)*w),s((A+_)*w),s(k*w))}if("clip-rect"in a){var D=n(a["clip-rect"]).split(l);if(D.length==4){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var P=c.clipRect||e._g.doc.createElement("div"),H=P.style;H.clip=e.format("rect({1}px {2}px {3}px {0}px)",D),c.clipRect||(H.position="absolute",H.top=0,H.left=0,H.width=i.paper.width+"px",H.height=i.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}a["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(i.textpath){var B=i.textpath.style;a.font&&(B.font=a.font),a["font-family"]&&(B.fontFamily='"'+a["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),a["font-size"]&&(B.fontSize=a["font-size"]),a["font-weight"]&&(B.fontWeight=a["font-weight"]),a["font-style"]&&(B.fontStyle=a["font-style"])}"arrow-start"in a&&C(b,a["arrow-start"]),"arrow-end"in a&&C(b,a["arrow-end"],1);if(a.opacity!=null||a["stroke-width"]!=null||a.fill!=null||a.src!=null||a.stroke!=null||a["stroke-width"]!=null||a["stroke-opacity"]!=null||a["fill-opacity"]!=null||a["stroke-dasharray"]!=null||a["stroke-miterlimit"]!=null||a["stroke-linejoin"]!=null||a["stroke-linecap"]!=null){var I=c.getElementsByTagName(f),q=!1;I=I&&I[0],!I&&(q=I=M(f)),i.type=="image"&&a.src&&(I.src=a.src),a.fill&&(I.on=!0);if(I.on==null||a.fill=="none"||a.fill===null)I.on=!1;if(I.on&&a.fill){var R=n(a.fill).match(e._ISURL);if(R){I.parentNode==c&&c.removeChild(I),I.rotate=!0,I.src=R[1],I.type="tile";var U=i.getBBox(1);I.position=U.x+p+U.y,i._.fillpos=[U.x,U.y],e._preload(R[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else I.color=e.getRGB(a.fill).hex,I.src=d,I.type="solid",e.getRGB(a.fill).error&&(b.type in{circle:1,ellipse:1}||n(a.fill).charAt()!="r")&&L(b,a.fill,I)&&(h.fill="none",h.gradient=a.fill,I.rotate=!1)}if("fill-opacity"in a||"opacity"in a){var W=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+e.getRGB(a.fill).o+1||2)-1);W=u(o(W,0),1),I.opacity=W,I.src&&(I.color="none")}c.appendChild(I);var X=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],V=!1;!X&&(V=X=M("stroke"));if(a.stroke&&a.stroke!="none"||a["stroke-width"]||a["stroke-opacity"]!=null||a["stroke-dasharray"]||a["stroke-miterlimit"]||a["stroke-linejoin"]||a["stroke-linecap"])X.on=!0;(a.stroke=="none"||a.stroke===null||X.on==null||a.stroke==0||a["stroke-width"]==0)&&(X.on=!1);var $=e.getRGB(a.stroke);X.on&&a.stroke&&(X.color=$.hex),W=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+$.o+1||2)-1);var J=(r(a["stroke-width"])||1)*.75;W=u(o(W,0),1),a["stroke-width"]==null&&(J=h["stroke-width"]),a["stroke-width"]&&(X.weight=J),J&&J<1&&(W*=J)&&(X.weight=1),X.opacity=W,a["stroke-linejoin"]&&(X.joinstyle=a["stroke-linejoin"]||"miter"),X.miterlimit=a["stroke-miterlimit"]||8,a["stroke-linecap"]&&(X.endcap=a["stroke-linecap"]=="butt"?"flat":a["stroke-linecap"]=="square"?"square":"round");if(a["stroke-dasharray"]){var K={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};X.dashstyle=K[t](a["stroke-dasharray"])?K[a["stroke-dasharray"]]:d}V&&c.appendChild(X)}if(b.type=="text"){b.paper.canvas.style.display=d;var Q=b.paper.span,G=100,Y=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);v=Q.style,h.font&&(v.font=h.font),h["font-family"]&&(v.fontFamily=h["font-family"]),h["font-weight"]&&(v.fontWeight=h["font-weight"]),h["font-style"]&&(v.fontStyle=h["font-style"]),Y=r(h["font-size"]||Y&&Y[0])||10,v.fontSize=Y*G+"px",b.textpath.string&&(Q.innerHTML=n(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Z=Q.getBoundingClientRect();b.W=h.w=(Z.right-Z.left)/G,b.H=h.h=(Z.bottom-Z.top)/G,b.X=h.x,b.Y=h.y+b.H/2,("x"in a||"y"in a)&&(b.path.v=e.format("m{0},{1}l{2},{1}",s(h.x*w),s(h.y*w),s(h.x*w)+1));var et=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var tt=0,nt=et.length;tt<nt;tt++)if(et[tt]in a){b._.dirty=1;break}switch(h["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},L=function(t,s,o){t.attrs=t.attrs||{};var u=t.attrs,a=Math.pow,f,l,c="linear",h=".5 .5";t.attrs.gradient=s,s=n(s).replace(e._radial_gradient,function(e,t,n){return c="radial",t&&n&&(t=r(t),n=r(n),a(t-.5,2)+a(n-.5,2)>.25&&(n=i.sqrt(.25-a(t-.5,2))*((n>.5)*2-1)+.5),h=t+p+n),d}),s=s.split(/\s*\-\s*/);if(c=="linear"){var v=s.shift();v=-r(v);if(isNaN(v))return null}var m=e._parseDots(s);if(!m)return null;t=t.shape||t.node;if(m.length){t.removeChild(o),o.on=!0,o.method="none",o.color=m[0].color,o.color2=m[m.length-1].color;var g=[];for(var y=0,b=m.length;y<b;y++)m[y].offset&&g.push(m[y].offset+p+m[y].color);o.colors=g.length?g.join():"0% "+o.color,c=="radial"?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=h,o.angle=0):(o.type="gradient",o.angle=(270-v)%360),t.appendChild(o)}return 1},A=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},O=e.el;A.prototype=O,O.constructor=A,O.transform=function(t){if(t==null)return this._.transform;var r=this.paper._viewBoxShift,i=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d,s;r&&(s=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||d)),e._extractTransform(this,i+t);var o=this.matrix.clone(),u=this.skew,a=this.node,f,l=~n(this.attrs.fill).indexOf("-"),c=!n(this.attrs.fill).indexOf("url(");o.translate(-0.5,-0.5);if(c||l||this.type=="image"){u.matrix="1 0 0 1",u.offset="0 0",f=o.split();if(l&&f.noRotation||!f.isSimple){a.style.filter=o.toFilter();var h=this.getBBox(),v=this.getBBox(1),m=h.x-v.x,g=h.y-v.y;a.coordorigin=m*-w+p+g*-w,N(this,1,1,m,g,0)}else a.style.filter=d,N(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate)}else a.style.filter=d,u.matrix=n(o),u.offset=o.offset();return s&&(this._.transform=s),this},O.rotate=function(e,t,i){if(this.removed)return this;if(e!=null){e=n(e).split(l),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,i]])),this}},O.translate=function(e,t){return this.removed?this:(e=n(e).split(l),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},O.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(l),e.length-1&&(t=r(e[1]),i=r(e[2]),s=r(e[3]),isNaN(i)&&(i=null),isNaN(s)&&(s=null)),e=r(e[0]),t==null&&(t=e),s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);return i=i==null?o.x+o.width/2:i,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,t,i,s]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=d),this},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;this.removed=!0}},O.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(r==null&&e.is(n,"string")){if(n==f&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var o=n.split(l),u={};for(var a=0,h=o.length;a<h;a++)n=o[a],n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n];return h-1?u:u[o[0]]}if(this.attrs&&r==null&&e.is(n,"array")){u={};for(a=0,h=n.length;a<h;a++)u[n[a]]=this.attr(n[a]);return u}var p;r!=null&&(p={},p[n]=r),r==null&&e.is(n,"object")&&(p=n);for(var d in p)c("attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&p[t](d)&&e.is(this.paper.customAttributes[d],"function")){var v=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var m in v)v[t](m)&&(p[m]=v[m])}p.text&&this.type=="text"&&(this.textpath.string=p.text),k(this,p)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},O.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},O.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},O.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},O.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(g,d),+t!==0?(this.attrs.blur=t,n.filter=r+p+h+".Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},e._engine.path=function(e,t){var n=M("shape");n.style.cssText=b,n.coordsize=w+p+w,n.coordorigin=t.coordorigin;var r=new A(n,t),i={fill:"none",stroke:"#000"};e&&(i.path=e),r.type="path",r.path=[],r.Path=d,k(r,i),t.canvas.appendChild(n);var s=M("skew");return s.on=!0,n.appendChild(s),r.skew=s,r.transform(d),r},e._engine.rect=function(t,n,r,i,s,o){var u=e._rectPath(n,r,i,s,o),a=t.path(u),f=a.attrs;return a.X=f.x=n,a.Y=f.y=r,a.W=f.width=i,a.H=f.height=s,f.r=o,f.path=u,a.type="rect",a},e._engine.ellipse=function(e,t,n,r,i){var s=e.path(),o=s.attrs;return s.X=t-r,s.Y=n-i,s.W=r*2,s.H=i*2,s.type="ellipse",k(s,{cx:t,cy:n,rx:r,ry:i}),s},e._engine.circle=function(e,t,n,r){var i=e.path(),s=i.attrs;return i.X=t-r,i.Y=n-r,i.W=i.H=r*2,i.type="circle",k(i,{cx:t,cy:n,r:r}),i},e._engine.image=function(t,n,r,i,s,o){var u=e._rectPath(r,i,s,o),a=t.path(u).attr({stroke:"none"}),l=a.attrs,c=a.node,h=c.getElementsByTagName(f)[0];return l.src=n,a.X=l.x=r,a.Y=l.y=i,a.W=l.width=s,a.H=l.height=o,l.path=u,a.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",a._.fillpos=[r,i],a._.fillsize=[s,o],c.appendChild(h),N(a,1,1,0,0,0),a},e._engine.text=function(t,r,i,o){var u=M("shape"),a=M("path"),f=M("textpath");r=r||0,i=i||0,o=o||"",a.v=e.format("m{0},{1}l{2},{1}",s(r*w),s(i*w),s(r*w)+1),a.textpathok=!0,f.string=n(o),f.on=!0,u.style.cssText=b,u.coordsize=w+p+w,u.coordorigin="0 0";var l=new A(u,t),c={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:o};l.shape=u,l.path=a,l.textpath=f,l.type="text",l.attrs.text=n(o),l.attrs.x=r,l.attrs.y=i,l.attrs.w=1,l.attrs.h=1,k(l,c),u.appendChild(f),u.appendChild(a),t.canvas.appendChild(u);var h=M("skew");return h.on=!0,u.appendChild(h),l.skew=h,l.transform(d),l},e._engine.setSize=function(t,n){var r=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),r.width=t,r.height=n,r.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,r,i,s){e.eve("setViewBox",this,this._viewBox,[t,n,r,i,s]);var u=this.width,a=this.height,f=1/o(r/u,i/a),l,c;return s&&(l=a/i,c=u/r,r*l<u&&(t-=(u-r*l)/2/l),i*c<a&&(n-=(a-i*c)/2/c)),this._viewBox=[t,n,r,i,!!s],this._viewBoxShift={dx:-t,dy:-n,scale:f},this.forEach(function(e){e.transform("...")}),this};var M;e._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){M=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,r=t.height,i,s=t.width,o=t.x,u=t.y;if(!n)throw new Error("VML container not found.");var a=new e._Paper,f=a.canvas=e._g.doc.createElement("div"),l=f.style;return o=o||0,u=u||0,s=s||512,r=r||342,a.width=s,a.height=r,s==+s&&(s+="px"),r==+r&&(r+="px"),a.coordsize=w*1e3+p+w*1e3,a.coordorigin="0 0",a.span=e._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",f.appendChild(a.span),l.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,r),n==1?(e._g.doc.body.appendChild(f),l.left=o+"px",l.top=u+"px",l.position="absolute"):n.firstChild?n.insertBefore(f,n.firstChild):n.appendChild(f),a.renderfix=function(){},a},e.prototype.clear=function(){e.eve("clear",this),this.canvas.innerHTML=d,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;return!0};var _=e.st;for(var D in O)O[t](D)&&!_[t](D)&&(_[D]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(D))}(window.Raphael),function(e){e.fn.extend({wijContent:function(e){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+e+'">"'})},wijAddVisibilityObserver:function(t,n){return this.each(function(){e(this).addClass("wijmo-wijobserver-visibility"),e(this).bind("wijmovisibilitychanged"+(n?"."+n:""),t)})},wijRemoveVisibilityObserver:function(t){return this.each(function(){e(this).removeClass("wijmo-wijobserver-visibility"),t?jQuery.isFunction(t)?e(this).unbind("wijmovisibilitychanged",t):e(this).unbind("wijmovisibilitychanged."+t):e(this).unbind("wijmovisibilitychanged")})},wijTriggerVisibility:function(){return this.each(function(){var t=e(this);t.hasClass("wijmo-wijobserver-visibility")&&t.trigger("wijmovisibilitychanged"),t.find(".wijmo-wijobserver-visibility").trigger("wijmovisibilitychanged")})}});var t=function(e){return isNaN(e)?0:e};e.fn.leftBorderWidth=function(){var n=parseFloat(e(this).css("borderLeftWidth")),r=parseFloat(e(this).css("padding-left")),i=0;return e(this).css("margin-left")!="auto"&&(i=parseFloat(e(this).css("margin-left"))),t(n)+t(r)+t(i)},e.fn.rightBorderWidth=function(){var n=parseFloat(e(this).css("borderRightWidth")),r=parseFloat(e(this).css("padding-right")),i=0;return e(this).css("margin-right")!="auto"&&(i=parseFloat(e(this).css("margin-right"))),t(n)+t(r)+t(i)},e.fn.topBorderWidth=function(){var n=parseFloat(e(this).css("borderTopWidth")),r=parseFloat(e(this).css("padding-top")),i=0;return e(this).css("margin-top")!="auto"&&(i=parseFloat(e(this).css("margin-top"))),t(n)+t(r)+t(i)},e.fn.bottomBorderWidth=function(){var n=parseFloat(e(this).css("borderBottomWidth")),r=parseFloat(e(this).css("padding-bottom")),i=0;return e(this).css("margin-bottom")!="auto"&&(i=parseFloat(e(this).css("margin-bottom"))),t(n)+t(r)+t(i)},e.fn.borderSize=function(){var t=e(this).leftBorderWidth()+e(this).rightBorderWidth(),n=e(this).topBorderWidth()+e(this).bottomBorderWidth(),r={width:t,height:n};return r},e.fn.setOutWidth=function(t){var n=e(this).leftBorderWidth()+e(this).rightBorderWidth();return e(this).width(t-n),this},e.fn.setOutHeight=function(t){var n=e(this).topBorderWidth()+e(this).bottomBorderWidth();return e(this).height(t-n),this},e.fn.getWidget=function(){var e=this.data("widgetName");return e&&e!=""?this.data(e):null},e.fn.wijshow=function(t,n,r,i,s){var o=t.animated||!1,u=t.duration||400,f=t.easing,l=t.option||{};i&&e.isFunction(i)&&i.call(this);if(o){if(n&&n[o]){n[o](t,e.extend(r,{complete:s}));return}if(e.effects)if(e.effects[o]||e.effects.effect&&e.effects.effect[o]){this.show(o,e.extend(l,{easing:f}),u,s);return}}this.show(),s&&e.isFunction(s)&&s.call(this)},e.fn.wijhide=function(t,n,r,i,s){var o=t.animated||!1,u=t.duration||400,f=t.easing,l=t.option||{};i&&e.isFunction(i)&&i.call(this);if(o){if(n&&n[o]){n[o](t,e.extend(r,{complete:s}));return}if(e.effects)if(e.effects[o]||e.effects.effect&&e.effects.effect[o]){this.hide(o,e.extend(l,{easing:f}),u,s);return}}this.hide(),s&&e.isFunction(s)&&s.call(this)};var n=function(){};e.extend(n.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } ¡ « ­ · » ¿ ; · ՚ ՛ ՜ ՝ ՞ ՟ ։ ֊ ־ ׀ ׃ ׳ ״ ، ؛ ؟ ٪ ٫ ٬ ٭ ۔ ܀ ܁ ܂ ܃ ܄ ܅ ܆ ܇ ܈ ܉ ܊ ܋ ܌ ܍ । ॥ ॰ ෴ ๏ ๚ ๛ ༄ ༅ ༆ ༇ ༈ ༉ ༊ ་ ༌ ། ༎ ༏ ༐ ༑ ༒ ༺ ༻ ༼ ༽ ྅ ၊ ။ ၌ ၍ ၎ ၏ ჻ ፡ ። ፣ ፤ ፥ ፦ ፧ ፨ ᙭ ᙮ ᚛ ᚜ ᛫ ᛬ ᛭ ។ ៕ ៖ ៗ ៘ ៙ ៚ ៜ ᠀ ᠁ ᠂ ᠃ ᠄ ᠅ ᠆ ᠇ ᠈ ᠉ ᠊ ‐ ‑ ‒ – — ― ‖ ‗ ‘ ’ ‚ ‛ “ ” „ ‟ † ‡ • ‣ ․ ‥ … ‧ ‰ ‱ ′ ″ ‴ ‵ ‶ ‷ ‸ ‹ › ※ ‼ ‽ ‾ ⁁ ⁂ ⁃ ⁅ ⁆ ⁈ ⁉ ⁊ ⁋ ⁌ ⁍ ⁽ ⁾ ₍ ₎ 〈 〉 、 。 〃 〈 〉 《 》 「 」 『 』 【 】 〔 〕 〖 〗 〘 〙 〚 〛 〜 〝 〞 〟 〰 ﴾ ﴿ ︰ ︱ ︲ ︵ ︶ ︷ ︸ ︹ ︺ ︻ ︼ ︽ ︾ ︿ ﹀ ﹁ ﹂ ﹃ ﹄ ﹉ ﹊ ﹋ ﹌ ﹐ ﹑ ﹒ ﹔ ﹕ ﹖ ﹗ ﹘ ﹙ ﹚ ﹛ ﹜ ﹝ ﹞ ﹟ ﹠ ﹡ ﹣ ﹨ ﹪ ﹫ ！ ＂ ＃ ％ ＆ ＇ （ ） ＊ ， － ． ／ ： ； ？ ＠ ［ ＼ ］ ｛ ｝ ｡ ｢ ｣ ､';this.UTFWhitespacesString_='	  \f                              ​ \u2028   　",isDigit:function(e){var t=e.charCodeAt(0);return t>=48&&t<58||t>=65296&&t<65306},isLetter:function(e){return!!(e+"").match(new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ȟȢ-ȳɐ-ʭʰ-ʸʻ-ˁːˑˠ-ˤˮͺΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϗϚ-ϳЀ-ҁҌ-ӄӇӈӋӌӐ-ӵӸӹԱ-Ֆՙա-ևא-תװ-ײء-غـ-يٱ-ۓەۥۦۺ-ۼܐܒ-ܬހ-ޥअ-हऽॐक़-ॡঅ-ঌএঐও-নপ-রলশ-হড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલળવ-હઽૐૠଅ-ଌଏଐଓ-ନପ-ରଲଳଶ-ହଽଡ଼ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜໝༀཀ-ཇཉ-ཪྈ-ྋက-အဣ-ဧဩဪၐ-ၕႠ-Ⴥა-ჶᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ሆለ-ቆቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኆኈኊ-ኍነ-ኮኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዎዐ-ዖዘ-ዮደ-ጎጐጒ-ጕጘ-ጞጠ-ፆፈ-ፚᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪក-ឳᠠ-ᡷᢀ-ᢨḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁿℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℱℳ-ℹ々〆〱-〵ぁ-ゔゝゞァ-ヺー-ヾㄅ-ㄬㄱ-ㆎㆠ-ㆷ㐀-䶵一-龥ꀀ-ꒌ가-힣豈-鶴ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹲﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"))},isLetterOrDigit:function(e){return this.isLetter(e)||this.isDigit(e)},isSymbol:function(e){var t=new RegExp("[$+<->^`|~¢-©¬®-±´¶¸×÷ʹʺ˂-ˏ˒-˟˥-˭ʹ͵΄΅҂۩۽۾৲৳৺୰฿༁-༃༓-༗༚-༟༴༶༸྾-࿅࿇-࿌࿏៛᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁺-⁼₊-₌₠-₯℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮Ⅎ℺←-⇳∀-⋱⌀-⌨⌫-⍻⍽-⎚␀-␦⑀-⑊⒜-ⓩ─-▕■-◷☀-☓☙-♱✁-✄✆-✉✌-✧✩-❋❍❏-❒❖❘-❞❡-❧➔➘-➯➱-➾⠀-⣿⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㈀-㈜㈪-㉃㉠-㉻㉿㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾꒐-꒡꒤-꒳꒵-꓀꓂-꓄꓆﬩﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�]");return t.test(e+"")},isPunctuation:function(e){return this._UTFPunctuationsString.indexOf(e)>=0},isPrintableChar:function(e){return!this.isLetterOrDigit(e)&&!this.isPunctuation(e)&&!this.isSymbol(e)?e===" ":!0},isAscii:function(e){return e>="!"&&e<="~"},isAsciiLetter:function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"},isUpper:function(e){return e.toUpperCase()===e},isLower:function(e){return e.toLowerCase()===e},isAlphanumeric:function(e){return this.isLetter(e)?!0:this.isDigit(e)},isAciiAlphanumeric:function(e){return(e<"0"||e>"9")&&(e<"A"||e>"Z")?e>="a"?e<="z":!1:!0},setChar:function(e,t,n){return n>=e.length||n<0?e:e.substr(0,n)+t+e.substr(n+1)}});var r=["\n","\r",'"',"@","+","'","<",">","%","{","}"],i=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],s=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];!e.wij&&e.extend({wij:{charValidator:new n,encodeString:function(e){for(var t=0;t<r.lemgth;t++){var n=/c__escapeArr3[i]/g;e=e.replace(n,i[t])}return e},decodeString:function(e){if(e==="")return;for(var t=0;t<i.length;t++){var n=/c__escapeArr2[i]/g;e=e.replace(n,r[t])}return e}}})}(jQuery),__wijReadOptionEvents=function(e,t){for(var n=0;n<e.length;n++)t.options[e[n]]!=null&&t.element.bind(e[n],t.options[e[n]]);for(n in t.options)if(n.indexOf(" ")!=-1)for(var r=n.split(" "),i=0;i<r.length;i++)r[i].length>0&&t.element.bind(r[i],t.options[n])},function(e){"use strict";var t="@wijtp@",n="wijmo-wijtooltip",r=n+"-arrow-",i=parseFloat,s=window,o=document,u=Math,a=u.max,f={};e.widget("wijmo.wijtooltip",{options:{content:"",title:"",closeBehavior:"auto",mouseTrailing:!1,triggers:"hover",position:{my:"left bottom",at:"right top",offset:null},showCallout:!0,animation:{animated:"fade",duration:500,easing:null},showAnimation:{},hideAnimation:{},showDelay:150,hideDelay:150,calloutAnimation:{duration:1e3,disabled:!1,easing:null},calloutFilled:!1,modal:!1,group:null,ajaxCallback:null,showing:null,shown:null,hiding:null,hidden:null,cssClass:""},_setOption:function(t,n){var r=this,i="_set_"+t,s=r.options[t];e.Widget.prototype._setOption.apply(r,arguments),e.isPlainObject(n)&&(r.options[t]=e.extend({},s,n)),r[i]&&r[i](s)},_set_cssClass:function(){var e=this,t=e.options,n=t.cssClass,r=e._tooltip;if(!r)return;!r.hasClass(n)&&r.addClass(n)},_set_content:function(){var e=this;e._isAjaxCallback?(e._callbacked=!0,e.show(),e._callbacked=!1):e._setText()},_create:function(){var n=this,r=n.options,i=n.element,s=i&&i.attr("id"),o="",u="",a=r.group||t,f=e.wijmo.wijtooltip._getTooltip(a);window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),f?f.count++:(f=n._createTooltip(),f.count=0,e.wijmo.wijtooltip._tooltips[a]=f),u=r.cssClass?r.cssClass:"",!f.hasClass(u)&&f.addClass(u),r.position.of=n.element,n._bindLiveEvents(),n._tooltip=f,s!==""&&(o=f.attr("aria-describedby"),o=o===undefined?"":o+" ",f.attr("aria-describedby",o+s))},destroy:function(){var n=this,r=n.element,i=n.options.group||t;r.unbind(".tooltip"),r.attr("title",n._content),e.wijmo.wijtooltip._removeTooltip(i),e.Widget.prototype.destroy.apply(n)},widget:function(){return this._tooltip},show:function(){var t=this,n=t._tooltip,r=t.options;if(!n||r.disabled)return;n._showAnimationTimer&&(clearTimeout(n._showAnimationTimer),n._showAnimationTimer=null),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),n.stop(!0,!0);if(r.ajaxCallback&&e.isFunction(r.ajaxCallback)&&!t._callbacked){t._isAjaxCallback=!0,r.ajaxCallback.call(t.element);return}t._setText(),n._showAnimationTimer=setTimeout(function(){f=n.offset();if(r.mouseTrailing){t._setCalloutCss();return}t._setPosition(),t._showTooltip()},t.options.showDelay)},showAt:function(e){var t=this,n=t._tooltip,r=n&&n._callout,i={},s=0,o=0,u={},a,l,c,h,p,d;if(!n||!r)return;n.stop(!0,!0),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),n._showAtAnimationTimer=setTimeout(function(){var v=n.is(":visible");t._setText(),f=n.offset(),n.offset({left:0,top:0}).show(),i=r.position(),s=i.left,o=i.top,l=t._getBorder(r),c=l.left||l.right,h=l.top||l.bottom,p=n.width(),d=n.height(),a=t._getCalloutShape(),u={rt:{left:e.x-p-c,top:e.y-o},rc:{left:e.x-p-c,top:e.y-d/2},rb:{left:e.x-p-c,top:e.y-o-h},lt:{left:e.x+c,top:e.y-o},lc:{left:e.x+c,top:e.y-d/2},lb:{left:e.x+c,top:e.y-o-h},tl:{left:e.x-s,top:e.y+h},tc:{left:e.x-p/2,top:e.y+h},tr:{left:e.x-s-c,top:e.y+h},bl:{left:e.x-s,top:e.y-d-h},bc:{left:e.x-p/2,top:e.y-d-h},br:{left:e.x-s-c,top:e.y-d-h},cc:{left:e.x-p/2,top:e.y-d/2}}[a],a=t._flipTooltip(u,a,l),t._setUnfilledCallout(a),n.offset(u),!v&&n.hide(),t._calloutShape=a,t._showTooltip()},t.options.showDelay)},hide:function(){var t=this,n=t._tooltip;if(!n)return;n._showAnimationTimer&&(clearTimeout(n._showAnimationTimer),n._showAnimationTimer=null),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),n._hideAnimationTimer=setTimeout(e.proxy(t._hideTooltip,t),t.options.hideDelay)},_createTooltip:function(){var t=this,r="ui-corner-all",i="ui-widget-content",s="ui-state-default",o="ui-widget-header",u=e("<div class = '"+n+" ui-widget "+i+" "+r+"'></div>"),a=e("<div class='"+n+"-container'></div>"),f=e("<div class='"+i+" "+n+"-pointer '><div class='"+n+"-pointer-inner'></div></div>"),l=e("<div class = '"+n+"-title "+o+" "+r+"'></title>"),c=e("<a href='#' class = '"+n+"-close "+s+" "+r+"'></a>");return c.append(e("<span class = 'ui-icon ui-icon-close'></span>")).bind("click",e.proxy(t._onClickCloseBtn,t)),u.append(l).append(c).append(a).append(f).css("position","absolute").attr("role","tooltip").appendTo("body").hide(),u._container=a,u._callout=f,u._closeBtn=c,u._title=l,u},_bindLiveEvents:function(){var t=this,n=t.options,r=t.element;t._content===undefined&&(t._content=r.attr("title"),r.attr("title","")),r.unbind(".tooltip"),n.mouseTrailing&&r.bind("mousemove.tooltip",function(e){if(n.disabled)return;var r=n.position.offset||"",i=r.split(" ");i.length===2?t.showAt({x:e.pageX+parseInt(i[0],10),y:e.pageY+parseInt(i[1],10)}):t.showAt({x:e.pageX,y:e.pageY})});switch(n.triggers){case"hover":r.bind("mouseover.tooltip",e.proxy(t.show,t)).bind("mouseout.tooltip",e.proxy(t._hideIfNeeded,t));break;case"click":r.bind("click.tooltip",e.proxy(t.show,t));break;case"focus":r.bind("focus.tooltip",e.proxy(t.show,t)).bind("blur.tooltip",e.proxy(t._hideIfNeeded,t));break;case"rightClick":r.bind("contextmenu.tooltip",function(e){t.show(),e.preventDefault()})}},_hideIfNeeded:function(){var e=this,t=e.options,n=t.closeBehavior;if(n==="sticky"||t.modal||n==="none"||t.disabled)return;e.hide()},_flipTooltip:function(e,t,n){var r=this,i=r._tooltip,s={width:i.width(),height:i.height()},o=r._flipCallout(e,s,t),u=o&&o.flip,a,f;return!i||!o||!u.h&&!u.v?o.calloutShape:(a=i.width(),f=i.height(),u.h==="l"?e.left-=a+n.right*2+1:u.h==="r"?e.left+=a+n.left*2+1:u.v==="t"?e.top-=f+n.bottom*2+1:u.v==="b"&&(e.top+=f+n.top*2+1),o.calloutShape)},_flipCallout:function(t,n,i){var o=this,u=o.options,a=o._tooltip,f={h:!1,v:!1},l=e(s),c=(u.position.collision||"flip").split(" ");c.length===1&&(c[1]=c[0]);if(!a||c[0]!=="flip"&&c[1]!=="flip")return{flip:f};c[0]==="flip"&&(t.left<0||t.left+n.width>l.width()+l.scrollLeft())&&(f.h=!0),c[0]==="flip"&&(t.top<0||t.top+n.height>l.height()+l.scrollTop())&&(f.v=!0);if(u.showCallout){f.h&&(i.indexOf("l")>-1?(i=i.replace(/l/,"r"),f.h="l"):i.indexOf("r")>-1&&(i=i.replace(/r/,"l"),f.h="r")),f.v&&(i.indexOf("t")>-1?(i=i.replace(/t/,"b"),f.v="t"):i.indexOf("b")>-1&&(i=i.replace(/b/,"t"),f.v="b"));if(f.h||f.v)o._removeCalloutCss(),a.addClass(r+i)}return{flip:f,calloutShape:i}},_set_position:function(e){var t=this,n=t.options,r=n.position;n.showCallout&&((e.my!==r.my||e.at!==r.at)&&t._setPosition(),t._setCalloutOffset(!0)),t._setText()},_set_showCallOut:function(e){var t=this,n=t._tooltip,r=n&&n._callout;if(!n||!r)return;e?(t._setCalloutCss(),r.show()):r.hide()},_set_closeBehavior:function(){var e=this,t=e._tooltip,n=t&&t._closeBtn;n&&n[e.options.closeBehavior==="sticky"?"show":"hide"]()},_set_triggers:function(){this._bindLiveEvents()},_set_mouseTrailing:function(){this._bindLiveEvents()},_getCalloutShape:function(){var t=this,n=t.options.position,r=function(t){return e.map(t,function(e){return e.substr(0,1)})},i=r(n.my.split(" ")),s=r(n.at.split(" ")),o=[];return i.length===2&&(o=i),i[0]===s[0]?(i[1]==="t"&&s[1]==="b"||i[1]==="b"&&s[1]==="t")&&o.reverse():s[0]==="c"&&o.reverse(),o[0]==="c"&&o.reverse(),o.join("")},_setCalloutCss:function(){var e=this,t=e.options,n=e._tooltip,i="",s="";if(!t.showCallout)return;return e._removeCalloutCss(),s=e._getCalloutShape(),i=r+s,n&&n.addClass(i),s},_removeCalloutCss:function(){var t=this._tooltip;t&&e.each(["tl","tc","tr","bl","bc","br","rt","rc","rb","lt","lc","lb","cc"],function(e,n){var i=r+n;if(t.hasClass(i))return t.removeClass(i),!1})},_getBorder:function(t){var n={};return e.each(["top","right","left","bottom"],function(e,r){n[r]=i(t.css("border-"+r+"-width"))}),n},_setPosition:function(){var e=this,t=e.options,n=t.position,r=e._tooltip,s=r.is(":hidden"),o=e._setCalloutCss(),u=o?o.split(""):null,a=[0,0],f="",l=r._callout,h,p,d,v,m,g={width:r.width(),height:r.height()},y,b;s&&r.show(),r.css({left:0,top:0});if(t.showCallout){h=e._getBorder(l),d=i(l.css("left")),p=i(l.css("top")),v=i(l.css("right")),m=i(l.css("bottom"));switch(u[0]){case"l":a[0]=h.right;break;case"r":a[0]=-h.left;break;case"b":a[1]=m;break;case"t":a[1]=-p}switch(u[1]){case"t":a[1]=-p;break;case"b":a[1]=m;break;case"r":a[0]=v;break;case"l":a[0]=-d}f=a.join(" ")}r.position({my:n.my,at:n.at,of:n.of,offset:f,collision:"none none"}),y=e._flipCallout(r.offset(),g,o),b=y.flip;if(b.h||b.v)r.css({left:0,top:0}),r.position({my:n.my,at:n.at,of:n.of,offset:f,collision:n.collision});t.showCallout&&e._setUnfilledCallout(o),e._calloutShape=o,s&&r.hide()},_setCalloutOffset:function(t){var n=this,r=n.options,i=n._tooltip,s=i&&i._callout,o=n._calloutShape,u=!1,a=r.position.offset,f="",l=[],c=r.calloutAnimation;if(!s)return;if(!a||a.length===0)return;s.stop(!0,!0),e.each(["tr","tc","tl","bl","bc","br"],function(e,t){if(o===t)return u=!0,!1}),a&&(l=a.split(" "),l.length===2?f=u?l[0]:l[1]:l.length===1&&(f=l[0])),l&&l.length===2&&l[0]==="none"&&l[1]==="none"?s.css("left","").css("top",""):f==="none"?s.css(u?"left":"top",""):f!==""&&(t&&!t.disabled?s.animate(u?{left:f}:{top:f},c.duration,c.easing):s.css(u?"left":"top",f))},_setUnfilledCallout:function(e){var t=this,n=t._tooltip,r=n&&n._callout,i=r&&r.children(),s=e.split(""),o=n&&n.css("background-color");if(!i)return;i.css({"border-left-color":"","border-top-color":"","border-bottom-color":"","border-right-color":""});if(!t.options.calloutFilled)switch(s[0]){case"l":i.css("border-right-color",o);break;case"t":i.css("border-bottom-color",o);break;case"r":i.css("border-left-color",o);break;case"b":i.css("border-top-color",o)}},_showTooltip:function(){var t=this,n=t.options,r=t._tooltip,i,s,o,u=r&&r._closeBtn,a=r&&r._callout;if(!r)return;if(t._trigger("showing",null,t)===!1)return;u&&u[n.closeBehavior==="sticky"?"show":"hide"](),a&&a[n.showCallout?"show":"hide"](),t._showModalLayer(),r.css("z-index",99999),e.fn.wijshow?(s={show:!0,context:r},i=e.extend({},n.animation,n.showAnimation),r.is(":visible")&&(o=r.offset(),r.offset(f),e.extend(s,{pos:o}),i.animated="tooltipSlide"),r.wijshow(i,e.wijmo.wijtooltip.animations,s,null,function(){t._trigger("shown")})):(r.show(),t._trigger("shown")),t._setCalloutOffset(!1)},_hideTooltip:function(){var t=this,n=t.options,r=t._tooltip,i=e.extend({},n.animation,n.hideAnimation),s;if(!r)return;if(t._trigger("hiding",null,t)===!1)return;t._hideModalLayer(),e.fn.wijhide?(s={show:!1,context:r},r.wijhide(i,e.wijmo.wijtooltip.animations,s,null,function(){t._trigger("hidden"),r.css("z-index","")})):(r.hide(),t._trigger("hidden"),r.css("z-index",""))},_getContent:function(t){var n={data:""},r;return e.isFunction(t)?(r=t.call(this.element,n),n.data!==""?n.data:r):window[t]&&e.isFunction(window[t])?(r=window[t].call(this.element,n),n.data!==""?n.data:r):t},_setText:function(){var e=this,t=e.options,n=e._tooltip,r="",i="",s=n&&n._title;if(!n)return;r=e._getContent(t.content),r=r===""?e._content:r,n._container.html(r),i=e._getContent(t.title),i!==""?s.html(i).show():s.hide()},_showModalLayer:function(){var t=this,n=null;t.options.modal&&(n=e("<div>").addClass("ui-widget-overlay").css("z-index",99e3).width(t._getDocSize("Width")).height(t._getDocSize("Height")).appendTo("body"),e(window).bind("resize.wijtooltip",function(){n.width(t._getDocSize("Width")).height(t._getDocSize("Height"))}),t._tooltip._modalLayer=n)},_hideModalLayer:function(){var t=this,n=t._tooltip._modalLayer;n&&(n.css("z-index","").remove(),e(window).unbind("resize.wijtooltip"))},_getDocSize:function(t){var n,r,i="documentElement",u="body";return e.browser.msie&&e.browser.version<9?(n=a(o[i]["scroll"+t],o[u]["scroll"+t]),r=a(o[i]["offset"+t],o[u]["offset"+t]),n<r?e(s)[t.toLowerCase()]()+"px":n+"px"):e(o)[t.toLowerCase()]()+"px"},_onClickCloseBtn:function(e){this.hide(),e.preventDefault()}}),e.extend(e.wijmo.wijtooltip,{animations:{fade:function(t,n){t=e.extend({duration:300,easing:"swing"},t,n),t.context.stop(!0,!0).animate(t.show?{opacity:"show"}:{opacity:"hide"},t)},tooltipSlide:function(t,n){t=e.extend({duration:300,easing:"swing"},t,n),t.context.stop(!0,!0).animate({left:t.pos.left,top:t.pos.top},t)}},_tooltips:{},_getTooltip:function(t){return e.wijmo.wijtooltip._tooltips[t]},_removeTooltip:function(t){var n=e.wijmo.wijtooltip._tooltips[t];n&&(n.count--,n.count<=0&&(n.remove(),e.wijmo.wijtooltip._tooltips[t]=null))}})}(jQuery),function(e){"use strict";e.widget("wijmo.wijslider",e.ui.slider,{options:{buttonMouseOver:null,buttonMouseOut:null,buttonMouseDown:null,buttonMouseUp:null,buttonClick:null,dragFill:!0,minRange:0},widgetEventPrefix:"wijslider",_setOption:function(t,n){var r=this;return t==="values"?(n=r._pre_set_values(n),r.options[t]=n,r._setValuesOption()):e.ui.slider.prototype._setOption.apply(r,arguments),t==="disabled"?r._handleDisabledOption(n,r.element.parent()):t==="range"&&r._setRangeOption(n),this},_setRangeOption:function(e){var t=this,n=t.options,r;e===!0&&(!n.values||n.values&&n.values.length===0?(r=t._valueMin(),n.values=[r,r]):n.values.length&&n.values.length!==2&&(r=n.values[0],n.values=[r,r]),t._refresh_handle(2)),t._re_createRange(),t._refreshValue()},_setValuesOption:function(){var t=this,n=0,r;t._animateOff=!0,t._refreshValue(),e.isArray(t.options.values)&&(n=t.options.values.length);for(r=0;r<n;r++)t._change(null,r);t._animateOff=!1},_re_createRange:function(){var t=this,n=t.options;t.range&&t.range.remove(),n.range&&(t.range=e("<div></div>").appendTo(t.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")))},_pre_set_values:function(e){var t=this,n=t.options,r=1,i;return r=e&&e.length?e.length:1,n.range===!0&&(!e||e&&e.length===0?(i=t._valueMin(),e=[i,i]):e.length&&e.length!==2&&(i=e[0],e=[i,i]),r=2),t._refresh_handle(r),t._re_createRange(),e},_refresh_handle:function(e){var t=this,n=t.handles.length,r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",i=[],s;if(n!==e){if(e>n){for(s=n;s<e;s++)i.push(r);t.element.append(i.join(""))}else t.element.find(".ui-slider-handle").eq(e-1).nextAll().remove();t.handles=t.element.find(".ui-slider-handle")}},_create:function(){var t=this,n=t.element,r=t.options,i,s,o,u,f,l,c,h,p,d,v;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),t._oriStyle=n.attr("style");if(n.is(":input")){r.orientation==="horizontal"?i=e("<div></div>").width(n.width()).appendTo(document.body):i=e("<div></div>").height(n.height()).appendTo(document.body),s=n.val();if(s!=="")try{o=s.split(";"),f=o.length;if(f>0){for(u=0;u<f;u++)o[u]=parseInt(o[u],10);f===1?r.value=o[0]:r.values=o}}catch(m){}n.data(t.widgetName,i.wijslider(r)).after(e(document.body).children("div:last")).hide();if(r.disabledState){var g=r.disabled;t.disable(),r.disabled=g}return}e.ui.slider.prototype._create.apply(t,arguments),n.data("originalStyle",n.attr("style")),n.data("originalContent",n.html()),l=n.width(),c=n.height(),h=e("<div></div>"),r.orientation==="horizontal"?h.addClass("wijmo-wijslider-horizontal"):h.addClass("wijmo-wijslider-vertical"),h.width(l).height(c),p=e('<a class="wijmo-wijslider-decbutton"><span></span></a>'),d=e('<a class="wijmo-wijslider-incbutton"><span></span></a>'),n.wrap(h).before(p).after(d),t._container=n.parent(),t._attachClass(),v=n.find(".ui-slider-handle"),t._adjustSliderLayout(p,d,v);if(r.disabledState){var g=r.disabled;t.disable(),r.disabled=g}t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t._refresh(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijslider"),t._bindEvents()},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(t){var n=this,r=t?t:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},refresh:function(){var e=this.element.data("wijslider"),t=this.element.data("wijmoWijslider");this.destroy(),this.element.data("wijslider",e),this.element.data("wijmoWijslider",t),this._create()},_refresh:function(){var e=this,t,n,r;n=e._container.find(".wijmo-wijslider-decbutton"),t=e._container.find(".wijmo-wijslider-incbutton"),r=e._container.find(".ui-slider-handle"),e._adjustSliderLayout(n,t,r),e._refreshValue()},_adjustSliderLayout:function(e,t,n){var r=this,i=r.element,s=r.options,o,u,a,f,l,c,h,p,d,v,m,g;o=r._container.width(),u=r._container.height(),a=e.outerWidth(),f=e.outerHeight(),l=t.outerWidth(),c=t.outerHeight(),h=n.outerWidth(),p=n.outerHeight(),s.orientation==="horizontal"?(d=u/2-f/2,e.css("top",d).css("left",0),v=u/2-c/2,t.css("top",v).css("right",0),i.css("left",a+h/2-1).css("top",u/2-i.outerHeight()/2).width(o-a-l-h-2)):(m=o/2-a/2,e.css("left",m).css("top",0),g=o/2-l/2,t.css("left",g).css("bottom",0),i.css("left",o/2-i.outerWidth()/2).css("top",f+p/2+1).height(u-f-c-p-2))},destroy:function(){var t=this,n,r;n=this._getDecreBtn(),r=this._getIncreBtn(),n.unbind("."+t.widgetName),r.unbind("."+t.widgetName),e.ui.slider.prototype.destroy.apply(this,arguments),e("a",t.element.parent()).remove(),t.element.unbind("."+t.widgetName),t.element.unwrap(),t._oriStyle===undefined?t.element.removeAttr("style"):t.element.attr("style",t._oriStyle),t.element.removeData(t.widgetName).removeData("originalStyle").removeData("originalContent"),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null)},_slide:function(t,n,r){var i=this,s=i.options,o=s.minRange,u=r,f;s.range===!0&&(f=i.values(),n===0&&f[1]-o<r?u=f[1]-o:n===1&&f[0]+o>r&&(u=f[0]+o)),e.ui.slider.prototype._slide.call(i,t,n,u)},_getDecreBtn:function(){return this.element.parent().find(".wijmo-wijslider-decbutton")},_getIncreBtn:function(){return this.element.parent().find(".wijmo-wijslider-incbutton")},_attachClass:function(){this._getDecreBtn().addClass("ui-corner-all ui-state-default").attr("role","button"),this._getIncreBtn().addClass("ui-corner-all ui-state-default").attr("role","button"),this.element.parent().attr("role","slider").attr("aria-valuemin",this.options.min).attr("aria-valuenow","0").attr("aria-valuemax",this.options.max),this.options.orientation==="horizontal"?(this.element.parent().addClass("wijmo-wijslider-horizontal"),this._getDecreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-w"),this._getIncreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-e")):(this.element.parent().addClass("wijmo-wijslider-vertical"),this._getDecreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-n"),this._getIncreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-s"))},_bindEvents:function(){var e=this,t,n,r;t=this._getDecreBtn(),n=this._getIncreBtn(),r=e.element,t.bind("click."+e.widgetName,e,e._decreBtnClick),n.bind("click."+e.widgetName,e,e._increBtnClick),t.bind("mouseover."+e.widgetName,e,e._decreBtnMouseOver),t.bind("mouseout."+e.widgetName,e,e._decreBtnMouseOut),t.bind("mousedown."+e.widgetName,e,e._decreBtnMouseDown),t.bind("mouseup."+e.widgetName,e,e._decreBtnMouseUp),n.bind("mouseover."+e.widgetName,e,e._increBtnMouseOver),n.bind("mouseout."+e.widgetName,e,e._increBtnMouseOut),n.bind("mousedown."+e.widgetName,e,e._increBtnMouseDown),n.bind("mouseup."+e.widgetName,e,e._increBtnMouseUp),r.bind("mouseup."+e.widgetName,e,e._elementMouseupEvent)},_decreBtnMouseOver:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOver",e,n),r=t._getDecreBtn(),r.addClass("ui-state-hover")},_increBtnMouseOver:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOver",e,n),r=t._getIncreBtn(),r.addClass("ui-state-hover")},_decreBtnMouseOut:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOut",e,n),r=t._getDecreBtn(),r.removeClass("ui-state-hover ui-state-active")},_increBtnMouseOut:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOut",e,n),r=t._getIncreBtn(),r.removeClass("ui-state-hover ui-state-active")},_decreBtnMouseDown:function(t){var n=t.data,r,i;if(n.options.disabledState||n.options.disabled)return;r={buttonType:"decreButton"},n._trigger("buttonMouseDown",t,r),i=n._getDecreBtn(),i.addClass("ui-state-active"),e(document).bind("mouseup."+n.widgetName,{self:n,ele:i},n._documentMouseUp),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),n._intervalID=window.setInterval(function(){n._decreBtnHandle(n)},200)},_documentMouseUp:function(t){var n=t.data.self,r=t.data.ele;if(n.options.disabledState||n.options.disabled)return;r.removeClass("ui-state-active"),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),e(document).unbind("mouseup."+n.widgetName,n._documentMouseUp)},_intervalID:null,_increBtnMouseDown:function(t){var n=t.data,r,i;if(n.options.disabledState||n.options.disabled)return;r={buttonType:"increButton"},n._trigger("buttonMouseDown",t,r),i=n._getIncreBtn(),i.addClass("ui-state-active"),e(document).bind("mouseup."+n.widgetName,{self:n,ele:i},n._documentMouseUp),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),n._intervalID=window.setInterval(function(){n._increBtnHandle(n)},200)},_decreBtnMouseUp:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseUp",e,n),r=t._getDecreBtn(),r.removeClass("ui-state-active"),window.clearInterval(t._intervalID)},_increBtnMouseUp:function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseUp",e,n),r=t._getIncreBtn(),r.removeClass("ui-state-active"),window.clearInterval(t._intervalID)},_decreBtnHandle:function(e){e.options.orientation==="horizontal"?e._decre():e._incre()},_decreBtnClick:function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._decreBtnHandle(t),n={buttonType:"decreButton",value:t.value()},t._trigger("buttonClick",e,n)},_increBtnHandle:function(e){e.options.orientation==="horizontal"?e._incre():e._decre()},_increBtnClick:function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._increBtnHandle(t),n={buttonType:"increButton",value:t.value()},t._trigger("buttonClick",e,n)},_decre:function(){var e=this,t=e.value(),n=e.options,r=n.min,i=n.step;n.values&&n.values.length?(t=e.values(0),t<=r?e.values(0,r):e.values(0,t-i)):(t=e.value(),t<=r?e.value(r):e.value(t-i)),e.element.parent().attr("aria-valuenow",e.value())},_incre:function(){var e=this,t=e.value(),n=e.options,r=n.max,i=n.step,s;n.values&&n.values.length?(s=n.values.length===1?0:1,t=e.values(s),t>=r?e.values(s,r):e.values(s,t+i)):(t=e.value(),t>=r?e.value(r):e.value(t+i)),e.element.parent().attr("aria-valuenow",e.value())},_elementMouseupEvent:function(t){var n=t.data;n.options.dragFill&&n.options.range&&(n._dragFillStart>0?n._dragFillStart=0:e.ui.slider.prototype._mouseCapture.apply(n,arguments))},_mouseCapture:function(t){this.element.parent().attr("aria-valuenow",this.value());if(this.options.dragFill){if(t.target.className==="ui-slider-range ui-widget-header")return this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),!0;try{return e.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(n){}}else try{return e.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(n){}},_dragFillTarget:!1,_dragFillStart:0,_rangeValue:0,_oldValue1:0,_oldValue2:0,_oldX:0,_oldY:0,_mouseStart:function(e){if(this.options.dragFill){if(e.target&&e.target.className==="ui-slider-range ui-widget-header")return this._dragFillTarget=!0,this._rangeValue=this.values(1)-this.values(0),this._oldValue1=this.values(0),this._oldValue2=this.values(1),this._oldX=e.pageX,this._oldY=e.pageY,!0;this._dragFillTarget=!1}return!0},_mouseDrag:function(t){var n,r,i,s,o,u;return this.options.dragFill?(n=t.pageX-this._oldX,r=this.element.outerWidth(),this.options.orientation==="vertical"&&(r=this.element.outerHeight(),n=-(t.pageY-this._oldY)),i=(this.options.max-this.options.min)/r*n,this._dragFillTarget?(this.options.orientation==="vertical"?e(document.documentElement).css("cursor","s-resize"):e(document.documentElement).css("cursor","w-resize"),this._dragFillStart>0&&(s=this._rangeValue,this.values(0,this._oldValue1+i),this.values(1,this._oldValue1+i+s),o=this.values(0),u=this.values(1),o+s>this.options.max&&this.values(0,this.options.max-s),u-s<this.options.min&&this.values(1,this.options.min+s)),this._dragFillStart++,!1):e.ui.slider.prototype._mouseDrag.apply(this,arguments)):e.ui.slider.prototype._mouseDrag.apply(this,arguments)},_mouseStop:function(){var t=e.ui.slider.prototype._mouseStop.apply(this,arguments);return this.options.dragFill&&(e(document.documentElement).css("cursor","default"),window.setTimeout(function(){this._dragFillTarget=!1,this._dragFillStart=0},500)),t}})}(jQuery),function(e){"use strict";var t="wijmo-wijsplitter-",n=t+"wrapper",r=t+"horizontal",i=t+"vertical",s=t+"h-",o=t+"v-",u="-content",a={panel1:{n:"panel1",content:"panel1"+u},panel2:{n:"panel2",content:"panel2"+u}},f="bar",l="expander",c="ui-widget-header",h="ui-widget-content",p="ui-state-default",d="ui-state-hover",v="ui-state-active",m="ui-corner-",g="ui-icon",y="ui-icon-triangle-1-",b="collapsed",w="expanded",E="resize-helper";e.widget("wijmo.wijsplitter",{options:{sizing:null,sized:null,expand:null,collapse:null,expanded:null,collapsed:null,barZIndex:-1,showExpander:!0,splitterDistance:100,orientation:"vertical",fullSplit:!1,resizeSettings:{animationOptions:{duration:100,easing:"swing",disabled:!1},ghost:!1},panel1:{minSize:1,collapsed:!1,scrollBars:"auto"},panel2:{minSize:1,collapsed:!1,scrollBars:"auto"},collapsingPanel:"panel1"},_setOption:function(t,n){var r=this,i=r.options,s,o=e.extend({},i[t]);if(t==="fullSplit")r._setFullSplit(n);else if(e.isPlainObject(i[t])){t==="panel1"&&n.collapsed!==undefined?r._setPanel1Collapsed(n.collapsed):t==="panel2"&&n.collapsed!==undefined&&r._setPanel2Collapsed(n.collapsed),i[t]=e.extend(!0,i[t],n);return}e.Widget.prototype._setOption.apply(r,arguments),o!==n&&(t==="orientation"?r.refresh():t==="collapsingPanel"?r.refresh():t==="fullSplit"?r.refresh(!0,!1):t==="splitterDistance"?(r.refresh(!1,!1),r._trigger("sized")):t==="showExpander"&&(s=r._fields.expander,s&&s.length&&s.css("display",n?"":"none"))),t==="disabled"&&r._handleDisabledOption(n,r.element)},_create:function(){var t=this,n=t.element,r=t.options;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),t._fields={width:n.width(),height:n.height()},r.fullSplit&&t._setFullSplit(!0),t._splitterify(),t._updateElementsCss(),t._updateElements(),t._bindEvents(),t._initResizer(),r.disabled&&t.disable(),t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){r.fullSplit&&(t._updateElements(),t._initResizer())},"wijsplitter"),t._trigger("load",null,t)},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(t){var n=this,r=t?t:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return e.browser.msie&&e.extend(u,{"background-color":"#fff",opacity:.1}),e("<div></div>").addClass("ui-disabled").css(u)},destroy:function(){var t=this,n=t.element,u=t._fields,a=u.wrapper,f=u.expander,l=u.bar,c=u.panel1,p=u.panel2,d=u.originalStyle,v=t.widgetName,m=u.oriPnl1Content,g=u.oriPnl2Content,y=u.oriPnl1ContentStyle,b=u.oriPnl2ContentStyle;c&&c.n.is(":ui-resizable")&&c.n.resizable("destroy"),m&&(m.removeClass(o+c.contentCss+" "+s+c.contentCss+" "+h),y===undefined?m.removeAttr("style"):m.attr("style",y),m.appendTo(n)),g&&(g.removeClass(o+p.contentCss+" "+s+p.contentCss+" "+h),b===undefined?g.removeAttr("style"):g.attr("style",b),g.appendTo(n)),c.n.unbind("."+v),f.unbind("."+v),l.unbind("."+v),e(window).unbind("."+v),a.remove(),n.removeClass(i+" "+r),d===undefined?n.removeAttr("style"):n.attr("style",d),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),t._fields=null},refresh:function(e,t){var n=this,r=n._fields,i=r.panel1;if(r._isResizing)return;(t||t===undefined)&&n._updateElementsCss(),n._updateElements();if(e||e===undefined)i&&i.n.is(":ui-resizable")&&i.n.resizable("destroy"),n._initResizer()},_splitterify:function(){var t=this,n=t.element,r=t.options,i=t._fields,s,o,u,a,f={n:null,content:n.find(">div:eq(0)")},l={n:null,content:n.find(">div:eq(1)")};i.originalStyle=n.attr("style"),s=e("<div></div>").appendTo(n),f.n=e("<div></div>").appendTo(s),f.content.length===0?f.content=e("<div></div>"):(i.oriPnl1Content=f.content,i.oriPnl1ContentStyle=f.content.attr("style")),f.content.appendTo(f.n),o=e("<div></div>").appendTo(s),r.barZIndex!==-1&&o.css("z-index",r.barZIndex),u=e("<div></div>").appendTo(o).attr("role","button"),a=e("<span></span>").appendTo(u),l.n=e("<div></div>").appendTo(s),l.content.length===0?l.content=e("<div></div>"):(i.oriPnl2Content=l.content,i.oriPnl2ContentStyle=l.content.attr("style")),l.content.appendTo(l.n),i.wrapper=s,i.panel1=f,i.panel2=l,i.bar=o,i.expander=u,i.icon=a},_updateElementsCss:function(){var e=this,t=e.element,u=e.options,d=u.orientation==="vertical",v=e._fields,b=v.wrapper,w=u.collapsingPanel,E=u.collapsingPanel==="panel1"?"panel2":"panel1",S=v.bar,x=v.expander,T=v.icon;t.removeClass(i+" "+r).addClass(d?i:r),b.attr("class",n),v[w].n.removeClass(o+a[w].n+" "+s+a[w].n).addClass((d?o:s)+a[w].n),v[w].content.removeClass(o+a[w].content+" "+s+a[w].content+" "+h).addClass((d?o:s)+a[w].content+" "+h),S.attr("class",(d?o:s)+f+" "+c).css("width","").css("height",""),x.attr("class",m+(d?"bl "+o:"tr "+s)+l+" "+p).css("left","").css("top",""),T.attr("class",g+" "+y+(d?"w":"n")),v[E].n.removeClass(o+a[E].n+" "+s+a[E].n).addClass((d?o:s)+a[E].n),v[E].content.removeClass(o+a[E].content+" "+s+a[E].content+" "+h).addClass((d?o:s)+a[E].content+" "+h),e._updateExpanderCss()},_updateExpanderCss:function(){var e=this,t=e.options,n=e._fields,r=n.expander,i=n.icon,u=t.orientation==="vertical",a=t.collapsingPanel!=="panel1",f=u?o:s,l=["bl","tr","tr","bl"][u*2+a],c=["br","tl"][+a],h=["s","n","e","w"][u*2+a],p=["tr","bl","bl","tr"][u*2+a],d=["tl","br"][+a],v=["n","s","w","e"][u*2+a];r.removeClass(f+t.collapsingPanel+"-"+w+" "+f+t.collapsingPanel+"-"+b+" "+m+l+" "+m+c+" "+m+p+" "+m+d),i.removeClass(y+h+" "+y+v),t.panel1.collapsed||t.panel2.collapsed?(r.addClass(m+l+" "+m+c+" "+f+t.collapsingPanel+"-"+b),i.addClass(y+h)):(r.addClass(m+p+" "+m+d+" "+f+t.collapsingPanel+"-"+w),i.addClass(y+v))},_updateElements:function(){var e=this,t=e.element,n=e.options,r=n.splitterDistance,i=n.collapsingPanel,u=n.collapsingPanel==="panel1"?"panel2":"panel1",a=e._fields,f=a.wrapper,l=a.panel1,c=a.panel2,h=a.bar,p=a.expander,d=t.width(),v=t.height(),m,g;f.height(v),e._setPanelsScrollMode(),n.orientation==="vertical"?(m=h.outerWidth(!0),r>d-m&&(r=d-m),f.width(d*2),n.panel1.collapsed?(i==="panel1"&&p.addClass(o+"panel1-"+b),a.panel1.n.css("display","none"),a.panel2.n.css("display",""),r=0):(i==="panel1"&&p.addClass(o+"panel1-"+w),a.panel1.n.css("display",""),a.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&p.addClass(o+"panel2-"+b),a.panel2.n.css("display","none"),r=i==="panel1"?d-m:d):(i==="panel2"&&p.addClass(o+"panel2-"+w),a.panel2.n.css("display","")),!n.panel1.collapsed&&!n.panel2.collapsed&&p.addClass(o+n.collapsingPanel+"-"+w),i==="panel1"?(a.panel1.n.height(v).width(r),a.panel2.n.height(v).width(d-r-m)):(a.panel1.n.height(v).width(r-m),a.panel2.n.height(v).width(d-r),a.panel2.content.width(d-r)),a.panel1.content.outerHeight(v,!0),h.outerHeight(v,!0),a.panel2.content.outerHeight(v,!0),p.css("cursor","pointer").css("top",v/2-p.outerHeight(!0)/2)):(g=h.outerHeight(!0),r>v-g&&(r=v-g),n.panel1.collapsed?(i==="panel1"&&p.addClass(s+"panel1-"+b),a.panel1.n.css("display","none"),a.panel2.n.css("display",""),r=0):(i==="panel1"&&p.addClass(s+"panel1-"+w),a.panel1.n.css("display",""),a.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&p.addClass(s+"panel2-"+b),a.panel2.n.css("display","none"),r=i==="panel1"?v-g:v):(i==="panel2"&&p.addClass(s+"panel2-"+w),a.panel2.n.css("display","")),i==="panel1"?(a.panel1.n.width(d).height(r),a.panel2.n.width(d).height(v-r-g),a.panel1.content.outerHeight(r,!0),a.panel2.content.outerHeight(v-r-g,!0)):(a.panel1.n.width(d).height(r-g),a.panel2.n.width(d).height(v-r),a.panel1.content.outerHeight(r-g,!0),a.panel2.content.outerHeight(v-r,!0)),p.css("cursor","pointer").css("left",d/2-p.outerWidth(!0)/2)),p.css("display",n.showExpander?"":"none")},_setFullSplit:function(e){var t=this,n=t._fields,r=e?"100%":n.width,i=e?"100%":n.height;t.element.css("width",r).css("height",i)},_setPanel1Collapsed:function(t,n){var r=this,i=r.options,s=i.panel1.collapsed,o=e(".ui-resizable-handle",r.element);if(s===t)return;if(i.collapsingPanel==="panel1"&&!r._trigger(s?"expand":"collapse",n,null))return;i.panel1.collapsed=t,t?(i.panel2.collapsed=!1,i.collapsingPanel==="panel2"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel1"&&r._trigger(t?"collapsed":"expanded",n,null)},_setPanel2Collapsed:function(t,n){var r=this,i=r.options,s=i.panel2.collapsed,o=e(".ui-resizable-handle",r.element);if(s===t)return;if(i.collapsingPanel==="panel2"&&!r._trigger(s?"expand":"collapse",n,null))return;i.panel2.collapsed=t,t?(i.panel1.collapsed=!1,i.collapsingPanel==="panel1"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel2"&&r._trigger(t?"collapsed":"expanded",n,null)},_bindEvents:function(){var t=this,n=t.options,r=t._fields,i=r.bar,s=r.expander,o=t.widgetName;s.bind("mouseover."+o,function(){if(n.disabled)return;s.addClass(d)}).bind("mouseout."+o,function(){if(n.disabled)return;s.removeClass(d).removeClass(v)}).bind("mousedown."+o,function(){if(n.disabled)return;s.addClass(v)}).bind("mouseup."+o,function(e){if(n.disabled)return;s.removeClass(v),n.collapsingPanel==="panel1"?t._setPanel1Collapsed(!n.panel1.collapsed,e):t._setPanel2Collapsed(!n.panel2.collapsed,e)}),i.bind("mouseover."+o,function(){if(n.disabled)return;i.addClass(d)}).bind("mouseout."+o,function(){if(n.disabled)return;i.removeClass(d)}),r.panel1.n.bind("animating."+o,function(e){if(n.disabled)return;t._adjustLayout(t),t._trigger("sizing",e,null)}).bind("animated."+o,function(e){if(n.disabled)return;t._adjustLayout(t),t._trigger("sized",e,null)}),e(".ui-resizable-handle",t.element).live("mouseover."+o,function(){if(n.disabled)return;i.addClass(d)}).live("mouseout."+o,function(){if(n.disabled)return;i.removeClass(d)}),e(window).bind("resize."+o,function(){if(n.disabled)return;n.fullSplit&&t.element.is(":visible")&&(t._updateElements(),t._initResizer())})},_initResizer:function(){var t=this,n=t.element,r=t.options,i=t._fields,u=i.bar,a=r.collapsingPanel,f=r.collapsingPanel==="panel1"?"panel2":"panel1",l=r.resizeSettings,c=l.animationOptions,h=c.disabled?0:c.duration,p=n.width(),d=n.height(),v,m,g,y,b,w,S;r.orientation==="vertical"?(v=u.outerWidth(!0),m=p-v-r[f].minSize,g=r[a].minSize,g<2&&(g=2),i.panel1.n.resizable({wijanimate:!0,minWidth:g,maxWidth:m,handles:"e",helper:o+E,animateDuration:h,animateEasing:c.easing,ghost:l.ghost,start:function(){i._isResizing=!0},stop:function(){i._isResizing=!1}})):(y=u.outerHeight(!0),b=d-y-r[f].minSize,w=r[a].minSize,w<2&&(w=2),i.panel1.n.resizable({wijanimate:!0,minHeight:w,maxHeight:b,handles:"s",helper:s+E,animateDuration:h,animateEasing:c.easing,ghost:l.ghost,start:function(){i._isResizing=!0},stop:function(){i._isResizing=!1}})),S=e(".ui-resizable-handle",n),r[f].collapsed?S.hide():S.show(),e.browser.msie&&e.browser.version<7&&r.orientation==="vertical"&&S.height(n.height())},_adjustLayout:function(e){var t=e.options,n=e._fields,r=n.panel1,i=t.orientation==="vertical"?r.n.width():r.n.height();if(t.splitterDistance===i)return;t.splitterDistance=i,e._updateElements()},_setPanelsScrollMode:function(){var t=this,n=t._fields,r=t.options,i=[r.panel1.scrollBars,r.panel2.scrollBars];e.each([n.panel1,n.panel2],function(e,t){i[e]==="auto"?t.content.css("overflow","auto"):i[e]==="both"?t.content.css("overflow","scroll"):i[e]==="none"?t.content.css("overflow","hidden"):i[e]==="horizontal"?t.content.css("overflow-x","scroll").css("overflow-y","hidden"):i[e]==="vertical"&&t.content.css("overflow-x","hidden").css("overflow-y","scroll")})}})}(jQuery),function(e){"use strict";e.ui.plugin.add("resizable","wijanimate",{stop:function(t){var n=e(this).data("resizable"),r=n.options,i=n.element,s=n._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,f=o?0:n.sizeDiff.width,l,c,h;i.css("width",n.originalSize.width).css("height",n.originalSize.height),l={width:n.size.width-f,height:n.size.height-u},c=parseInt(i.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(i.css("top"),10)+(n.position.top-n.originalPosition.top)||null,i.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(i.css("width"),10),height:parseInt(i.css("height"),10),top:parseInt(i.css("top"),10),left:parseInt(i.css("left"),10)};s&&s.length&&e(s[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t),i.trigger("animating")},complete:function(){i.trigger("animated")}})}})}(jQuery),function(e){"use strict";var t="wijmo-wijprogressbar",n="ui-progressbar",r=n+"-label",i=t+"-lb-",s="ui-corner-",o=s+"left",u=s+"right",a=s+"top",f=s+"bottom";e.widget("wijmo.wijprogressbar",e.ui.progressbar,{options:{labelAlign:"center",maxValue:100,minValue:0,fillDirection:"east",labelFormatString:"{1}%",toolTipFormatString:"{1}%",indicatorIncrement:1,indicatorImage:"",animationDelay:0,animationOptions:{disabled:!1,easing:null,duration:500},progressChanging:null,beforeProgressChanging:null,progressChanged:null},_setOption:function(t,n){var r=this,i=r.options,s;switch(t){case"value":i[t]=parseInt(n,10),r._refreshValue();return;case"maxValue":i.max=n;case"minValue":s=parseInt(n,10),i[t]=s,r[t==="maxValue"?"max":"min"]=s,r._refreshValue(!0);return;case"labelFormatString":case"toolTipFormatString":i[t]=n,r._refreshValue(!0);return;case"fillDirection":case"labelAlign":case"indicatorImage":i[t]=n,r._updateElementsCss();return}e.Widget.prototype._setOption.apply(r,arguments),t==="disabled"&&r._handleDisabledOption(n,r.element)},_create:function(){var n=this,i=n.options,s=n.element;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),n.directions={east:"left",west:"right",north:"bottom",south:"top"},n.min=i.minValue,n.max=i.max=i.maxValue,s.addClass(t),e.ui.progressbar.prototype._create.apply(n,arguments),n.label=e("<span>").addClass(r).appendTo(s),n._updateElementsCss(),n._isInit=!0,i.disabled&&n.disable(),n._refreshValue()},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(t){var n=this,r=t?t:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return e.browser.msie&&e.extend(u,{"background-color":"#fff",opacity:.1}),e("<div></div>").addClass("ui-disabled").css(u)},_triggerEvent:function(e,t,n){return this._trigger(e,null,{oldValue:t,newValue:n})===!1},_refreshValue:function(t){var n=this,r=n.options,i=r.animationOptions,s=r.indicatorIncrement,o=n.element,u,a,f;if(!n._isInit)return;f=o.attr("aria-valuenow"),u=n.value(),a=(u-n.min)/(n.max-n.min)*100;if(n._triggerEvent("beforeProgressChanging",f,u))return;!i.disabled&&i.duration>0?setTimeout(function(){e.wijmo.wijprogressbar.animations.progress({content:n.valueDiv,complete:function(){s!==1&&(n._refreshProgress(a,u),r.labelAlign==="running"&&n._updateRunningLabelCss(a)),n._triggerEvent("progressChanged",f,u),n._lastStep=a},step:function(e){n._performAnimating(e,t)},progressValue:u*100},i)},r.animationDelay):(n._refreshProgress(Math.round(a)),r.labelAlign==="running"&&n._updateRunningLabelCss(a),n._lastStep=a,n._triggerEvent("progressChanged",f,u))},_refreshProgress:function(t,n){var r=this,i=r.options,s=i.fillDirection,l=r.element;n===undefined&&(n=e.wijmo.wijprogressbar.mul(t,r.max-r.min)/100+r.min);if(r._triggerEvent("progressChanging",l.attr("aria-valuenow"),n))return;r._isHorizontal()?r.valueDiv.toggleClass(s==="east"?u:o,n===r.max).width(t+"%"):r.valueDiv.toggleClass(s==="south"?f:a,n===r.max).height(t+"%"),r.label.html(r._getFormatString(i.labelFormatString,t,n)),l.attr("aria-valuenow",n).attr("title",r._getFormatString(i.toolTipFormatString,t,n))},_isHorizontal:function(){var e=this.options.fillDirection;return e==="west"||e==="east"},_getRotateTextOffset:function(e){var t,n;return e.css("width","auto"),t=e.outerWidth(),n=e.outerHeight(),e.css("width",""),Math.max(t-n-4,0)},_updateElementsCss:function(){var e=this,n=e.options,r=e.element,i=n.fillDirection;r.removeClass(t+"-west "+t+"-east "+t+"-north "+t+"-south").addClass(t+"-"+i),e._updateProgressCss(),e._updateLabelCss()},_updateLabelCss:function(){var t=this,n=t.options,r=t.element,s=n.labelAlign,o=t.label,u=t._lastStep,a=r.height();o.removeClass(i+"west "+i+"east "+i+"south "+i+"north "+i+"center "+i+"running").addClass(i+s).css({left:"",right:"",top:"",bottom:"",width:"","text-align":"","line-height":""}),s!=="north"&&s!=="south"&&(s!=="running"||!!t._isHorizontal())&&o.css("line-height",a+"px"),s==="running"?t._updateRunningLabelCss(u):!t._isHorizontal()&&!e.browser.msie&&(s==="north"?o.css("width","100%").css("text-align","right"):s==="south"&&o.css("width","100%").css("text-align","left"))},_updateRunningLabelCss:function(t){var n=this,r=n.options,i=r.fillDirection,s=n.element,o=n.label,u=n.valueDiv,a=n._isHorizontal(),f,l,c,h;f=s[a?"width":"height"](),l=o[a?"outerWidth":"outerHeight"](),c=u[a?"outerWidth":"outerHeight"](),!a&&!e.browser.msie&&(l+=n._getRotateTextOffset(o)),h=f===c?f-l:t*f/100-l+l*(f-c)/f,o.css(n.directions[i],h)},_updateProgressCss:function(){var e=this,t=e.options,n=t.fillDirection,r=t.indicatorImage,i=e.valueDiv,l=e._lastStep;r!==""&&i.css("background","transparent url("+r+") repeat fixed"),i.removeClass(o+" "+u+" "+a+" "+f).addClass(s+e.directions[n]),typeof l=="number"?e._isHorizontal()?i.css("width",l+"%").css("height",""):i.css("height",l+"%").css("width",""):i.css({width:"",height:""})},_performAnimating:function(t,n){var r=this,i=r.options,s=i.indicatorIncrement,o=t/100,u=e.wijmo.wijprogressbar.div(o-r.min,r.max-r.min)*100,a=0,f,l,c=2;if(s){s!==1?u=Math.floor(u/s)*s:(u=Math.round(u),c=0),r.pointNumber=a;if(r._lastStep===u&&!n)return}r._refreshProgress(Number(u.toFixed(c)),Number(o.toFixed(c))),i.labelAlign==="running"&&r._updateRunningLabelCss(u)},_getFormatString:function(e,t,n){var r=this,i=r.max-n,s=100-t,o=/\{0\}/g;return e=e.replace(o,n.toString()),o=/\{ProgressValue\}/g,e=e.replace(o,n.toString()),o=/\{1\}/g,e=e.replace(o,t.toString()),o=/\{PercentProgress\}/g,e=e.replace(o,t.toString()),o=/\{2\}/g,e=e.replace(o,i.toString()),o=/\{RemainingProgress\}/g,e=e.replace(o,i.toString()),o=/\{3\}/g,e=e.replace(o,s.toString()),o=/\{PercentageRemaining\}/g,e=e.replace(o,s.toString()),o=/\{4\}/g,e=e.replace(o,r.min),o=/\{Min\}/g,e=e.replace(o,r.min),o=/\{5\}/g,e=e.replace(o,r.max),o=/\{Max\}/g,e=e.replace(o,r.max),e},destroy:function(){var n=this,r=n.element;r.attr("title","").removeClass(t+" "+t+"-east "+t+"-west "+t+"-north "+t+"-south"),n.label&&n.label.remove(),n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null),e.ui.progressbar.prototype.destroy.apply(this,arguments)}}),e.extend(e.wijmo.wijprogressbar,{animations:{progress:function(t,n){t=e.extend({easing:"swing",duration:1e3},t,n),t.content.stop(!0,!0).animate({pgvalue:t.progressValue},t)}},add:function(e,t){var n=0,r=0,i;try{n=e.toString().split(".")[1].length}catch(s){}try{r=t.toString().split(".")[1].length}catch(o){}return i=Math.pow(10,Math.max(n,r)),(e*i+t*i)/i},mul:function(e,t){var n=0,r=e.toString(),i=t.toString();try{n+=r.split(".")[1].length}catch(s){}try{n+=i.split(".")[1].length}catch(o){}return Number(r.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)},div:function(e,t){var n=0,r=0,i,s;try{n=e.toString().split(".")[1].length}catch(o){}try{r=t.toString().split(".")[1].length}catch(u){}return i=Number(e.toString().replace(".","")),s=Number(t.toString().replace(".","")),i/s*Math.pow(10,r-n)}})}(jQuery),function(e){"use strict";var t="ui-state-hover",n="wijmo-wijdialog-defaultdockingzone";e.widget("wijmo.wijdialog",e.ui.dialog,{options:{captionButtons:{},collapsingAnimation:null,expandingAnimation:null,contentUrl:"",minimizeZoneElementId:"",buttonCreating:null,stateChanged:null,blur:null},_create:function(){var t=this,n=t.options;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),e.isArray(n.buttons)&&e.each(n.buttons,function(e,t){var n=t.click;n&&typeof n=="string"&&window[n]&&(t.click=window[n])}),t.form=t.element.closest("form[id]"),e.ui.dialog.prototype._create.apply(t,arguments),t.uiDialog.addClass("wijmo-wijdialog"),t._initWijWindow(),t._bindWindowResize(),t._attachDraggableResizableEvent(),t.originalPosition=n.position,t.isPin=!1,t.form.length&&t.uiDialog.appendTo(t.form)},_makeDraggable:function(){e.ui.dialog.prototype._makeDraggable.apply(this,arguments),this.uiDialog.draggable("option","cancel",".wijmo-wijdialog-captionbutton")},_handleDisabledOption:function(t){var n=this;t?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv()),n.disabledDiv.appendTo("body"),e.browser.msie&&n.uiDialog.draggable("disable")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null,e.browser.msie&&n.uiDialog.draggable("enable"))},_createDisabledDiv:function(){var t=this,n=t.uiDialog,r=n.offset(),i=n.outerWidth(),s=n.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:i,height:s,left:r.left,top:r.top})},destroy:function(){var t=this;t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.ui.dialog.prototype.destroy.apply(t,arguments),t.element.unbind(".wijdialog").removeData("wijdialog")},_attachDraggableResizableEvent:function(){var e=this,t=e.uiDialog,n=e.options;n.draggable&&t.draggable&&t.bind("dragstop",function(){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(){e._createIframeMask()}),n.resizable&&t.resizable&&t.bind("resizestop",function(){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(){e._createIframeMask()})},_createIframeMask:function(){var t=this;t.innerFrame&&(t.mask=e("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(e.ui.dialog.maxZ+1)+"'></div>").appendTo(t.uiDialog))},_destoryIframeMask:function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=undefined)},_initWijWindow:function(){var t=this,n=!0;t._createCaptionButtons(),t._checkUrl(),t.uiDialog.bind("mousedown",function(n){var r=n.target;!e.contains(t.element[0],r)&&t.uiDialog.focus()}).bind("mouseenter",function(){n=!0}).bind("mouseleave",function(){n=!1}).bind("focusout",function(e){!n&&t._trigger("blur",e,{el:t.element})})},_checkUrl:function(){var t=this,n=t.options,r=n.contentUrl,i=e('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');typeof r=="string"&&r.length>0&&(t.element.addClass("wijmo-wijdialog-hasframe"),t.element.append(i),t.innerFrame=i),t.contentWrapper=t.element},_setOption:function(t,n){var r=this;e.ui.dialog.prototype._setOption.apply(r,arguments),t==="disabled"?r._handleDisabledOption(n,r.element):t==="contentUrl"?r.innerFrame?r.innerFrame.attr("src",n):r._checkUrl():(t="captionButtons")&&r._createCaptionButtons()},_createCaptionButtons:function(){var t=[],n=this,r=n.options,i,s={pin:{visible:!0,click:n.pin,iconClassOn:"ui-icon-pin-w",iconClassOff:"ui-icon-pin-s"},refresh:{visible:!0,click:n.refresh,iconClassOn:"ui-icon-refresh"},toggle:{visible:!0,click:n.toggle,iconClassOn:"ui-icon-carat-1-n",iconClassOff:"ui-icon-carat-1-s"},minimize:{visible:!0,click:n.minimize,iconClassOn:"ui-icon-minus"},maximize:{visible:!0,click:n.maximize,iconClassOn:"ui-icon-extlink"},close:{visible:!0,click:n.close,iconClassOn:"ui-icon-close"}},o=r.captionButtons,u=n.uiDialogTitlebar;u.children(".ui-dialog-titlebar-close, .wijmo-wijdialog-captionbutton").remove(),e.each(s,function(n,r){o&&o[n]&&e.extend(r,o[n]),t.push({button:n,info:r})}),n._trigger("buttonCreating",null,t);for(i=0;i<t.length;i++)n._createCaptionButton(t[i],u)},_createCaptionButton:function(n,r,i){var s=this,o,u="wijmo-wijdialog-titlebar-"+n.button,f=r.children("."+u),l=n.info,c=e("<span></span>");if(l.visible){if(f.size()===0){c.addClass("ui-icon "+l.iconClassOn).text(l.text||n.button),o=e('<a href="#"></a>').append(c).addClass(u+" ui-corner-all wijmo-wijdialog-captionbutton").attr("role","button").hover(function(){o.addClass(t)},function(){o.removeClass(t)}).click(function(){return c.hasClass(l.iconClassOff)?c.removeClass(l.iconClassOff):c.addClass(l.iconClassOff),e.isFunction(l.click)&&l.click.apply(s,arguments),!1});if(i)return o;o.appendTo(r)}s[n.button+"Button"]=o}else f.remove()},pin:function(){var e=this.isPin,t=this.pinButton.children("span");e?t.removeClass("ui-icon-pin-s"):t.length&&!t.hasClass("ui-icon-pin-s")&&t.addClass("ui-icon-pin-s"),this._enableDisableDragger(!e),this.isPin=!e},refresh:function(){var e=this.innerFrame;e!==undefined&&e.attr("src",e.attr("src"))},toggle:function(){var e=this,t=e.toggleButton.children("span");e.minimized||(e.collapsed===undefined||!e.collapsed?(e.collapsed=!0,!t.hasClass("ui-icon-carat-1-s")&&t.addClass("ui-icon-carat-1-s"),e._collapseDialogContent(!0)):(e.collapsed=!1,t.hasClass("ui-icon-carat-1-s")&&t.removeClass("ui-icon-carat-1-s"),e._expandDialogContent(!0)))},_expandDialogContent:function(t){var n=this,r=n.options,i=r.expandingAnimation;n.uiDialog.height("auto"),t&&i!==null?n.contentWrapper.show(i.animated,i.options,i.duration,function(t){n.uiDialog.css("height",n._toggleHeight),e.isFunction(i.callback)&&i.callback(t),r.resizable&&n._enableDisableResizer(!1)}):(n.contentWrapper.show(),r.resizable&&n._enableDisableResizer(!1),n.uiDialog.css("height",n.toggleHeight))},_collapseDialogContent:function(e){var t=this,n=t.options,r=n.collapsingAnimation;n.resizable&&t._enableDisableResizer(!0),t._toggleHeight=t.uiDialog[0].style.height,t.uiDialog.height("auto"),e&&r!==null?t.contentWrapper.hide(r.animated,r.options,r.duration):t.contentWrapper.hide(),t._enableDisableDragger(t.isPin)},_enableDisableResizer:function(e){var t=this.uiDialog;t.resizable({disabled:e}),e&&t.removeClass("ui-state-disabled")},_enableDisableDragger:function(e){var t=this.uiDialog;if(!this.options.draggable)return;t.draggable({disabled:e}),e&&t.removeClass("ui-state-disabled")},minimize:function(){var t=this,r=t.uiDialog,i=t.options,s=null,o=e("<div></div>"),u=e("<div></div>"),f,l,h,p,d={},v,m={},g="uiDialog",y;t.minimized||(p=t.uiDialog.position(),d.width=t.uiDialog.width(),d.height=t.uiDialog.height(),y=t.getState(),t.maximized?(t.maximized=!1,t.restoreButton.remove(),e(window).unbind(".onWinResize")):(t.collapsed&&t._expandDialogContent(!1),t._saveNormalState()),t._enableDisableResizer(!0),t.collapsed&&t._collapseDialogContent(!1),o.appendTo(document.body).css({top:t.uiDialog.offset().top,left:t.uiDialog.offset().left,height:t.uiDialog.innerHeight(),width:t.uiDialog.innerWidth(),position:"absolute"}),t.contentWrapper.hide(),t.uiDialogButtonPane.length&&t.uiDialogButtonPane.hide(),r.height("auto"),r.width("auto"),t._doButtonAction(t.minimizeButton,"hide"),t._restoreButton(!0,t.minimizeButton,"After"),t._doButtonAction(t.pinButton,"hide"),t._doButtonAction(t.refreshButton,"hide"),t._doButtonAction(t.toggleButton,"hide"),t._doButtonAction(t.maximizeButton,"show"),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton",t.uiDialog).css("float","left"),t.innerFrame&&(g="copy",t[g]=t.uiDialog.clone(),t[g].empty(),t.uiDialogTitlebar.appendTo(t[g])),i.minimizeZoneElementId.length>0&&(s=e("#"+i.minimizeZoneElementId)),s!==null&&s.size()>0?s.append(t[g]):(f=e("."+n),f.size()===0&&(f=e('<div class="'+n+'"></div>'),e(document.body).append(f)),f.append(t[g]).css("z-index",r.css("z-index"))),t[g].css("position","static"),t[g].css("float","left"),e.browser.msie&&e.browser.version==="6.0"&&(l=e(document).scrollTop(),h=document.documentElement.clientHeight-f.height()+l,f.css({position:"absolute",left:"0px",top:h})),u.appendTo(document.body).css({top:t[g].offset().top,left:t[g].offset().left,height:t[g].innerHeight(),width:t[g].innerWidth(),position:"absolute"}),t.uiDialog.hide(),t.innerFrame&&t[g].hide(),o.effect("transfer",{to:u,className:"ui-widget-content"},100,function(){o.remove(),u.remove(),t[g].show(),t.minimized=!0,v=t.uiDialog.position(),m.width=t.uiDialog.width(),m.height=t.uiDialog.height(),t._enableDisableDragger(!0),t._trigger("resize",null,{originalPosition:p,originalSize:d,position:v,size:m}),t._trigger("stateChanged",null,{originalState:y,state:"minimized"})}))},_doButtonAction:function(e,n){e!==undefined&&(e.removeClass(t),e[n]())},maximize:function(){var t=this,n=e(window),r,i={},s,o={},u;t.maximized||(t._enableDisableDragger(!1),r=t.uiDialog.position(),i.width=t.uiDialog.width(),i.height=t.uiDialog.height(),t.minimized?t.restore():(t.collapsed&&t._expandDialogContent(!1),t._saveNormalState(),u="normal"),t.maximized=!0,t.maximizeButton!==undefined&&(t.maximizeButton.hide(),t._restoreButton(!0,t.maximizeButton,"Before")),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton").css("float",""),t._onWinResize(t,n),t.collapsed&&t._collapseDialogContent(!1),!t.collapsed&&t._enableDisableDragger(!0),t.uiDialog.resizable({disabled:!0}),t.uiDialog.removeClass("ui-state-disabled"),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),u==="normal"&&t._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},_bindWindowResize:function(){var t=this,n=e(window),r,i,s;n.resize(function(){t.maximized&&t._onWinResize(t,n)}),e.browser.msie&&e.browser.version==="6.0"&&n.bind("scroll.wijdialog resize.wijdialog",function(){t.minimized&&(i=e(document).scrollTop(),s=t.uiDialog.parent(),r=document.documentElement.clientHeight-s.height()+i,s.css({top:r}))})},_saveNormalState:function(){var e=this,t=e.uiDialog,n=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=n.css("height"),e.normalInnerWidth=n.css("width"),e.normalInnerMinWidth=n.css("min-width"),e.normalInnerMinHeight=n.css("min-height"))},_onWinResize:function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},_restoreButton:function(e,t,n){var r=this,i={button:"restore",info:{visible:e,click:r.restore,iconClassOn:"ui-icon-newwin"}},s=r._createCaptionButton(i,r.uiDialogTitlebar,!0);e&&(s["insert"+n](t),r.restoreButton=s)},_appendToBody:function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(document.body)},restore:function(){var t=this,n=t.uiDialog,r,i={},s,o={},u=e("<div></div>"),f=e("<div></div>"),l="uiDialog",c;t.minimized?(t.minimized=!1,t._enableDisableDragger(!1),t.innerFrame&&(l="copy",t[l]||(l="uiDialog")),r=t[l].position(),i.width=t[l].width(),i.height=t[l].height(),u.appendTo(document.body).css({top:t[l].offset().top,left:t[l].offset().left,height:t[l].innerHeight(),width:t[l].innerWidth(),position:"absolute"}),n.css("position","absolute"),n.css("float",""),t._appendToBody(n),t._enableDisableResizer(!1),!t.isPin&&t._enableDisableDragger(!1),t._restoreToNormal(),t.contentWrapper.show(),t.uiDialogButtonPane.length&&t.uiDialogButtonPane.show(),f.appendTo(document.body).css({top:t.uiDialog.offset().top,left:t.uiDialog.offset().left,height:t.uiDialog.innerHeight(),width:t.uiDialog.innerWidth(),position:"absolute"}),t.uiDialog.hide(),u.effect("transfer",{to:f,className:"ui-widget-content"},150,function(){t.uiDialog.show(),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),u.remove(),f.remove(),t.copy&&t.copy.remove(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),c=t.getState(),t._trigger("stateChanged",null,{originalState:"minimized",state:c})}),t.collapsed&&t._collapseDialogContent(),t._doButtonAction(t.minimizeButton,"show"),t._doButtonAction(t.restoreButton,"remove"),t._doButtonAction(t.pinButton,"show"),t._doButtonAction(t.refreshButton,"show"),t._doButtonAction(t.toggleButton,"show"),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton").css("float","")):t.maximized&&(t.maximized=!1,r=t.uiDialog.position(),i.width=t.uiDialog.width(),i.height=t.uiDialog.height(),e(window).unbind(".onWinResize"),t.collapsed&&t._expandDialogContent(),t._enableDisableResizer(!1),!t.isPin&&t._enableDisableDragger(!1),t._restoreToNormal(),t.contentWrapper.show(),t.collapsed&&t._collapseDialogContent(),t.maximizeButton!==undefined&&(t.maximizeButton.show(),t._restoreButton(!1,t.maximizeButton,"before")),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),c=t.getState(),t._trigger("stateChanged",null,{originalState:"maximized",state:c}))},getState:function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},reset:function(){var e=this;e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e._setOption("position",e.originalPosition)},open:function(){var t=this,n=t.options;(n.hide==="drop"||n.hide==="bounce")&&e.browser.msie&&t.uiDialog.css("filter","auto"),t.innerFrame?(t.innerFrame.attr("src",n.contentUrl),t.minimized?(t.uiDialogTitlebar.show(),t._isOpen=!0):e.ui.dialog.prototype.open.apply(t,arguments)):(t.minimized?(t.uiDialog.show(),t._isOpen=!0):e.ui.dialog.prototype.open.apply(t,arguments),t.uiDialog.wijTriggerVisibility()),t.collapsed&&t._collapseDialogContent(),n.disabled&&(t.disabledDiv?t.disabledDiv.show():t.disable())},close:function(){var t=this,n=t.options;e.ui.dialog.prototype.close.apply(t,arguments)&&(t.innerFrame&&(t.innerFrame.attr("src",""),t.minimized&&t.uiDialogTitlebar.hide()),t.disabledDiv&&n.disabled&&t.disabledDiv.hide())},_restoreToNormal:function(){var e=this,t=e.uiDialog,n=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),n.css("height",e.normalInnerHeight),n.css("width",e.normalInnerWidth),n.css("min-width",e.normalInnerMinWidth),n.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()}}),e.extend(e.ui.dialog.overlay,{create:function(t){e.ui.dialog.latestDlg=t,this.instances.length===0&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ&&!e.contains(e.ui.dialog.latestDlg.element[0],t.target))return!1})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},height:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"}})}(jQuery),function(e){"use strict";e.widget("wijmo.wijaccordion",{widgetEventPrefix:"wijaccordion",options:{animated:"slide",duration:null,event:"click",disabled:!1,expandDirection:"bottom",header:"> li > :first-child,> :not(li):even",requireOpenedPane:!0,selectedIndex:0},_setOption:function(t,n){var r=this.options;if(r[t]!==n)switch(t){case"selectedIndex":this.activate(n);break;case"disabled":n?this.element.addClass("ui-state-disabled"):this.element.removeClass("ui-state-disabled");break;case"event":this._unbindLiveEvents(),this.options.event=n,this._bindLiveEvents();break;case"header":this._handleHeaderChange(n,r.header);break;case"expandDirection":this._onDirectionChange(n,!0,r.expandDirection)}e.Widget.prototype._setOption.apply(this,arguments)},_handleHeaderChange:function(e,t){var n=this.element.find(t);n.removeClass("wijmo-wijaccordion-header ui-helper-reset ui-state-active "+this._triangleIconOpened).siblings(".wijmo-wijaccordion-content").removeClass("wijmo-wijaccordion-content ui-helper-reset ui-widget-content wijmo-wijaccordion-content-active"),this._initHeaders(e)},_initHeaders:function(e){var t=this.options,e=e?e:t.header,n=this.element.find(e);n.each(jQuery.proxy(this._initHeader,this))},_initHeader:function(t,n){var r=this.options,i=this.element.data("rightToLeft"),s=e(n),o=e(s.next()[0]);i&&(s.remove(),s.insertAfter(o)),s.addClass("wijmo-wijaccordion-header ui-helper-reset").attr("role","tab"),o.attr("role","tabpanel"),s.find("> a").length===0&&s.wrapInner('<a href="#"></a>'),s.find("> .ui-icon").length===0&&e('<span class="ui-icon"></span>').insertBefore(e("> a",s)[0]),t===r.selectedIndex?(s.addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").addClass(this._triangleIconOpened),o.addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(s.addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed),o.hide()),o.addClass("wijmo-wijaccordion-content ui-helper-reset ui-widget-content")},_create:function(){window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),this.element.addClass("wijmo-wijaccordion ui-widget wijmo-wijaccordion-icons ui-helper-reset ui-helper-clearfix");var t=this.options;t.disabled&&this.element.addClass("ui-state-disabled"),this._onDirectionChange(t.expandDirection,!1),this._initHeaders(),this.element.attr("role","tablist"),e.Widget.prototype._create.apply(self,arguments)},_init:function(){this._bindLiveEvents()},destroy:function(){this._unbindLiveEvents(),this.element.removeClass("wijmo-wijaccordion ui-widget ui-helper-reset wijmo-wijaccordion-icons").removeAttr("role"),e.Widget.prototype.destroy.apply(this,arguments)},_getHeaders:function(){var t=this.options,n=this.element.data("rightToLeft"),r=[],i,s,o=this.element.find(t.header);if(!(o.length>0&&!e(o[0]).hasClass("wijmo-wijaccordion-header")&&e(o[0]).hasClass("wijmo-wijaccordion-content")))return o;for(i=0;i<o.length;i+=1)s=n?e(o[i]).next(".wijmo-wijaccordion-header"):e(o[i]).prev(".wijmo-wijaccordion-header"),s.length>0&&r.push(s[0]);return e(r)},activate:function(t){var n,r=this.options,i=this._getHeaders(),s,o=this.element.data("rightToLeft"),u,f,l,c,h,p,d,v,m,g;s=e(jQuery.grep(i,function(t){return e(t).hasClass("ui-state-active")})),typeof t=="number"?n=e(i[t]):typeof t=="string"?(t=parseInt(t,0),n=e(i[t])):(n=e(t),t=i.index(t));if(n.hasClass("ui-state-disabled"))return!1;if(n.hasClass("ui-state-active"))if(r.requireOpenedPane){if(s.length===n.length&&s.index()===n.index())return!1}else s=n,n=e(null);else r.requireOpenedPane||(s=e(null));u=i.index(n),f=i.index(s),l=o?n.prev(".wijmo-wijaccordion-content"):n.next(".wijmo-wijaccordion-content"),c=o?s.prev(".wijmo-wijaccordion-content"):s.next(".wijmo-wijaccordion-content");if(s.length===0&&n.length===0)return!1;if(!this._trigger("beforeSelectedIndexChanged",null,{newIndex:u,prevIndex:f}))return!1;s.removeClass("ui-state-active").removeClass(this._headerCornerOpened).addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),r.animated?(h={toShow:l,toHide:c,complete:jQuery.proxy(function(){c.removeClass("wijmo-wijaccordion-content-active"),l.addClass("wijmo-wijaccordion-content-active").wijTriggerVisibility(),c.css("display",""),l.css("display",""),e.fn.wijlinechart&&(c.find(".wijmo-wijlinechart").wijlinechart("redraw"),l.find(".wijmo-wijlinechart").wijlinechart("redraw")),this._trigger("selectedIndexChanged",null,{newIndex:u,prevIndex:f})},this),horizontal:this.element.hasClass("ui-helper-horizontal"),rightToLeft:this.element.data("rightToLeft"),down:u>f,autoHeight:r.autoHeight||r.fillSpace},p=r.animated,d=r.duration,e.isFunction(p)&&(r.animated=p(h)),e.isFunction(d)&&(r.duration=d(h)),v=e.wijmo.wijaccordion.animations,m=r.duration,g=r.animated,g&&!v[g]&&!e.easing[g]&&(g="slide"),v[g]||(v[g]=function(e){this.slide(e,{easing:g,duration:m||700})}),v[g](h)):(s.length>0&&c.hide().removeClass("wijmo-wijaccordion-content-active"),n.length>0&&l.show().addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),e.fn.wijlinechart&&(c.find(".wijmo-wijlinechart").wijlinechart("redraw"),l.find(".wijmo-wijlinechart").wijlinechart("redraw")),this._trigger("selectedIndexChanged",null,{newIndex:u,prevIndex:f})),this.options.selectedIndex=u},_bindLiveEvents:function(){this.element.find(".wijmo-wijaccordion-header").live(this.options.event+".wijaccordion",jQuery.proxy(this._onHeaderClick,this)).live("keydown.wijaccordion",jQuery.proxy(this._onHeaderKeyDown,this)).live("mouseenter.wijaccordion",function(){e(this).addClass("ui-state-hover")}).live("mouseleave.wijaccordion",function(){e(this).removeClass("ui-state-hover")}).live("focus.wijaccordion",function(){e(this).addClass("ui-state-focus")}).live("blur.wijaccordion",function(){e(this).removeClass("ui-state-focus")})},_unbindLiveEvents:function(){this.element.find(".wijmo-wijaccordion-header").die(".wijaccordion")},_onHeaderClick:function(e){return!this.options.disabled&&this.activate(e.currentTarget),!1},_onHeaderKeyDown:function(t){if(this.options.disabled||t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,r=this.element.find(".wijmo-wijaccordion-header.ui-state-focus"),i,s=this._getHeaders();if(r.length>0){i=e(".wijmo-wijaccordion-header",this.element).index(r);switch(t.keyCode){case n.RIGHT:case n.DOWN:if(s[i+1])return s[i+1].focus(),!1;break;case n.LEFT:case n.UP:if(s[i-1])return s[i-1].focus(),!1;break;case n.SPACE:case n.ENTER:this.activate(t.currentTarget),t.preventDefault()}}return!0},_onDirectionChange:function(t,n,r){var i,s,o,u,f,l;n&&(s=this.element.find(".wijmo-wijaccordion-header."+this._headerCornerOpened),s.removeClass(this._headerCornerOpened),o=this.element.find(".wijmo-wijaccordion-content."+this._contentCornerOpened),o.removeClass(this._contentCornerOpened),u=this.element.find("."+this._triangleIconOpened),f=this.element.find("."+this._triangleIconClosed),u.removeClass(this._triangleIconOpened),f.removeClass(this._triangleIconClosed)),r!==null&&this.element.removeClass("wijmo-wijaccordion-"+r);switch(t){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened="ui-icon-triangle-1-n",this._triangleIconClosed="ui-icon-triangle-1-e",i=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened="ui-icon-triangle-1-e",this._triangleIconClosed="ui-icon-triangle-1-s",i=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened="ui-icon-triangle-1-w",this._triangleIconClosed="ui-icon-triangle-1-s",i=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened="ui-icon-triangle-1-s",this._triangleIconClosed="ui-icon-triangle-1-e",i=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-bottom")}l=this.element.data("rightToLeft"),this.element.data("rightToLeft",i),n&&(u.addClass(this._triangleIconOpened),f.addClass(this._triangleIconClosed),s.addClass(this._headerCornerOpened),o.addClass(this._contentCornerOpened)),n&&i!==l&&this.element.children(".wijmo-wijaccordion-header").each(function(){var t=e(this),n;i?(n=t.next(".wijmo-wijaccordion-content"),t.remove(),t.insertAfter(n)):(n=t.prev(".wijmo-wijaccordion-content"),t.remove(),t.insertBefore(n))})}}),e.extend(e.wijmo.wijaccordion,{animations:{slide:function(t,n){t=e.extend({easing:"swing",duration:300},t,n);if(!t.toHide.size()){t.toShow.stop(!0,!0).animate(t.horizontal?{width:"show"}:{height:"show"},t);return}if(!t.toShow.size()){t.toHide.stop(!0,!0).animate(t.horizontal?{width:"hide"}:{height:"hide"},t);return}var r=t.toShow.css("overflow"),i=0,s={},o={},u=t.horizontal?["width","paddingLeft","paddingRight"]:["height","paddingTop","paddingBottom"],f,l=t.toShow;t.horizontal?(f=l[0].style.height,l.height(parseInt(l.parent().height(),10)-parseInt(l.css("paddingTop"),10)-parseInt(l.css("paddingBottom"),10)-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0))):(f=l[0].style.width,l.width(parseInt(l.parent().width(),10)-parseInt(l.css("paddingLeft"),10)-parseInt(l.css("paddingRight"),10)-(parseInt(l.css("borderLeftWidth"),10)||0)-(parseInt(l.css("borderRightWidth"),10)||0))),e.each(u,function(n,r){o[r]="hide";var i=(""+e.css(t.toShow[0],r)).match(/^([\d+-.]+)(.*)$/);s[r]={value:i?i[1]:0,unit:i?i[2]||"px":"px"}}),t.toShow.css(t.horizontal?{width:0,overflow:"hidden"}:{height:0,overflow:"hidden"}).stop(!0,!0).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").stop(!0,!0).animate(o,{step:function(e,n){var r;if(n.prop===t.horizontal?"width":"height")i=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start);r=i*s[n.prop].value,r<0&&(r=0),t.toShow[0].style[n.prop]=r+s[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){!t.autoHeight&&t.toShow.css(t.horizontal?"width":"height",""),t.toShow.css(t.horizontal?"height":"width",f),t.toShow.css({overflow:r}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e){"use strict";e.fn.extend({getBounds:function(){return e.extend({},e(this).offset(),{width:e(this).outerWidth(!0),height:e(this).outerHeight(!0)})},setBounds:function(t){return e(this).css({left:t.left,top:t.top}).width(t.width).height(t.height),this},getMaxZIndex:function(){var t=(e(this).css("z-index")==="auto"?0:e(this).css("z-index"))*1;return e(this).siblings().each(function(n,r){t=Math.max(t,(e(r).css("z-index")==="auto"?0:e(r).css("z-index"))*1)}),t}}),e.widget("wijmo.wijpopup",{options:{ensureOutermost:!1,showEffect:"show",showOptions:{},showDuration:300,hideEffect:"hide",hideOptions:{},hideDuration:100,autoHide:!1,position:{at:"left bottom",my:"left top"},showing:null,shown:null,hiding:null,hidden:null,posChanged:null},_create:function(){window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e))},_init:function(){if(!!this.options.ensureOutermost){var t=e("form");t.length===0&&(t=e(document.body)),this.element.appendTo(t)}this.element.data("visible.wijpopup",!1),this.element.css("position","absolute"),this.element.position({of:e(document.body)}),this.element.hide()},_setOption:function(t){e.Widget.prototype._setOption.apply(this,arguments);if(t==="autoHide"){var n=this.isVisible();this.hide(),n&&this.show()}},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments),this.isVisible()&&this.hide(),e.browser.msie&&e.browser.version<7&&(jFrame=this.element.data("backframe.wijpopup"),!jFrame&&jFrame.remove());var t=this;this.element.unbind(".wijpopup"),e.each(["visible","backframe","animating","width"],function(e,n){t.element.removeData(n+".wijpopup")})},isVisible:function(){return!!this.element.data("visible.wijpopup")&&this.element.is(":visible")},isAnimating:function(){return!!this.element.data("animating.wijpopup")},_pushQueue:function(){var t=e(window),n=t.data("wijPopupQueue"),r;return n||(n=[],t.data("wijPopupQueue",n)),n.push(this)},show:function(t){this._setPosition(t);if(this.isVisible())return;if(this._trigger("showing")===!1)return;var n=this;this.options.autoHide&&this._pushQueue()===1&&e(document).bind("mouseup.wijpopup",function(e){n._onDocMouseUp(e)});var r=this.options.showEffect||"show",i=this.options.showDuration||300,s=this.options.showOptions||{};this.element.data("animating.wijpopup",!0),e.effects&&(e.effects[r]||e.effects.effect&&e.effects.effect[r])?this.element.show(r,s,i,e.proxy(this._showCompleted,this)):this.element[r]?this.element[r](r==="show"?null:i,e.proxy(this._showCompleted,this)):this.element.show(),(!r||!i||r==="show"||i<=0)&&this._showCompleted()},_showCompleted:function(){this.element.removeData("animating.wijpopup"),this.element.data("visible.wijpopup",!0),this._trigger("shown")},showAt:function(e,t){this.show({my:"left top",at:"left top",of:document.body,offset:""+e+" "+t})},hide:function(){if(!this.isVisible())return;if(this._trigger("hiding")===!1)return;var t=this.options.hideEffect||"hide",n=this.options.hideDuration||300,r=this.options.hideOptions||{};this.element.data("animating.wijpopup",!0),e.effects&&(e.effects[t]||e.effects.effect&&e.effects.effect[t])?this.element.hide(t,r,n,e.proxy(this._hideCompleted,this)):this.element[t]?this.element[t](t==="hide"?null:n,e.proxy(this._hideCompleted,this)):this.element.hide(),(!t||!n||t==="hide"||n<=0)&&this._hideCompleted()},_hideCompleted:function(){this.element.data("width.wijpopup")!==undefined&&(this.element.width(this.element.data("width.wijpopup")),this.element.removeData("width.wijpopup")),this.element.removeData("animating.wijpopup").unbind("move.wijpopup");if(e.browser.msie&&e.browser.version<7){var t=this.element.data("backframe.wijpopup");t&&t.hide()}this._trigger("hidden")},_onDocMouseUp:function(t){var n=e(window),r=e(t.target?t.target:t.srcElement),i=n.data("wijPopupQueue"),s;if(r.parents().hasClass("wijmo-wijcombobox-list")||r.parents().hasClass("wijmo-wijcalendar"))return;if(!!i){while(s=i.pop()){if(!s.isVisible())break;if(!!s.options.autoHide){r.get(0)!=s.element.get(0)&&r.parents().index(s.element)<0?s.hide():i.push(s);break}}i.length===0&&e(document).unbind("mouseup.wijpopup")}},_onMove:function(){var e=this.element.data("backframe.wijpopup");e&&(this.element.before(e),e.css({top:this.element.css("top"),left:this.element.css("left")}))},_addBackgroundIFrame:function(){if(e.browser.msie&&e.browser.version<7){var t=this.element.data("backframe.wijpopup");t||(t=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1}),this.element.before(t),this.element.data("backframe.wijpopup",t),this.element.bind("move.wijpopup",e.proxy(this._onMove,this))),t.setBounds(this.element.getBounds()),t.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},_setZIndex:function(e){this.element.css("z-index",e);var t=this.element.data("backframe.wijpopup");t&&t.css("z-index",this.element.css("z-index")-1)},_setPosition:function(t){var n=this.element.is(":visible");this.element.show(),this.element.position(e.extend({},this.options.position,t?t:{})),!n&&this.element.hide(),this._addBackgroundIFrame();var r=1e3;this.options.position.of&&(r=Math.max(r,e(this.options.position.of).getMaxZIndex())),this._setZIndex(r+10),this._trigger("posChanged")}})}(jQuery),function(e){"use strict";var t="wijmo-wijsuperpanel ui-widget ui-widget-content",n="ui-corner-all",r="ui-state-disabled",i="ui-state-hover",s="ui-state-active",o="ui-state-default",u="wijmo-wijsuperpanel-handle",a="wijmo-wijsuperpanel-hbarcontainer",f="wijmo-wijsuperpanel-vbarcontainer",l="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",c="<div class='wijmo-wijsuperpanel-hbarcontainer ui-widget-header'><div class='wijmo-wijsuperpanel-handle ui-state-default ui-corner-all'><span class='ui-icon ui-icon-grip-solid-vertical'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft ui-state-default ui-corner-bl'><span class='ui-icon ui-icon-triangle-1-w'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright ui-state-default ui-corner-br'><span class='ui-icon ui-icon-triangle-1-e'></span></div></div>",h="<div class='wijmo-wijsuperpanel-vbarcontainer ui-widget-header'><div class='wijmo-wijsuperpanel-handle ui-state-default ui-corner-all'><span class='ui-icon ui-icon-grip-solid-horizontal'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop ui-state-default ui-corner-tr'><span class='ui-icon ui-icon-triangle-1-n'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom ui-state-default ui-corner-br'><span class='ui-icon ui-icon-triangle-1-s'></span></div></div>",p="<div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonleft'><span class='ui-icon ui-icon-carat-1-w'></span></div><div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonright'><span class='ui-icon ui-icon-carat-1-e'></span></div>",d="<div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttontop'><span class='ui-icon ui-icon-carat-1-n'></span></div><div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonbottom'><span class='ui-icon ui-icon-carat-1-s'></span></div>";e.widget("wijmo.wijsuperpanel",{options:{allowResize:!1,autoRefresh:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:undefined},hScrollerActivating:null,hScroller:{scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,bubbleScrollingEvent:!0,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,dragStop:null,painted:null,scrolling:null,scroll:null,scrolled:null,showRounder:!0,vScrollerActivating:null,vScroller:{scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},customScrolling:!1,listenContentScroll:!1},_setOption:function(t,n){var r=this,i=r.options,s=r._fields(),o=s.hbarDrag,u=s.vbarDrag,a=s.resizer;t==="animationOptions"?n=e.extend(i.animationOptions,n):t==="hScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoHLarge=!1),n=e.extend(i.hScroller,n)):t==="vScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoVLarge=!1),n=e.extend(i.vScroller,n)):t==="resizableOptions"&&(n=e.extend(r.resizableOptions,n)),e.Widget.prototype._setOption.apply(r,arguments),e.isPlainObject(n)&&(r.options[t]=n);switch(t){case"allowResize":r._initResizer();break;case"disabled":n?(o!==undefined&&o.draggable("disable"),u!==undefined&&u.draggable("disable"),a!==undefined&&a.resizable("disable")):(o!==undefined&&o.draggable("enable"),u!==undefined&&u.draggable("enable"),a!==undefined&&a.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}return r},_create:function(){var t=this,n=t.options;n.vScroller.dir="v",n.hScroller.dir="h",window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),t.paintPanel(),t._initResizer(),t.options.disabled&&t.disable(),t._detectAutoRefresh(),n.listenContentScroll&&t._listenContentScroll(),t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t.refresh(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijsuperpanel")},_detectAutoRefresh:function(){var t=this,n=e.wijmo.wijsuperpanel.panels;n===undefined&&(n=[],e.wijmo.wijsuperpanel.panels=n),n.push(t),t.options.autoRefresh&&(e.wijmo.wijsuperpanel.setAutoRefreshInterval||(e.wijmo.wijsuperpanel.setAutoRefreshInterval=t._setAutoRefreshInterval,e.wijmo.wijsuperpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var t=e.wijmo.wijsuperpanel.autoRereshInterval,n=e.wijmo.wijsuperpanel.panels,r=window.setInterval(function(){window.clearInterval(r);for(var t=n.length,i=!1,s,o,u,a,f,l=0;l<t;l++)s=n[l],o=s.element[0],u=s.options.autoRefresh,u&&(i=!0),a=s.getContentElement(),f=s._paintedMark,s.options.autoRefresh&&a.is(":visible")&&(f===undefined||f.width!==a[0].offsetWidth||f.height!==a[0].offsetHeight||f.mainWidth!==o.offsetWidth||f.mainHeight!==o.offsetHeight)&&s.paintPanel();i&&window.setTimeout(e.wijmo.wijsuperpanel.setAutoRefreshInterval,0)},t===undefined?500:t)},destroy:function(){var r=this,i=r._fields(),s=r.element,o,u;e.wijmo.wijsuperpanel.panels=e.grep(e.wijmo.wijsuperpanel.panels,function(e){return e!==r});if(!i.initialized)return;r._radiusKey&&r.element.css(r._radiusKey,""),i.intervalID!==undefined&&(window.clearInterval(i.intervalID),i.intervalID=undefined),i.resizer!==undefined&&i.resizer.resizable("destroy"),i.hbarContainer!==undefined&&(i.hbarDrag.remove(),i.hbarContainer.unbind("."+r.widgetName)),i.vbarContainer!==undefined&&(i.vbarDrag.remove(),i.vbarContainer.unbind("."+r.widgetName)),s.unbind("."+r.widgetName),i.contentWrapper.unbind("."+r.widgetName),o=i.stateContainer.find(">.wijmo-wijsuperpanel-button"),o.unbind("."+r.widgetName),u=i.templateWrapper,u.contents().each(function(e,t){s.append(t)}),i.stateContainer.remove(),i.tabindex&&s.removeAttr("tabindex"),s.removeClass(t+" "+n),e.Widget.prototype.destroy.apply(r,arguments)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_hasMode:function(t,n){var r=t.scrollMode.split(",");return r=e.map(r,function(t){return e.trim(t).toLowerCase()}),e.inArray(n.toLowerCase(),r)>-1},_bindElementEvents:function(e,t,n,r){var i=e._hasMode(r.hScroller,"edge"),s=e._hasMode(r.vScroller,"edge"),o=e.widgetName;i||s?e._mousemoveBind===undefined&&(e._mousemoveBind=!0,n.bind("mousemove."+o,e,e._contentMouseMove),n.bind("mouseleave."+o,null,function(){e._clearInterval()})):(n.unbind("mousemove",e._contentMouseMove),e._mousemoveBind=undefined),r.mouseWheelSupport?e._mouseWheelBind===undefined&&(e._mouseWheelBind=!0,n.bind("mousewheel."+o,e,e._panelMouseWheel)):(e.element.unbind("mousewheel",e._panelMouseWheel),e._mouseWheelBind=undefined),r.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,n.bind("keydown."+o,e,e._panelKeyDown)):(n.unbind("keydown",e._panelKeyDown),e._keyboardBind=undefined)},_dragStop:function(e,t,n){var r={dragHandle:n};t._trigger("dragStop",e,r)},_contentMouseMove:function(t){var n=t.data,r=n.options,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;if(r.disabled)return;i=r.hScroller,s=r.vScroller,o=e(t.currentTarget),u=n._fields(),a=n._hasMode(i,"edge"),f=n._hasMode(s,"edge"),n._clearInterval(),l={X:t.pageX,Y:t.pageY},c=o.offset(),h=c.left,p=c.top,h=l.X-h,p=l.Y-p,d=i.hoverEdgeSpan,v=s.hoverEdgeSpan,m=o.innerHeight(),g=o.innerWidth(),y="",a&&(h<d&&(y="left"),h>g-d&&(y="right")),f&&(p<v&&(y="top"),p>m-v&&(y="bottom")),n._setScrollingInterval(u,y,n,!1)},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_scrollButtonMouseOver:function(t){var n=t.data,s;if(n.options.disabled)return;s=e(t.currentTarget),s.hasClass(r)||(s.bind("mouseout."+n.widgetName,n,n._buttonMouseOut).bind("mousedown."+n.widgetName,n,n._buttonMouseDown).bind("mouseup."+n.widgetName,n,n._buttonMouseUp).addClass(i),n._buttonScroll(s,n,"buttonshover"))},_buttonScroll:function(e,t,n){var r="",i=t.options,s=t._fields(),o=t._hasMode(i.hScroller,n),u=t._hasMode(i.vScroller,n);e.hasClass("wijmo-wijsuperpanel-buttonleft")&&o?r="left":e.hasClass("wijmo-wijsuperpanel-buttonright")&&o?r="right":e.hasClass("wijmo-wijsuperpanel-buttontop")&&u?r="top":e.hasClass("wijmo-wijsuperpanel-buttonbottom")&&u&&(r="bottom"),r.length>0&&(t._clearInterval(),t._doScrolling(r,t,!0),t._setScrollingInterval(s,r,t,!0))},_listenContentScroll:function(){var e=this,t=e.options,n=e._fields(),r=n.hbarContainer,i=n.hbarDrag,s=n.vbarContainer,o=n.vbarDrag,u=n.templateWrapper,a=n.contentWrapper,f=a.width(),l=a.height(),c=u&&u.offset(),h=c&&c.left,p=c&&c.top,d=n.contentWidth,v=n.contentHeight;a.bind("scroll",function(){var n=u.position(),c=n.left,h=n.top;a.scrollTop(0).scrollLeft(0),u.css({left:c,top:h}),c<=0&&c>f-d&&(t.hScroller.scrollValue=e.scrollPxToValue(-c,"h"),e._scrollDrag("h",r,i,!0)),h<=0&&h>l-v&&(t.vScroller.scrollValue=e.scrollPxToValue(-h,"v"),e._scrollDrag("v",s,o,!0))})},_buttonMouseDown:function(t){var n=t.data,i;if(n.options.disabled)return;i=e(t.currentTarget),i.hasClass(r)||(i.addClass(s),n._buttonScroll(i,n,"buttons"))},_buttonMouseUp:function(t){var n=t.data,r=e(t.currentTarget);r.removeClass("ui-state-active"),n._clearInterval()},_buttonMouseOut:function(t){var n=t.data,r=e(t.currentTarget);r.unbind("mouseout",n._buttonMouseOut).unbind("mousedown",n._buttonMouseDown).unbind("mouseup",n._buttonMouseUp).removeClass(i).removeClass(s),n._clearInterval()},_panelKeyDown:function(t){var n=t.data,r=n.options,i,s;if(!r.keyboardSupport||r.disabled)return;i=t.shiftKey,s=t.keyCode,s===e.ui.keyCode.LEFT?n._doScrolling("left",n,i):s===e.ui.keyCode.RIGHT?n._doScrolling("right",n,i):s===e.ui.keyCode.UP?n._doScrolling("top",n,i):s===e.ui.keyCode.DOWN&&n._doScrolling("bottom",n,i),t.stopPropagation(),t.preventDefault()},_draggingInternal:function(e,t,n,r){var i=n.dir,s=i==="h",o=s?"left":"top",u=e.position[o]-t._getScrollContainerPadding(o),a=t._getTrackLen(i)-r[s?"outerWidth":"outerHeight"](!0),f=u/a,l=n.scrollMax-n.scrollLargeChange+1,c=f*l,h,p,d;c<n.scrollMin&&(c=n.scrollMin),c>l&&(c=l),h={oldValue:n.scrollValue,newValue:c,dir:i};if(!t._scrolling(!0,t,h))return;t.customScroll&&(d=Math.abs(t.customScroll),p=t.scrollPxToValue(d,n.dir)),n.scrollValue=p||c,t.customScroll=undefined,t._setDragAndContentPosition(!0,!1,i,"dragging")},_dragging:function(t,n,r){var i=r.options,s=e(t.target),o=s.parent();o.hasClass(a)?r._draggingInternal(n,r,i.hScroller,s):r._draggingInternal(n,r,i.vScroller,s)},_panelMouseWheel:function(t,n){var r=t.data,i=r.options,s,o,u,f,l,c;if(!i.mouseWheelSupport||i.disabled)return;s=e(t.srcElement||t.originalEvent.target),o="",u=s.closest("."+a,r.element).size()>0,f=i.hScroller,l=i.vScroller,n>0?o=u?"left":"top":o=u?"right":"bottom",o.length>0&&r._doScrolling(o,r),c=!1,o==="left"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-f.scrollMin)<.001),o==="right"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-(f.scrollMax-r._getHScrollBarLargeChange()+1))<.001),o==="top"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),o==="bottom"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-r._getVScrollBarLargeChange()+1))<.001);if(!c||!i.bubbleScrollingEvent||o==="left"||o==="right")t.stopPropagation(),t.preventDefault()},_documentMouseUp:function(t){var n=t.data.self,r=t.data.ele;r.removeClass(s),n._clearInterval(),e(document).unbind("mouseup",n._documentMouseUp)},_scrollerMouseOver:function(t){var n=t.data,r,s,u;if(n.options.disabled)return;r=e(t.srcElement||t.originalEvent.target),s=null,u=!1;if(r.hasClass(o))s=r,u=!0;else if(r.parent().hasClass(o))s=r.parent(),u=!0;else if(r.hasClass(f)||r.hasClass(a))s=r;s!==undefined&&(u&&s.addClass(i),s.bind("mouseout."+n.widgetName,n,n._elementMouseOut),s.bind("mousedown."+n.widgetName,n,n._elementMouseDown),s.bind("mouseup."+n.widgetName,n,n._elementMouseUp))},_elementMouseUp:function(t){var n=e(t.currentTarget);n.removeClass("ui-state-active")},_elementMouseDown:function(t){var n=e(t.currentTarget),r=t.data,i,s,o,l,c,h,p,d;if(r.options.disabled||t.which!==1)return;i="",s=!1,o=!1;if(n.hasClass("wijmo-wijsuperpanel-vbar-buttontop"))i="top",o=!0;else if(n.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom"))i="bottom",o=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonleft"))i="left",o=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonright"))i="right",o=!0;else{if(n.hasClass(u)){n.addClass("ui-state-active");return}n.hasClass(a)?(l=n.find("."+u),c=l.offset(),t.pageX<c.left?i="left":i="right",s=!0):n.hasClass(f)&&(h=n.find("."+u),p=h.offset(),t.pageY<p.top?i="top":i="bottom",s=!0)}r._clearInterval(),r._doScrolling(i,r,s),d=r._fields(),r._setScrollingInterval(d,i,r,s),o&&n.addClass("ui-state-active"),e(document).bind("mouseup."+r.widgetName,{self:r,ele:n},r._documentMouseUp)},doScrolling:function(e,t){this._doScrolling(e,this,t)},_setScrollerValue:function(e,t,n,r,i,s,o){var u=t.scrollMin,a=s?r:n,f=t.scrollValue,l,c,h,p,d,v;f||(f=u),l=0;if(i){c=t.scrollMax-r+1;if(Math.abs(f-c)<.001)return o._clearInterval(),!1;h=t.firstStepChangeFix,l=f+a,!s&&Math.abs(f-u)<1e-4&&!isNaN(h)&&(l+=h),l>c&&(l=c)}else{if(Math.abs(f-u)<.001)return o._clearInterval(),!1;l=f-a,l<0&&(l=u)}return p={oldValue:t.scrollValue,newValue:l,direction:e,dir:t.dir},o._scrolling(!0,o,p)?(o.customScroll&&(v=Math.abs(o.customScroll),d=o.scrollPxToValue(v,t.dir)),t.scrollValue=d||l,o.customScroll=undefined,!0):!1},_doScrolling:function(e,t,n){var r=t.options,i=r.vScroller,s=r.hScroller,o=t._getVScrollBarSmallChange(),u=t._getVScrollBarLargeChange(),a=t._getHScrollBarLargeChange(),f=t._getHScrollBarSmallChange();if(e==="top"||e==="bottom"){if(!t._setScrollerValue(e,i,o,u,e==="bottom",n,t))return;e="v"}else if(e==="left"||e==="right"){if(!t._setScrollerValue(e,s,f,a,e==="right",n,t))return;e="h"}t._setDragAndContentPosition(!0,!0,e)},_disableButtonIfNeeded:function(e){var t=e._fields(),n,i,s,o,u,a,f,l,c,h,p,d,v;t.intervalID>0&&window.clearInterval(t.intervalID),n=e.options,i=t.buttonLeft,s=t.buttonRight,o=t.buttonTop,u=t.buttonBottom,i!==undefined&&(a=e._getHScrollBarLargeChange(),f=n.hScroller.scrollMax-a+1,l=n.hScroller.scrollValue,c=n.hScroller.scrollMin,l===undefined&&(l=c),Math.abs(l-c)<.001||!t.hScrolling?i.addClass(r):i.removeClass(r),Math.abs(l-f)<.001||!t.hScrolling?s.addClass(r):s.removeClass(r)),o!==undefined&&(h=e._getVScrollBarLargeChange(),p=n.vScroller.scrollMax-h+1,d=n.vScroller.scrollValue,v=n.vScroller.scrollMin,d===undefined&&(d=v),Math.abs(d-v)<.001||!t.vScrolling?o.addClass(r):o.removeClass(r),Math.abs(d-p)<.001||!t.vScrolling?u.addClass(r):u.removeClass(r))},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_elementMouseOut:function(t){var n=e(t.currentTarget),r=t.data;n.unbind("mouseout",r._elementMouseOut),n.unbind("mousedown",r._elementMouseDown),n.unbind("mouseup",r._elementMouseUp),n.removeClass(i)},_getScrollOffset:function(t){var n=e(t),r,i,s,o,u,a,f,l,c,h,p={left:null,top:null};return n.size()===0?p:(r=this._fields(),i=r.contentWrapper,s=r.templateWrapper,o=n.offset(),u=s.offset(),o.leftWidth=o.left+n.outerWidth(),o.topHeight=o.top+n.outerHeight(),a=i.offset(),a.leftWidth=a.left+i.outerWidth(),a.topHeight=a.top+i.outerHeight(),c=o.left-u.left,o.left<a.left?p.left=c:o.leftWidth>a.leftWidth&&(h=o.leftWidth-u.left-i.innerWidth(),c<h?p.left=c:p.left=h),f=o.top-u.top,o.top<a.top?p.top=f:o.topHeight>a.topHeight&&(l=o.topHeight-u.top-i.innerHeight(),f<l?p.top=f:p.top=l),p)},_scrollDrag:function(e,t,n,r){var i=this,s=i.options,o=e==="v",u=o?s.vScroller:s.hScroller,a=u.scrollMin,f=u.scrollMax,l=u.scrollValue===undefined?a:u.scrollValue-a,c=i._getLargeChange(e),h=f-a-c+1,p=-1,d,v,m;l>h&&(l=h),t!==undefined&&(d=i._getTrackLen(e),v=n[o?"outerHeight":"outerWidth"](),m=i._getScrollContainerPadding(o?"top":"left"),p=l/h*(d-v)+m),p>=0&&n.css(o?"top":"left",p+"px"),i._scrollEnd(r,i,e)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;n!==null&&this.hScrollTo(n),r!==null&&this.vScrollTo(r)},hScrollTo:function(e){var t=this.options;t.hScroller.scrollValue=this.scrollPxToValue(e,"h"),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(e){var t=this.options;t.vScroller.scrollValue=this.scrollPxToValue(e,"v"),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(e,t){var n=this.options,r=t==="h"?"outerWidth":"outerHeight",i=t==="h"?"contentWidth":"contentHeight",s=t==="h"?"hScroller":"vScroller",o=this._fields(),u=o.contentWrapper,a=o[i],f=u[r](),l=n[s].scrollMin,c=n[s].scrollMax,h=c-l,p=t==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange(),d=h-p+1,v=d*(e/(a-f));return v<l&&(v=l),v>d&&(v=d),v},scrollTo:function(e,t){this.hScrollTo(e),this.vScrollTo(t)},refresh:function(){this.paintPanel()},paintPanel:function(t){var n=this,r=n.element,i,s,o,u;return r.is(":visible")?(i=typeof document.activeElement!="unknown"?document.activeElement:undefined,s=n.options,o=n._fields(),!o.initialized&&n._initialize(o,r,n),n._resetLargeChange(n,o,s),n._bindElementEvents(n,o,r,s),u=o.templateWrapper,u.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"}),u.hide(),u.show(),o.contentWidth=u.width(),o.contentHeight=u.height(),u.css("float",""),n._setRounder(n,r),n._setInnerElementsSize(o,r),n._testScroll(n,o,s)===!1?!1:(n._initScrollBars(n,o,s),n._initScrollButtons(n,o,s),n._trigger("painted"),n._paintedMark={date:new Date,mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:o.contentWidth,height:o.contentWidth},i!==undefined&&!t&&e(i).focus(),!0)):!1},_resetLargeChange:function(e,t,n){var r;e._autoVLarge&&(n.vScroller.scrollLargeChange=null),e._autoHLarge&&(n.hScroller.scrollLargeChange=null),t.vTrackLen=undefined,t.hTrackLen=undefined,t.vbarContainer&&(r=t.vbarContainer.children("."+u+":eq(0)"),r.detach(),t.vbarContainer.remove(),t.vbarContainer=undefined),t.hbarContainer&&(r=t.hbarContainer.children("."+u+":eq(0)"),r.detach(),t.hbarContainer.remove(),t.hbarContainer=undefined)},_initialize:function(e,n,r){e.initialized=!0,n.addClass(t),e.oldHeight=n.css("height");var i=n.css("overflow");n.css("overflow",""),n.height(n.height()),n.css("overflow",i),r._createAdditionalDom(r,e,n)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(t,n,r,i,s,o,u){var a=i==="h",f="mouseover."+t.widgetName,l=a?"buttonLeft":"buttonTop",c=a?"buttonRight":"buttonBottom",h=o[l],v=o[c],g,y,b;t._hasMode(r,"buttons")||t._hasMode(r,"buttonshover")?(g=a?p:d,h===undefined&&(y=e(g).appendTo(u),y.bind(f,t,t._scrollButtonMouseOver),o[l]=h=u.children(a?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop"),o[c]=v=u.children(a?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")),b={my:a?"left":"top",of:s,at:a?"left":"top",collision:"none"},e.extend(b,r.decreaseButtonPosition),h.position(b),b={my:a?"right":"bottom",of:s,at:a?"right":"bottom",collision:"none"},e.extend(b,r.increaseButtonPosition),v.position(b)):h!==undefined&&(h.remove(),v.remove(),o[l]=o[c]=undefined)},_initScrollButtons:function(e,t,n){var r=t.contentWrapper,i=t.stateContainer;e._setButtonPosition(e,n,n.hScroller,"h",r,t,i),e._setButtonPosition(e,n,n.vScroller,"v",r,t,i)},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(e){var t=this,n=t.options,r=t._fields(),i=e==="v",s=i?n.vScroller:n.hScroller,o=i?"innerHeight":"innerWidth",u=i?"contentHeight":"contentWidth",a=i?"_autoVLarge":"_autoHLarge",f,l,c,h,p,d,v,m;return s.scrollLargeChange?s.scrollLargeChange:(f=s.scrollMax,l=s.scrollMin,c=f-l,h=r.contentWrapper,p=h[o](),d=r[u],v=p/(d-p),m=(c+1)*v/(1+v),isNaN(m)&&(m=0),s.scrollLargeChange=m,t[a]=!0,s.scrollLargeChange)},_getHScrollBarSmallChange:function(){var e=this.options,t;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(t,n,r){var i=r.hScroller,s=i.scrollMax,o=i.scrollMin,u=s-o,a=r.vScroller,f=a.scrollMax,l=a.scrollMin,c=f-l,h=n.hbarDrag,p=n.vbarDrag,d,v,m,g,y,b,w,E,S,x;t.hNeedScrollBar&&h.is(":visible")&&(d=t._getHScrollBarLargeChange(),v=t._getTrackLen("h"),m=t._getDragLength(u,d,v,r.hScroller.scrollMinDragLength),h.width(m),g=h.outerWidth(!0)-h.width(),h.width(m-g),y=h.children("span"),y.css("margin-left",(h.width()-y[0].offsetWidth)/2),v<=h.outerWidth(!0)?h.hide():h.show(),t._isDragging==1&&(e(document).trigger("mouseup"),t._isDragging=!1)),t.vNeedScrollBar&&p.is(":visible")&&(b=t._getVScrollBarLargeChange(),w=t._getTrackLen("v"),E=t._getDragLength(c,b,w,r.vScroller.scrollMinDragLength),p.height(E),S=p.outerHeight(!0)-p.height(),p.height(E-S),x=p.children("span"),x.css("margin-top",(p.height()-x[0].offsetHeight)/2),w<=p.outerHeight(!0)?p.hide():p.show(),t._isDragging==1&&(e(document).trigger("mouseup"),t._isDragging=!1)),t._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(e){var t=this,n=t._fields(),r=e+"TrackLen",i,s,o,u;return n[r]!==undefined?n[r]:(i=n.hbarContainer,s=n.vbarContainer,o=0,u=0,e==="h"&&(u=t._getScrollContainerPadding("h"),o=i.innerWidth()),e==="v"&&(u=t._getScrollContainerPadding("v"),o=s.innerHeight()),n[r]=o-u,n[r])},_getScrollContainerPadding:function(e){var t=this,n=t._fields(),r=0,i,s;if(e==="h")r=t._getScrollContainerPadding("left")+t._getScrollContainerPadding("right");else if(e==="v")r=t._getScrollContainerPadding("top")+t._getScrollContainerPadding("bottom");else{e==="left"||e==="right"?i=n.hbarContainer:i=n.vbarContainer,s=e+"Padding";if(n[s]!==undefined)return r=n[s],r;i&&i.css&&(r=parseFloat(i.css("padding-"+e))),n[s]=r}return r},_triggerScroll:function(e,t,n){var r={position:e,dir:t,animationOptions:n};this._trigger("scroll",null,r)},_contentDragAnimate:function(t,n,r,i,s,o,u){var a=this,f=a.options,l=t==="v",c=l?f.vScroller:f.hScroller,h=l?"outerHeight":"outerWidth",p=l?"innerHeight":"innerWidth",d=l?"contentHeight":"contentWidth",v=l?"top":"left",m=c.scrollMin,g=c.scrollMax,y=g-m,b=c.scrollValue===undefined?m:c.scrollValue-m,w=a._getLargeChange(t),E=y-w+1,S=a._fields(),x=S.contentWrapper,T=S.templateWrapper,N,C,k,L,A,O,M,_,D,P,H,B;b>E&&(b=E),N=(S[d]-x[p]())*(b/E),Math.abs(N)<.001&&(N=0),N=Math.round(N),C=-1,r!==undefined&&(n&&i.is(":animated")&&s!=="nonestop"&&i.stop(!0,!1),k=a._getTrackLen(t),L=i[h](!0),A=k-L,O=a._getScrollContainerPadding(v),C=b/E*A+O),n&&f.animationOptions&&!f.animationOptions.disabled?(C>=0&&u!=="dragging"&&(M=e.extend({},f.animationOptions),M.complete=undefined,_=l?{top:C}:{left:C},i.animate(_,M)),D=e.extend({},f.animationOptions),P=f.animationOptions.complete,D.complete=function(){a._scrollEnd(o,a,t),e.isFunction(P)&&P(arguments)},n&&T.is(":animated")&&s!=="nonestop"&&T.stop(!0,!1),H=l?{top:-N}:{left:-N},f.customScrolling?a._scrollEnd(o,a,t,b):T.animate(H,D),a._triggerScroll(N,t,D)):c.scrollBarVisibility!=="hidden"&&(B=l?"top":"left",C>=0&&u!=="dragging"&&(i[0].style[B]=C+"px"),f.customScrolling||(T[0].style[B]=-N+"px"),a._triggerScroll(N,t),a._scrollEnd(o,a,t,b))},_setDragAndContentPosition:function(e,t,n,r,i){var s=this,o=s._fields(),u=o.hbarContainer,a=o.hbarDrag,f=o.vbarContainer,l=o.vbarDrag;(n==="both"||n==="h")&&o.hScrolling&&s._contentDragAnimate("h",t,u,a,r,e,i),(n==="both"||n==="v")&&o.vScrolling&&s._contentDragAnimate("v",t,f,l,r,e,i),o.intervalID>0&&window.clearInterval(o.intervalID),o.intervalID=window.setInterval(function(){s._disableButtonIfNeeded(s)},500)},_scrolling:function(e,t,n){var r=!0;return e&&(n.beforePosition=t.getContentElement().position(),t._beforePosition=n.beforePosition,r=t._trigger("scrolling",null,n),t.customScroll=n.customScroll),r},_scrollEnd:function(e,t,n,r){e&&window.setTimeout(function(){var e=t.getContentElement(),i,s;if(!e.is(":visible"))return;i=t.getContentElement().position(),s={dir:n,beforePosition:t._beforePosition,afterPosition:i},isNaN(r)||(s.newValue=r),t._trigger("scrolled",null,s)},0)},_getDragLength:function(e,t,n,r){var i=e/t,s=n/i,o=r;return s<o?s=o:s+1>=n&&(s=n-1),Math.round(s)},_needScrollbar:function(e,t){var n=this._hasMode(e,"scrollbar"),r=e.scrollBarVisibility,i=n&&(r==="visible"||r==="auto"&&t);return i},_bindBarEvent:function(t,n,r){var i=this;t.bind("mouseover."+i.widgetName,i,i._scrollerMouseOver),n.draggable({axis:r==="h"?"x":"y",start:function(){i._isDragging=!0},drag:function(e,t){i._dragging(e,t,i)},containment:"parent",stop:function(t){i._dragStop(t,i,r),e(t.target).removeClass("ui-state-active"),i._isDragging=!1}})},_createBarIfNeeded:function(t,n,r,i,s){if(t){var o=this,a,f=o._fields(),l=r+"barContainer",c=r+"barDrag",h=r==="h",p=s[h?"innerHeight":"innerWidth"](),d=f[l]=e(i),v,m;n.append(d),v=d[0][h?"offsetHeight":"offsetWidth"],p-=v,a={direction:h?"horizontal":"vertical",targetBarLen:v,contentLength:p};if(o._trigger(h?"hScrollerActivating":"vScrollerActivating",null,a)===!1)return!1;m=f[c]=d.find("."+u),o._bindBarEvent(d,m,r),s[h?"height":"width"](p)}},_setScrollbarPosition:function(e,t,n,r,i,s,o,u,a,f,l){var c=f==="h",h,p,d,v,m,g,y,b,w;s?(h=r[0][c?"offsetHeight":"offsetWidth"],p=t._getScrollContainerPadding(f),d=c?"top":"left",v=c?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},m=c?{top:h+"px"}:{left:h+"px"},g=c?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},y=c?{top:""}:{left:""},b=n[c?"innerWidth":"innerHeight"](),u===d?(r.css(v),n.css(m),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass("ui-corner-bl").addClass("ui-corner-tl"),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass("ui-corner-br").addClass("ui-corner-tr"),r.removeClass("ui-corner-bottom").addClass("ui-corner-top")):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass("ui-corner-tr").addClass("ui-corner-tl"),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass("ui-corner-br").addClass("ui-corner-bl"),r.removeClass("ui-corner-right").addClass("ui-corner-left"))):(r.css(g),n.css(y),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass("ui-corner-tl").addClass("ui-corner-bl"),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass("ui-corner-bl").addClass("ui-corner-br"),r.removeClass("ui-corner-top").addClass("ui-corner-bottom")):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass("ui-corner-tl").addClass("ui-corner-tr"),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass("ui-corner-bl").addClass("ui-corner-br"),r.removeClass("ui-corner-left").addClass("ui-corner-right"))),w=0,o&&(w=i[0][c?"offsetWidth":"offsetHeight"],a==="left"?r.css("right","0px"):a==="right"?r.css("left","0px"):a==="top"?r.css("bottom","0px"):a==="bottom"&&r.css("top","0px")),!c&&o&&(w=0),r[c?"width":"height"](b-p),t._enableDisableScrollBar(f,r,!l)):e.css(c?"left":"top","")},_testScroll:function(e,t,n){var r=t.templateWrapper,i=t.contentWrapper,s=t.stateContainer,o=i.innerWidth(),u=i.innerHeight(),a=t.contentWidth,f=t.contentHeight,l,p,d,v,m,g;t.hScrolling=a>o,t.vScrolling=f>u,l=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(l,s,"h",c,i)===!1)return!1;l&&!t.vScrolling&&(r.css("float","left"),t.contentHeight=r.height(),t.vScrolling=t.contentHeight>u-t.hbarContainer[0].offsetHeight,r.css("float","")),p=e.vNeedScrollBar=e._needScrollbar(n.vScroller,t.vScrolling);if(e._createBarIfNeeded(p,s,"v",h,i)===!1)return!1;if(p&&!t.hScrolling){r.css("float","left"),t.contentWidth=r.width(),t.hScrolling=t.contentWidth>o-t.vbarContainer[0].offsetWidth,r.css("float","");if(t.hScrolling&&!l){l=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(l,s,"h",c,i)===!1)return!1}}d=t.hbarContainer,v=t.vbarContainer,m=n.hScroller.scrollBarPosition,g=n.vScroller.scrollBarPosition,e._setScrollbarPosition(r,e,i,d,v,l,p,m,g,"h",t.hScrolling),e._setScrollbarPosition(r,e,i,v,d,p,l,g,m,"v",t.vScrolling)},_enableDisableScrollBar:function(e,t,n){e==="v"?(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled"),t.find("."+o)[n?"addClass":"removeClass"](r)):e==="h"&&(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled"),t.find("."+o)[n?"addClass":"removeClass"](r)),t.children("."+u)[n?"hide":"show"]()},_initResizer:function(){var t=this,n=t.options,r=t._fields(),i=r.resizer,s,o;!i&&n.allowResize&&(s=n.resizableOptions,o=s.stop,s.stop=function(n){t._resizeStop(n,t),e.isFunction(o)&&o(n)},r.resizer=i=t.element.resizable(s)),!n.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resizeStop:function(e,t){!this.options.autoRefresh&&t.paintPanel(!0),t._trigger("resized")},_createAdditionalDom:function(t,n,r){r.attr("tabindex")||(r.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=e(l),s;n.contentWrapper=i.children(),s=n.templateWrapper=n.contentWrapper.children(),r.contents().each(function(t,r){var i=e(r);if(i.hasClass("wijmo-wijsuperpanel-header")){n.header=i;return}if(i.hasClass("wijmo-wijsuperpanel-footer")){n.footer=i;return}s[0].appendChild(r)}),n.header!==undefined&&r.prepend(n.header),r[0].appendChild(i[0]),n.footer!==undefined&&n.footer.insertAfter(i)},_setRounder:function(t,r){if(this.options.showRounder){r.addClass(n);if(t._rounderAdded)return;if(e.browser.msie)return;var i,s,o,u;i=s="",e.browser.webkit?(s="WebkitBorderTopLeftRadius",i="WebkitBorderRadius"):e.browser.mozilla?(s="MozBorderRadiusBottomleft",i="MozBorderRadius"):(s="border-top-left-radius",i="border-radius"),o=r.css(s),u=parseInt(o,10),r.css(i,u+1),t._rounderAdded=!0,t._radiusKey=i}else r.removeClass(n)},_setInnerElementsSize:function(e,t){var n=e.stateContainer,r=e.contentWrapper,i=0,s,o,u,a;e.header!==undefined&&(i+=e.header.outerHeight()),e.footer!==undefined&&(i+=e.footer.outerHeight()),s=n[0].style,o=t.innerHeight()-i,u=t.innerWidth(),s.display="none",s.height=o+"px",s.width=u+"px",a=r[0].style,a.height=o+"px",a.width=u+"px",s.display=""}})}(jQuery),function(e){"use strict";e.widget("wijmo.wijtextbox",{options:{},_create:function(){var t=this,n=t.element,r={input:!0,textarea:!0},i={text:!0,password:!0,email:!0,url:!0},s=n.get(0).nodeName.toLowerCase();window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e));if(!r.hasOwnProperty(s))return;if(s==="input"&&t.element.attr("type")&&!i.hasOwnProperty(t.element.attr("type").toLowerCase()))return;n.addClass("wijmo-wijtextbox ui-widget ui-state-default ui-corner-all"),t.element.bind("mouseover."+t.widgetName,function(){n.addClass("ui-state-hover")}).bind("mouseout."+t.widgetName,function(){n.removeClass("ui-state-hover")}).bind("mousedown."+t.widgetName,function(){n.addClass("ui-state-active")}).bind("mouseup."+t.widgetName,function(){n.removeClass("ui-state-active")}).bind("focus."+t.widgetName,function(){n.addClass("ui-state-focus")}).bind("blur."+t.widgetName,function(){n.removeClass("ui-state-focus")}),n.is(":disabled")?(t._setOption("disabled",!0),n.addClass("ui-state-disabled")):(t._setOption("disabled",!1),n.removeClass("ui-state-disabled"))},destroy:function(){var t=this;t.element.removeClass("ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active wijmo-wijtextbox").unbind("."+t.widgetName),e.Widget.prototype.destroy.apply(t)}})}(jQuery),function(e){"use strict";e.widget("wijmo.wijdropdown",{options:{zIndex:1e3,showingAnimation:{effect:"blind"},hidingAnimation:{effect:"blind"}},hoverClass:"ui-state-hover",activeClass:"ui-state-active",focusClass:"ui-state-focus",_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t==="disabled"&&(this._labelWrap.toggleClass("ui-state-disabled",n),this._label.toggleClass("ui-state-disabled",n),this.element.attr("disabled",n?"disabled":""))},_create:function(){var t=this,n=t.element;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e));if(n.get(0).tagName.toLowerCase()!=="select")return;n.is(":visible")?(t._activeItem=null,t._createSelect(),t._bindEvents(),t.needInit=!1):t.needInit=!0,t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t.refresh(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijdropdown")},_createSelect:function(){var t=this,n=t.element,r=n.width(),i=r,s=n.wrap("<div></div>").parent().addClass("ui-helper-hidden"),o=s.wrap("<div></div>").parent().attr("role","select").addClass("wijmo-wijdropdown ui-widget ui-widwijmo-wijdropdownt-content ui-state-default ui-corner-all ui-helper-clearfix"),u=e('<label class="wijmo-dropdown-label ui-corner-all"></label>').attr("id",n.get(0).id+"_select").attr("name",n.attr("name")||""),f=e("<div></div>").addClass("wijmo-dropdown-trigger ui-state-default ui-corner-right"),l=e('<a href="#"></a>'),c=e("<div>").addClass("wijmo-dropdown"),h=e("<ul></ul>").addClass("wijmo-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset").appendTo(c);e("<span></span>").addClass("ui-icon ui-icon-triangle-1-s").appendTo(f),r=Math.max(r,o.width()),n.get(0).tabIndex!==""&&l.attr("tabindex",n.attr("tabindex")),n.get(0).disabled!==!1&&(t.options.disabled=!0),t.options.disabled&&(l.addClass("ui-state-disabled"),u.addClass("ui-state-disabled")),l.append(u),o.append(s).append(l).append(f).append(c),i+=parseInt(u.css("padding-left").replace(/px/,""),10),i+=parseInt(u.css("padding-right").replace(/px/,""),10),i-=16,o.width(i),t._buildList(h,c,i),t._rightTrigger=f,t._label=u,t._listContainer=c,t._list=h,t._value=n.val(),t._selectedIndex=e("option",n).index(n.find("option:selected")),t._selectWrap=s,t._labelWrap=l,t._container=o,o.attr("title",n.attr("title")),n.removeAttr("title")},_buildList:function(t,n,r){var i=this,s=i.element,o;n.show(),s.children().each(function(n,r){var s=e(r),o,u,f;s.is("option")?t.append(i._buildItem(s)):(o=e('<li class="wijmo-dropdown-optgroup"></li>'),u=e("<span>"+s.attr("label")+"</span>").addClass("wijmo-optgroup-header ui-priority-primary"),f=e("<ul></ul>").addClass("ui-helper-reset wijmo-dropdown-items"),s.children("option").each(function(){f.append(i._buildItem(e(this)))}),o.append(u).append(f),t.append(o))}),n.height(""),o=n.height(),o=t.outerHeight()<o?t.outerHeight():o,n.css({height:o,width:r}),e.browser.msie&&/^[8]\.[0-9]+/.test(e.browser.version)?t.setOutWidth(t.parent().parent().innerWidth()-19):t.setOutWidth(t.parent().parent().innerWidth()-18),n.data("wijsuperpanel")?(n.wijsuperpanel("paintPanel"),i.superpanel=n.data("wijsuperpanel")):i.superpanel=n.wijsuperpanel().data("wijsuperpanel"),e.fn.bgiframe&&i.superpanel.element.bgiframe(),i.superpanel.vNeedScrollBar||(e.browser.msie&&/^[8]\.[0-9]+/.test(e.browser.version)?t.setOutWidth(t.parent().parent().innerWidth()-1):t.setOutWidth(t.parent().parent().innerWidth()),i.superpanel.refresh()),n.hide()},_handelEvents:function(e){var t=this,n="."+t.widgetName,r=t.element;e.bind("click"+n,function(n){if(t.options.disabled)return;t._listContainer.is(":hidden")?t._show():t._hide(),r.click(),e.get(0)===t._label.get(0)?n.preventDefault():t._labelWrap.focus()}).bind("mouseover"+n,function(){if(t.options.disabled)return;t._label.addClass(t.hoverClass),t._rightTrigger.addClass(t.hoverClass),r.trigger("mouseover")}).bind("mouseout"+n,function(){if(t.options.disabled)return;t._label.removeClass(t.hoverClass),t._rightTrigger.removeClass(t.hoverClass),r.trigger("mouseout")}).bind("mousedown"+n,function(){if(t.options.disabled)return;t._label.addClass(t.activeClass),t._rightTrigger.addClass(t.activeClass),r.trigger("mousedown")}).bind("mouseup"+n,function(){if(t.options.disabled)return;t._label.removeClass(t.activeClass),t._rightTrigger.removeClass(t.activeClass),r.trigger("mouseup")})},_bindEvents:function(){var t=this,n="."+t.widgetName,r=t._label,i=t._rightTrigger,s=t._labelWrap,o=t._listContainer,u=t.element,f=!1,l;t._handelEvents(t._label),t._handelEvents(t._rightTrigger),e(document).bind("click"+n,function(e){if(o.is(":hidden"))return;l=o.offset();if(e.target===r.get(0)||e.target===i.get(0)||e.target===i.children().get(0))return;(e.pageX<l.left||e.pageX>l.left+o.width()||e.pageY<l.top||e.pageY>l.top+o.height())&&t._hide()}),o.bind("click"+n,function(n){var r=e(n.target);r.closest("li.wijmo-dropdown-item",e(this)).length>0&&(t._setValue(),o.css("z-index",""),e.browser.msie&&/^[6,7].[0-9]+/.test(e.browser.version)&&o.parent().css("z-index",""),o.hide(),t._setValueToEle()),u.click()}),s.bind("keydown"+n,function(n){if(t.options.disabled)return;var r=e.ui.keyCode;switch(n.which){case r.UP:case r.LEFT:t._previous(),t._setValue(),t._setValueToEle();break;case r.DOWN:case r.RIGHT:t._next(),t._setValue(),t._setValueToEle();break;case r.PAGE_DOWN:t._nextPage(),t._setValue(),t._setValueToEle();break;case r.PAGE_UP:t._previousPage(),t._setValue(),t._setValueToEle();break;case r.ENTER:case r.NUMPAD_ENTER:t._setValue(),t._listContainer.hide(),t._setValueToEle()}n.which!==r.TAB&&n.preventDefault(),u.trigger("keydown")}).bind("focus"+n,function(){if(t.options.disabled)return;r.addClass(t.focusClass),i.addClass(t.focusClass),u.focus()}).bind("blur"+n,function(){if(t.options.disabled)return;r.removeClass(t.focusClass),i.removeClass(t.focusClass),u.trigger("blur")}).bind("keypress"+n,function(){if(t.options.disabled)return;u.trigger("keypress")}).bind("keyup"+n,function(){if(t.options.disabled)return;u.trigger("keyup")}),f=/chrome/.test(navigator.userAgent.toLowerCase()),(f||e.browser.safari)&&i.bind("mouseout"+n,function(){if(t.options.disabled)return;r.removeClass(t.focusClass),i.removeClass(t.focusClass)})},_init:function(){var e=this;e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())},_buildItem:function(t){var n=t.val(),r=t.text(),i=this,s;return r===""&&(r="&nbsp;"),s=e('<li class="wijmo-dropdown-item ui-corner-all"><span>'+r+"</span></li>").mousemove(function(t){var n=e(t.target).closest(".wijmo-dropdown-item");n!==this.last&&i._activate(e(this)),this.last=e(t.target).closest(".wijmo-dropdown-item")}).attr("role","option"),s.data("value",n),s},_show:function(){var t=this,n=t._listContainer,r=t.options.showingAnimation;n.css("z-index","100000"),e.browser.msie&&/^[6,7]\.[0-9]+/.test(e.browser.version)&&n.parent().css("z-index","99999"),r?n.show(r.effect,r.options,r.speed,function(){t._initActiveItem()}):n.show()},_hide:function(){var t=this,n=t._listContainer,r=t.options.hidingAnimation;if(n.is(":hidden"))return;r?n.hide(r.effect,r.options,r.speed,function(){e.isFunction(r.callback)&&r.callback.apply(t,arguments),e.browser.msie&&/^[6,7]\.[0-9]+/.test(e.browser.version)&&n.parent().css("z-index",""),n.css("z-index","")}):(e.browser.msie&&e.browser.version==="6.0"&&n.parent().css("z-index",""),n.css("z-index",""),n.hide())},_setValue:function(){var t=this,n=t._listContainer,r,i;t._activeItem&&(t._label.text(t._activeItem.text()),t._value=t._activeItem.data("value"),t._selectedIndex=e("li.wijmo-dropdown-item",n).index(t._activeItem),t.superpanel.vNeedScrollBar&&(r=t._activeItem.offset().top,i=t._activeItem.outerHeight(),n.offset().top>r?n.wijsuperpanel("scrollTo",0,r-t._list.offset().top):n.offset().top<r+i-n.innerHeight()&&n.wijsuperpanel("scrollTo",0,r+i-n.height()-t._list.offset().top)))},_setValueToEle:function(){var t=this,n=t.element,r=n.find(":selected"),i=e("option",n).index(r),s=t._selectedIndex;i!==s&&(e.browser.mozilla&&n.val(t._value),r.removeAttr("selected"),n.find("option:eq("+s+")").attr("selected",!0),n.trigger("change"))},_initActiveItem:function(){var t=this;if(t._value!==undefined){if(t._selectedIndex===-1){t._activate(t._list.find("li.wijmo-dropdown-item").eq(0));return}t._list.find("li.wijmo-dropdown-item").each(function(n){if(n===t._selectedIndex)return t._activate(e(this)),!1})}},_activate:function(e){var t=this;t._deactivate(),t._activeItem=e,t._activeItem.addClass(t.hoverClass).attr("aria-selected",!0)},_deactivate:function(){var e=this;e._activeItem&&e._activeItem.removeClass(e.hoverClass).attr("aria-selected",!1)},_next:function(){this._move("next","first")},_previous:function(){this._move("prev","last")},_nextPage:function(){this._movePage("first")},_previousPage:function(){this._movePage("last")},refresh:function(){var t=this,n=t.element,r;if(t.needInit)t.element.is(":visible")&&(t._activeItem=null,t._createSelect(),t._bindEvents(),t._init(),t.needInit=!1);else{if(!t._list)return;t._listContainer.show(),t._selectWrap.removeClass("ui-helper-hidden"),r=t.element.width(),r+=parseInt(t._label.css("padding-left").replace(/px/,""),10),r+=parseInt(t._label.css("padding-right").replace(/px/,""),10),r-=16,t._container.width(r),t._selectWrap.addClass("ui-helper-hidden"),t._list.empty(),t._buildList(t._list,t._listContainer,r),t._value=t.element.val(),t._selectedIndex=e("option",n).index(n.find("option:selected")),t._initActiveItem(),t._activeItem&&t._label.text(t._activeItem.text())}},_move:function(e,t){var n=this,r,i;if(!n._activeItem){n._activate(n._list.find(".wijmo-dropdown-item:"+t));return}r=n._activeItem[e]().eq(0),r.length?i=n._getNextItem(r,e,t):n._activeItem.closest(".wijmo-dropdown-optgroup").length&&(i=n._getNextItem(n._activeItem.closest(".wijmo-dropdown-optgroup")[e](),e,t)),i&&i.length?n._activate(i):n._activate(n._list.find(".wijmo-dropdown-item:"+t))},_movePage:function(t){var n=this,r,i,s,o=t==="first"?"last":"first";n.superpanel.vNeedScrollBar?(r=n._activeItem.offset().top,i=n.options.height,s=n._list.find(".wijmo-dropdown-item").filter(function(){var n=e(this).offset().top-r+(t==="first"?-i:i)+e(this).height(),s=e(this).height();return n<s&&n>-s}),s.length||(s=n._list.find(".wijmo-dropdown-item:"+o)),n._activate(s)):n._activate(n._list.find(".wijmo-dropdown-item:"+(n._activeItem?o:t)))},_getNextItem:function(e,t,n){if(e.length){if(!e.is(".wijmo-dropdown-optgroup"))return e;if(!!e.find(">ul>li.wijmo-dropdown-item").length)return e.find(">ul>li.wijmo-dropdown-item:"+n).eq(0);this._getNextItem(e[t]().eq(0))}},destroy:function(){this.element.attr("title",this._container.attr("title")),this.element.closest(".wijmo-wijdropdown").find(">div.wijmo-dropdown-trigger,>div.wijmo-dropdown,>a").remove(),this.element.unwrap().unwrap().removeData("maxZIndex"),e.Widget.prototype.destroy.apply(this)}})}(jQuery),function(e){"use strict";var t=0;e.widget("wijmo.wijcheckbox",{_csspre:"wijmo-checkbox",options:{checked:null,changed:null},_init:function(){var n=this,r=n.element,i=n.options,s,o,u,f,l;r.is(":checkbox")&&(r.attr("id")||(r.attr("id",n._csspre+t),t+=1),r.parent().is("label")?(s=r.parent().wrap("<div class='"+n._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(n._csspre+" ui-widget"),o=r.parent(),o.attr("for",r.attr("id")),s.find("."+n._csspre+"-inputwrapper").append(r),s.append(o)):s=r.wrap("<div class='"+n._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(n._csspre+" ui-widget"),u=e("label[for='"+r.attr("id")+"']"),u.length>0&&(s.append(u),u.attr("labelsign","C1")),r.is(":disabled")&&n._setOption("disabled",!0),f=e("<div class='"+n._csspre+"-box ui-widget ui-state-"+(i.disabled?"disabled":"default")+" ui-corner-all'><span class='"+n._csspre+"-icon'></span></div>"),l=f.children("."+n._csspre+"-icon"),s.append(f),r.data("iconElement",l),r.data("boxElement",f),r.data("checkboxElement",s),f.removeClass(n._csspre+"-relative").attr("role","checkbox").bind("mouseover",function(){r.mouseover()}).bind("mouseout",function(){r.mouseout()}),(u.length===0||u.html()==="")&&f.addClass(n._csspre+"-relative"),r.bind("click.checkbox",function(e){if(i.disabled)return;n.refresh(e),n._trigger("changed",null,{checked:n.options.checked})}).bind("focus.checkbox",function(){if(i.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.checkbox",function(){if(i.disabled)return;f.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")}).bind("keydown.checkbox",function(e){if(e.keyCode===32){if(i.disabled)return;n.refresh()}}),f.bind("click.checkbox",function(e){if(i.disabled)return;r.get(0).checked=!r.get(0).checked,r.change(),r.focus(),n.refresh(e),n._trigger("changed",null,{checked:n.options.checked})}),n._initCheckState(),n.refresh(),s.bind("mouseover.checkbox",function(){if(i.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.checkbox",function(){if(i.disabled)return;f.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")}),s.attr("title",r.attr("title")))},_create:function(){window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e))},_setOption:function(t,n){var r=this,i=r.options.checked;e.Widget.prototype._setOption.apply(this,arguments),t==="checked"&&(r.element.get(0).checked=n,r.refresh(),i!==n&&r._trigger("changed",null,{checked:n}))},_initCheckState:function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},refresh:function(e){var t=this,n=t.options;n.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass("ui-icon ui-icon-check",t.element.get(0).checked),t.element.data("boxElement").toggleClass("ui-state-active",t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass("ui-state-checked",t.element.get(0).checked),e&&e.stopPropagation()},destroy:function(){var t=this,n=t.element.parent().parent();n.children("div."+t._csspre+"-box").remove(),t.element.unwrap(),t.element.unwrap(),e.Widget.prototype.destroy.apply(t)}})}(jQuery),function(e){"use strict";var t=0;e.widget("wijmo.wijradio",{_radiobuttonPre:"wijmo-wijradio",options:{checked:null,changed:null},_create:function(){var n=this,r=n.element,i,s,o,u,f,l;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),r.is(":radio")&&(r.attr("id")||(r.attr("id","wijmo-radio-"+t),t+=1),r.parent().is("label")?(s=r.parent().wrap("<div class='"+n._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(n._radiobuttonPre+" ui-widget"),o=r.parent(),o.attr("for",r.attr("id")),s.find("."+n._radiobuttonPre+"-inputwrapper").append(r),s.append(o)):s=r.wrap("<div class='"+n._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(n._radiobuttonPre+" ui-widget"),u=e("label[for='"+r.attr("id")+"']"),u.length>0&&(s.append(u),u.attr("labelsign","wij")),r.is(":disabled")&&n._setOption("disabled",!0),f=e("<div class='"+n._radiobuttonPre+"-box ui-widget "+(n.options.disabled?"ui-state-disabled":"ui-state-default")+" ui-corner-all'><span class='"+n._radiobuttonPre+"-icon'></span></div>"),l=f.children("."+n._radiobuttonPre+"-icon"),s.append(f),l.addClass("ui-icon ui-icon-radio-on"),r.data("iconElement",l),r.data("boxElement",f),r.data("radiobuttonElement",s),f.removeClass(n._radiobuttonPre+"-relative").attr("role","radio").bind("mouseover",function(){r.mouseover()}).bind("mouseout",function(){r.mouseout()}),(u.length===0||u.html()==="")&&f.addClass(n._radiobuttonPre+"-relative"),n._setDefaul(),r.bind("click.radio",function(){if(n.options.disabled)return;i=n.options.checked,n._refresh(),i!==n.element.is(":checked")&&n._trigger("changed",null,{checked:n.options.checked})}).bind("focus.radio",function(){if(n.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.radio",function(){if(n.options.disabled)return;f.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")}),s.click(function(){if(n.options.disabled)return;if(u.length===0||u.html()==="")i=n.options.checked,r.attr("checked",!0),n._refresh(),r.change(),i!==n.element.is(":checked")&&n._trigger("changed",null,{checked:n.options.checked})}),s.bind("mouseover.radio",function(){if(n.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.radio",function(){if(n.options.disabled)return;f.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")}),s.attr("title",r.attr("title")))},_setOption:function(t,n){var r=this,i=r.options.checked;e.Widget.prototype._setOption.apply(this,arguments),t==="checked"&&(r.element.attr("checked",n),r._refresh(),i!==n&&r._trigger("changed",null,{checked:n}))},_setDefaul:function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&this.element.attr("checked",t.checked),this.element.attr("checked")&&(this.element.parents(".wijmo-wijradio").find("."+this._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-off"),this.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass("ui-state-checked"))},_refresh:function(){var t=this.element.attr("name")||"",n=this,r;if(t==="")return;e("[name='"+t+"']").each(function(t,i){e(i).parents(".wijmo-wijradio").find("."+n._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-on"),e(i).parents(".wijmo-wijradio").find("."+n._radiobuttonPre+"-box").removeClass("ui-state-active").addClass("ui-state-default").attr("aria-checked",!1),e(i).parents(".wijmo-wijradio").removeClass("ui-state-checked"),r=e(i).parents(".wijmo-wijradio").find(":radio"),r.wijradio("option","checked")&&r[0]!==n.element[0]&&r.wijradio("setCheckedOption",!1)}),n.element.is(":checked")&&(n.element.data("iconElement").removeClass("ui-icon-radio-on").addClass("ui-icon-radio-off"),n.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",!0),n.element.data("radiobuttonElement").addClass("ui-state-checked")),n.options.checked=n.element.is(":checked")},setCheckedOption:function(e){var t=this,n=t.options;n.checked!==null&&n.checked!==e&&(n.checked=e,t._trigger("changed",null,{checked:e}))},refresh:function(){this._refresh()},destroy:function(){var t=this,n=t.element.parent().parent();n.children("div."+t._radiobuttonPre+"-box").remove(),t.element.unwrap(),t.element.unwrap(),e.Widget.prototype.destroy.apply(t)}})}(jQuery),function(e){"use strict";var t="ui-widget ui-widget-content ui-corner-all wijmo-wijlist",n="wijmo-wijlist-item",r=n+"-alternate",i=n+"-selected",s=n+"-first",o=n+"-last",u="ui-state-hover",a="ui-state-active",f="wijmo-wijlistitem-active",l=i+" "+a,c="item.wijlist";e.widget("wijmo.wijlist",{options:{dataSource:null,listItems:[],selected:null,selectionMode:"single",autoSize:!1,maxItemsCount:5,addHoverItemClass:!0,superPanelOptions:null,disabled:!1,focusing:null,focus:null,blur:null,itemRendering:null,itemRendered:null,listRendered:null,keepHightlightOnMouseLeave:!1},removeAll:function(){var e=this;e.items=[],e._refresh()},addItem:function(e,t){var n=this;n._checkData(),t===null||t===undefined?n.items.push(e):n.items&&n.items.splice(t,0,e),n._refresh()},removeItem:function(e){var t=this,n;t._checkData(),n=t.indexOf(e),n>=0&&t.removeItemAt(n)},indexOf:function(e){var t=this,n=-1,r=0,i;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e.label&&i.value===e.value){n=r;break}}return n},findIndexByLabel:function(e){var t=this,n=-1,r=0,i;if(e===null||e===undefined)return n;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e){n=r;break}}return n},removeItemAt:function(e){var t=this;t._checkData(),t.items.splice(e,1),t._refresh()},_checkData:function(){var e=this;e.items||(e.items=[])},_refresh:function(){var e=this;e.renderList(),e.refreshSuperPanel()},_setOption:function(t,n){var r=this,i,s,o;e.Widget.prototype._setOption.apply(r,arguments),t==="disabled"?r._handleDisabledOption(n,r.element):t==="selectionMode"?(i=r.selectedItem,i&&(i.selected=!1,i.element&&i.element.removeClass(l),r.selectedItem=undefined),e.each(r.selectedItems,function(e,t){t.selected=!1,t.element.removeClass(l)}),r.selectedItem=[]):t==="listItems"?(s=r._isBind(),s?(o=r._getRenderItems(),r.setItems(o)):r.setItems(n),r.renderList(),r.refreshSuperPanel()):t==="dataSource"?(s=r._isBind(),s&&(o=r._getRenderItems(),r.setItems(o),r.renderList(),r.refreshSuperPanel())):(t==="autoSize"||t==="maxItemsCount")&&r.refreshSuperPanel()},_create:function(){var n=this,r=this.element,i=this.options,s;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),r.addClass(t).attr({role:"listbox","aria-activedescendant":f,"aria-multiselectable":i.selectionMode==="multiple"}).bind("click."+n.widgetName,n,n._onListClick),r.is("div")&&r.children().is("ul")&&(n._isInnerData=!0,n._templates=[],e.each(e("ul > li",r),function(e,t){n._templates.push({templateHtml:t.innerHTML})}),n._oriChildren=r.children().hide()),n.ul=e("<ul class='wijmo-wijlist-ul'></ul>").appendTo(r),i.listItems!==null&&(s=n._getRenderItems(),s&&(n.setItems(s),n.renderList(),n.refreshSuperPanel())),n.element.is(":hidden")&&n.element.wijAddVisibilityObserver&&n.element.wijAddVisibilityObserver(function(){n.refreshSuperPanel(),n.element.wijRemoveVisibilityObserver&&n.element.wijRemoveVisibilityObserver()},"wijlist"),i.disabled&&n.disable()},_isBind:function(){var e=this.options,t=e.listItems;return t!==null&&t.label&&t.label.bind?!0:!1},_getRenderItems:function(){var t=this.options,n=t.listItems;return n!==null?e.isArray(n)&&n.length>0&&typeof n[0].label=="string"?n:n.label&&n.label.bind?this._getMappingItems():null:null},_getMappingItems:function(){var t=this.options,n=t.dataSource,r=t.listItems,i,s,o;return!n||!r?null:!r.label||!r.label.bind||!r.value||!r.value.bind?null:(s=r.label.bind,o=r.value.bind,n&&n.length!==0?(i=[],e.each(n,function(e,t){i.push({label:t[s],value:t[o]})}),i):null)},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(t){var n=this,r=t||n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},setTemplateItems:function(e){this._setItemsByExtend(e,!0)},setItems:function(e){this._setItemsByExtend(e,!1)},_setItemsByExtend:function(t,n){var r=this,i;if(n){if(r._templates&&t&&t.length!==r._templates.length)return;r.items=t,r.items||(r.items=[]),e.each(r._templates,function(e){r.items[e]?r.items[e].templateHtml=r._templates[e].templateHtml:r.items.push({templateHtml:r._templates[e].templateHtml,label:t[e].label,value:t[e].value})})}else r.items=t;if(!t)return null;i=e.grep(t,function(e){return e.selected}),r.options.selectionMode==="single"?(r.selectedItems=[],r.selectedItem=i.length>0?i[0]:undefined):r.selectedItems=i},filterItems:function(t,n,r){var i=this,s=i._escapeRegex(t),o,u,a="",f=null,c=!1,h=null;if(!this.items)return null;e("li[wijhidden].wijmo-wijlist-item",i.element)&&e("li[wijhidden].wijmo-wijlist-item",i.element).length>0&&(c=!0),e("span.ui-priority-primary",i.element)&&e("span.ui-priority-primary",i.element).length>0&&(c=!0);if(!c&&(!t||t.length===0)){e.each(this.items,function(e,t){t.selected?(i.activate(null,t,!1),t.element&&t.element.addClass(l),i.selectedItem=t):t.element&&t.element.hasClass(l)&&t.element.removeClass(l)});return}return o=new RegExp(s,"i"),e.each(this.items,function(t,f){u=f.label,f.templateHtml?u=f.templateHtml:f.text!==undefined&&(u=f.text),e("span.ui-priority-primary",f.element).length>0&&f.element.empty().append(u);var c=o.exec(f.label);c===null&&n?(f.element.hide(),f.element.attr("wijhidden","wijhidden")):(f.selected?(i.activate(null,f,!1),f.element.addClass(l),i.selectedItem=f):f.element.hasClass(l)&&f.element.removeClass(l),r&&(a=u.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+s+")(?![^<>]*>)(?![^&;]+;)","gi"),"<span class='ui-priority-primary'>$1</span>"),f.element.html(a)),f.element.is(":visible")||(f.element.show(),f.element.removeAttr("wijhidden")),s!==undefined&&s.length!==0&&h===null&&c&&c.index===0&&(h=f))}),h},popItem:function(){var e=this;e._checkData(),e.items.pop(),e._refresh()},getList:function(){return this.ul},_onListClick:function(t){if(!e(t.target).closest(".wijmo-wijlist-item").length)return;var n=t.data;n.select(t)},destroy:function(){var n=this,r=this.element;n.superPanel!==undefined&&n.superPanel.destroy(),r.removeClass("wijmo-wijobserver-visibility").removeClass(t).removeAttr("role").removeAttr("aria-activedescendant").unbind("."+n.widgetName),n.ul.remove(),n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null),n._isInnerData&&n._oriChildren.show(),e.Widget.prototype.destroy.apply(n,arguments)},activate:function(e,t,n){var r=this,i,s;r.deactivate();if(t===null||t===undefined)return;if(r._trigger("focusing",e,t)===!1)return;i=r.active=t,s=t.element,s&&(r.options.addHoverItemClass&&s.addClass(u),s.attr("id",f)),n&&r.superPanel!==undefined&&r.superPanel.scrollChildIntoView(s),r.element.is(":visible")&&r._trigger("focus",e,t)},deactivate:function(){var e=this,t=e.active,n;if(!t)return;n=t.element,e._trigger("blur",null,t),n&&n.removeClass(u).removeAttr("id"),e.active=undefined},next:function(e){this.move("next","."+n+":first",e)},nextPage:function(){this.superPanel.doScrolling("bottom",!0)},previous:function(e){this.move("prev","."+n+":last",e)},previousPage:function(){this.superPanel.doScrolling("top",!0)},first:function(){return this.active&&!this.active.element.prev().length},last:function(){return this.active&&!this.active.element.next().length},move:function(e,t,r){var i=this,s,o;if(!i.active){s=i.ul.children(":visible"+t).data(c),i.activate(r,s,!0);return}o=i.active.element[e+"All"](":visible."+n).eq(0),o.length?i.activate(r,o.data(c),!0):i.activate(r,i.element.children(t).data(c),!0)},select:function(t,n){var r=this,i,s,o,u,a;if(r.active===undefined)return;i=r.active.element;if(i===undefined||i.attr("wijhidden"))return;o=i.data(c);if(!o)return;u=r.options.selectionMode==="single",u?(a=r.selectedItem,i.addClass(l).attr("aria-selected","true"),o.selected=!0,a!==undefined&&o!==a&&(a.selected=!1,a.element&&a.element.removeClass(l).removeAttr("aria-selected")),r.selectedItem=o,s=e.inArray(o,r.items),r._trigger("selected",t,{item:o,previousItem:a,selectedIndex:s,data:n})):(o.selected=!o.selected,o.selected?i.addClass(l).attr("aria-selected","true"):i.removeClass(l).removeAttr("aria-selected","true"),s=[],r.selectedItems=e.grep(r.items,function(e,t){return e.selected&&s.push(t),e.selected}),r._trigger("selected",t,{selectedIndex:s,item:o,selectedItems:r.selectedItems}))},_findItemsByValues:function(t){var n,r=[];return r=e.grep(this.items,function(e){n=!1;for(var r=0;r<t.length;r++)e.value===t[r]&&(n=!0);return n}),r},_findItemsByIndices:function(t){var n=this,r=this.items.length,i=[];return e.each(t,function(e,t){t>=0&&t<r&&i.push(n.items[t])}),i},getItems:function(t){var n=this,r,i,s,o;return i=e.isArray(t),r=!i&&typeof t=="number"||i&&typeof t[0]=="number",s=i?t:[t],o=r?n._findItemsByIndices(s):n._findItemsByValues(s),o},selectItems:function(t,n){var r=this,i=this.options.selectionMode==="single",s,o,u;u=r.getItems(t),i?(u.length>0&&(s=u[0],s.selected=!0,s.element.addClass(l)),o=r.selectedItem,o&&(o.selected=!1,o.element.removeClass(l)),r.selectedItem=s,n&&r._trigger("selected",null,{item:s,previousItem:o})):(e.each(u,function(e,t){t.selected=!0,t.element.addClass(l)}),r.selectedItems=e.grep(r.items,function(e){return e.selected}),n&&r._trigger("selected",null,{selectedItems:r.selectedItems}))},unselectItems:function(t){var n=this,r=this.options.selectionMode,i,s;r==="single"?(i=n.selectedItem,i&&(i.selected=!1,i.element.removeClass(l),n.selectedItem=undefined)):(s=n.getItems(t),e.each(s,function(e,t){t.selected=!1,t.element.removeClass(l)}),n.selectedItems=e.grep(n.items,function(e){return e.selected}))},renderList:function(){var t=this,n=this.ul,r=this.options,i,u,a,f,l,c;n.empty(),i=t.items;if(i===undefined)return;u=i.length;if(i===undefined||i===null&&u===0)return;a=r.selectionMode==="single",c=[];for(f=0;f<u;f++)l=i[f],c.push(t._renderItem(n,l,f,a));e(c).appendTo(n),u>0&&(i[0].element&&i[0].element.addClass(s),i[u-1].element&&i[u-1].element.addClass(o)),t._trigger("listRendered",null,t)},_renderItem:function(t,n,i){var s=this,o=e("<li role='option' class='wijmo-wijlist-item ui-corner-all'></li>"),u,a;n.element=o,n.list=s;if(s._trigger("itemRendering",null,n)===!1)return;return u=n.label,n.title&&o.attr("title",n.title),n.templateHtml?u=n.templateHtml:n.text!==undefined&&(u=n.text),o.bind("mouseover",function(e){s.activate(e,n,!1)}).bind("mouseout",function(){!s.options.keepHightlightOnMouseLeave&&s.deactivate()}).data(c,n).append(u),s._isInnerData||(a=n.imageUrl,a!==undefined&&a.length>0&&o.prepend("<img src='"+n.imageUrl+"'>")),n.selected&&(s.activate(null,n,!1),o.addClass(l)),i%2===1&&o.addClass(r),s._trigger("itemRendered",null,n),o},_escapeRegex:function(e){return e===undefined?e:e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},adjustOptions:function(){var e=this.options,t;if(e.data!==null)for(t=0;t<e.listItems.length;t++)delete e.listItems[t].element,delete e.listItems[t].list;return e},refreshSuperPanel:function(){var t=this,n=this.element,r=this.options,i=this.ul,s=i.children(".wijmo-wijlist-item:first"),o,u,a,f=null,l,c,h,p,d,v,m;if(!n.is(":visible"))return!1;u=i.outerHeight(),a=n.innerWidth(),r.autoSize&&(f=s.outerHeight(!0)*r.maxItemsCount),f!==null&&n.height(Math.min(f,u)),l=n.innerHeight(),c=l/(u-l),d=101*c/(1+c),h=s.outerHeight()/(u-l)*(101-d),t.superPanel===undefined?(v={allowResize:!1,keyboardSupport:!1,bubbleScrollingEvent:!0,hScroller:{scrollBarVisibility:"hidden"},vScroller:{scrollSmallChange:h,scrollLargeChange:d}},e.extend(v,r.superPanelOptions),t.superPanel=n.wijsuperpanel(v).data("wijsuperpanel"),t.superPanel.vNeedScrollBar&&(i.setOutWidth(a-18),t.superPanel.refresh())):(p=t.superPanel.options.vScroller,p.scrollLargeChange=d,p.scrollSmallChange=h,t.superPanel.paintPanel(),t.superPanel.vNeedScrollBar?(i.setOutWidth(a-18),t.superPanel.refresh()):(i.setOutWidth(n.outerWidth()),o=n.children(".wijmo-wijsuperpanel-header").outerHeight(),o!==null&&o!==undefined&&n.height(u+o),t.superPanel.refresh())),m=i.css("padding-top"),m.length>0?(p=t.superPanel.options.vScroller,p.firstStepChangeFix=t.superPanel.scrollPxToValue(parseFloat(m),"v")):p.firstStepChangeFix=0,i.setOutWidth(i.parent().parent().innerWidth())}})}(jQuery),function(e){"use strict";var t={general:0,weekEnd:1,otherMonth:2,outOfRange:4,today:8,custom:16,disabled:32,selected:64,gap:128};e.widget("wijmo.wijcalendar",{options:{culture:"",monthCols:1,monthRows:1,titleFormat:"MMMM yyyy",showTitle:!0,displayDate:undefined,dayRows:6,dayCols:7,weekDayFormat:"short",showWeekDays:!0,showWeekNumbers:!1,calendarWeekRule:"firstDay",minDate:new Date(1900,0,1),maxDate:new Date(2099,11,31),showOtherMonthDays:!0,showDayPadding:!1,selectionMode:{day:!0,days:!0},allowPreview:!1,allowQuickPick:!0,toolTipFormat:"dddd, MMMM dd, yyyy",prevTooltip:"Previous",nextTooltip:"Next",quickPrevTooltip:"Quick Previous",quickNextTooltip:"Quick Next",prevPreviewTooltip:"",nextPreviewTooltip:"",navButtons:"default",quickNavStep:12,direction:"horizontal",duration:250,easing:"easeInQuad",popupMode:!1,autoHide:!0,customizeDate:null,title:null,beforeSlide:null,afterSlide:null,beforeSelect:null,afterSelect:null,selectedDatesChanged:null},_create:function(){var t=this;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),e.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(this.options),this.element.addClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all").attr("role","grid"),this._previewWrapper(this.options.allowPreview),this.element.data("preview.wijcalendar",!1),t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t.refresh(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijcalendar")},_init:function(){if(this.options.popupMode){var e={autoHide:!!this.options.autoHide},t=this;this.options.beforePopup&&(e.showing=this.options.beforePopup),this.options.afterPopup&&(e.shown=this.options.afterPopup),this.options.beforeClose&&(e.hiding=this.options.beforeClose),e.hidden=function(e){t.element.removeData("lastdate.wijcalendar"),t.options.afterClose&&t.options.afterClose.call(e)},this.element.wijpopup(e)}this._getSelectedDates(),this._getDisabledDates(),this._resetWidth(),this.refresh(),this.element.width(this.element.width()+2)},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments),this.close(),this.element.html(""),this.element.removeClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-datepicker-multi").removeAttr("role");var t=this;e.each(["preview","disableddates","selecteddates","dragging","lastdate","animating"],function(e,n){t.element.removeData(n+".wijcalendar")}),this._previewWrapper(!1)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"showWeekDays":case"showWeekNumbers":case"showTitle":case"showOtherMonthDays":case"selectionMode":this.unSelectAll(),this._resetWidth(),this.refresh();break;case"culture":this.refresh();break;case"allowPreview":this._previewWrapper(n),this.refresh();break;case"monthCols":this._myGrid&&(this._myGrid=undefined),this._resetWidth(),this.refresh();break;case"autoHide":this.element.wijpopup({autoHide:this.options.autoHide});break;case"selectedDates":this._getSelectedDates().setDates(n),this.refresh();break;case"disabledDates":this._getDisabledDates().setDates(n),this.refresh();break;case"displayDate":this.refresh()}},_previewWrapper:function(e){e?!this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.wrap("<div class='wijmo-wijcalendar-preview-wrapper ui-helper-clearfix'></div>"):this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.unwrap()},_isRTL:function(){return!!this._getCulture().isRTL},refresh:function(){this.element.empty().append(this._createCalendar()),this.element[(this._isRTL()?"add":"remove")+"Class"]("ui-datepicker-rtl"),this._bindEvents()},refreshDate:function(t){if(!this._monthViews)return;if(t<this._groupStartDate||t>this._groupEndDate)return;e.each(this._monthViews,function(){this._refreshDate(t)})},getDisplayDate:function(){var e=this.options.displayDate?this.options.displayDate:new Date;return r.isSameDate(e,new Date(1900,0,1))&&(e=new Date),e},getSelectedDate:function(){var e=this.options.selectedDates;return!e||e.length===0?null:e[0]},selectDate:function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().add(e),this.refreshDate(e),!0)},unSelectDate:function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().remove(e),this.refreshDate(e),!0)},unSelectAll:function(){var e=this.options.selectedDates,t;if(e&&e.length>0){this._getSelectedDates().clear();for(t=0;t<e.length;t++)this.refreshDate(e[t])}},_slideToDate:function(e){if(r.isSameMonth(this.getDisplayDate(),e))return;var t=this.element.is(":visible");if(!t)this.options.displayDate=e;else{if(this._trigger("beforeSlide")===!1)return;this._isSingleMonth()?this._playSlideAnimation(e):this._playMmSlideAnimation(e)}},isPopupShowing:function(){return this.options.popupMode?this.element.wijpopup("isVisible"):!1},popup:function(e){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijpopup")&&this.element.wijpopup("show",e)},popupAt:function(e,t){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijpopup")&&this.element.wijpopup("showAt",e,t)},close:function(){this.isPopupShowing()&&this.element.wijpopup("hide")},_getCulture:function(e){return Globalize.findClosestCulture(e||this.options.culture)},_getDates:function(e){var t=e.toLowerCase()+".wijcalendar",n=this.element.data(t);return n===undefined&&(n=new s(this,e),this.element.data(t,n)),n},_getDisabledDates:function(){return this._getDates("disabledDates")},_getSelectedDates:function(){return this._getDates("selectedDates")},_onDayDragStart:function(e){return e.preventDefault(),e.stopPropagation(),!1},_onDayMouseDown:function(t){t.preventDefault(),t.stopPropagation();var n=this.options,r=this,i,s,o=!1,u=n.selectedDates,f=!1,l=[];return t.which!==1?!1:(i=this._getCellDate(t.currentTarget),i===undefined?!1:n.selectionMode.day?(s={date:i},this._trigger("beforeSelect",null,s)===!1?!1:((!n.selectionMode.days||!t.metaKey&&!t.shiftKey&&!t.ctrlKey)&&this.unSelectAll(),!n.selectionMode.days||(t.shiftKey&&this.element.data("lastdate.wijcalendar")?(this._selectRange(this.element.data("lastdate.wijcalendar"),i),o=!0):t.ctrlKey&&(this.element.data("lastdate.wijcalendar",i),e.each(u,function(e,t){if(i.getFullYear()===t.getFullYear()&&i.getMonth()===t.getMonth()&&i.getDate()===t.getDate())return f=!0,!1}),f?this.unSelectDate(i):this.selectDate(i),u=n.selectedDates,e.each(u,function(e,t){l.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:l}),o=!0)),o||(this.element.data("lastdate.wijcalendar",i),o=this.selectDate(i),this._trigger("selectedDatesChanged",null,{dates:[i]})),o&&(this._trigger("afterSelect",null,s),!n.selectionMode.days||(this.element.data("dragging.wijcalendar",!0),e(document.body).bind("mouseup."+this.widgetName,function(){e(document.body).unbind("mouseup."+r.widgetName),r.element.data("dragging.wijcalendar",!1)}))),!1)):!1)},_onMouseUp:function(e){return e.preventDefault(),e.stopPropagation(),this.element.data("dragging.wijcalendar",!1),!1},_onDayClicked:function(t){var n=this._getCellDate(t.currentTarget);return n===undefined?!1:this.options.selectionMode.day?(this.isPopupShowing()?this.close():e(t.currentTarget).hasClass("ui-datepicker-other-month")&&this._slideToDate(n),!1):!1},_onDayMouseEnter:function(t){e(t.currentTarget).attr("state","hover"),this._refreshDayCell(t.currentTarget);if(!!this.element.data("dragging.wijcalendar")){var n=this._getCellDate(t.currentTarget);if(n===undefined)return;this.unSelectAll(),this._selectRange(this.element.data("lastdate.wijcalendar"),n,!0)}},_onDayMouseLeave:function(t){e(t.currentTarget).attr("state","normal"),this._refreshDayCell(t.currentTarget)},_selectRange:function(e,t,n){if(e!==undefined&&e!==new Date(1900,1,1)){var i=e,s=t,o=[];e>t&&(s=e,i=t);for(;;){if(i>s)break;this.selectDate(i),o[o.length]=i,i=r.addDays(i,1)}!n&&this.element.removeData("lastdate.wijcalendar"),this._trigger("selectedDatesChanged",null,{dates:o})}else this.selectDate(e),this._trigger("selectedDatesChanged",null,{dates:[e]});return!0},_getCellDate:function(t){var n=e(t).attr("date");return n===undefined?n:new Date(n)},_getParentTable:function(t){var n=e(t).parents("table");return n.length===0?undefined:n.get(0)},_initMonthSelector:function(t){if(e(t).data("cells")!==undefined)return;var n=t.id.split("_"),r,i,s=[],o,u,f,l,c;if(n[n.length-1]!=="ms")throw Error.create("not a monthview");r=n.slice(0,n.length-1).join("_"),i=this._getParentTable(t);if(i){if(i.id!==r)throw Error.create("not a monthview");for(o=0;o<i.rows.length;o++){c=i.rows[o];for(u=0;u<c.cells.length;u++)f=c.cells[u],f&&(l=e(f).attr("daytype"),l!==undefined&&e(f).find("a").hasClass("ui-priority-secondary")===!1&&this._isSelectable(parseInt(l,10))&&(s[s.length]=f))}}e(t).data("cells",s)},_onMonthSelectorClicked:function(t){this._initMonthSelector(t.currentTarget);var n=e(t.currentTarget).data("cells"),r=[],i,s,o,u;this.element.removeData("lastdate.wijcalendar"),this.unSelectAll();for(i=0;i<n.length;i++)s=n[i],o=e(s).attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},_onMonthSelectorMouseEnter:function(t){this._initMonthSelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseEnter(t)},_onMonthSelectorMouseLeave:function(t){this._initMonthSelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseLeave(t)},_initWeekDaySelector:function(t){if(e(t).data("cells")!==undefined)return;var n=t.id.split("_"),r,i,s,o=[],u=0,f,l,c;if(n[n.length-2]!=="cs")throw Error.create("not a column");r=parseInt(n[n.length-1],10),i=n.slice(0,n.length-2).join("_"),s=this._getParentTable(t);if(s){if(s.id!==i)throw Error.create("not a column");this.options.showWeekDays&&u++;for(;u<s.rows.length;u++)f=s.rows[u],r<f.cells.length&&(l=f.cells[r],l&&(c=e(l).attr("daytype"),c!==undefined&&e(l).find("a").hasClass("ui-priority-secondary")===!1&&this._isSelectable(parseInt(c,10))&&(o[o.length]=l)))}e(t).data("cells",o)},_onWeekDayClicked:function(t){this._initWeekDaySelector(t.currentTarget);var n=e(t.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<n.length;i++)s=e(n[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},_onWeekDayMouseEnter:function(t){this._initWeekDaySelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseEnter(t)},_onWeekDayMouseLeave:function(t){this._initWeekDaySelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseLeave(t)},_initWeekNumberSelector:function(t){if(e(t).data("cells")!==undefined)return;var n=t.id.split("_"),r,i,s,o=[],u,f,l,c;if(n[n.length-2]!=="rs")throw Error.create("not a row");r=parseInt(n[n.length-1],10),i=n.slice(0,n.length-2).join("_"),s=this._getParentTable(t);if(s){if(s.id!==i)throw Error.create("not a row");u=s.rows[r];if(u){f=0,this.options.showWeekNumbers&&f++;for(;f<u.cells.length;f++)l=u.cells[f],l&&(c=e(l).attr("daytype"),c!==undefined&&e(l).find("a").hasClass("ui-priority-secondary")===!1&&this._isSelectable(parseInt(c,10))&&(o[o.length]=l))}}e(t).data("cells",o)},_onWeekNumberClicked:function(t){this._initWeekNumberSelector(t.currentTarget);var n=e(t.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<n.length;i++)s=e(n[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},_onWeekNumberMouseEnter:function(t){this._initWeekNumberSelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseEnter(t)},_onWeekNumberMouseLeave:function(t){this._initWeekNumberSelector(t.currentTarget);for(var n=e(t.currentTarget).data("cells"),r=0;r<n.length;r++)t.currentTarget=n[r],this._onDayMouseLeave(t)},_isAnimating:function(){return!!this.element.data("animating.wijcalendar")},_onPreviewMouseEnter:function(t){if(!!this.element.data("previewContainer"))return;if(this._isAnimating())return;var n=e(t.currentTarget),i=n.attr("id"),s=this.getDisplayDate(),o=this.options.monthCols*this.options.monthRows,u=e("<div/>");if(i===undefined)return;i==="prevPreview"&&(o=-o),this.options.displayDate=r.addMonths(s,o),this.element.data("preview.wijcalendar",!0),u.appendTo(document.body),u.hide(),u.addClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"),u.append(this._createCalendar()),this.options.displayDate=s,this.element.data("preview.wijcalendar",!1),this._createMonthViews(),u.wijpopup({showEffect:"slide",showOptions:{direction:i==="prevPreview"?"right":"left"},hideEffect:"slide",hideOptions:{direction:i==="prevPreview"?"right":"left"}}),u.wijpopup("show",{my:i==="prevPreview"?"right top":"left top",at:i==="prevPreview"?"left top":"right top",of:n}),this.element.data("previewContainer",u)},_onPreviewMouseLeave:function(t){var n=e(t.currentTarget),r=n.attr("id"),i=this.element.data("previewContainer"),s=this;if(r===undefined)return;i&&(i.wijpopup("isAnimating")?window.setTimeout(function(){s._onPreviewMouseLeave(t)},200):(i.wijpopup("hide"),this.element.removeData("previewContainer")))},_resetWidth:function(){this._myGrid||(this.element.css("height",""),this.options.monthCols>1?(this.element.css("width",17*this.options.monthCols+"em"),this.element.addClass("ui-datepicker-multi")):(this.element.css("width",""),this.element.removeClass("ui-datepicker-multi")))},_playMmSlideAnimation:function(e){var t=this.element.width(),n=this.element.height(),r=this.getDisplayDate(),i,s,o,u=this.options.direction||"horizontal",a=this;this.element.height(n),this.element.wrapInner("<div class='wijmo-wijcalendar-multi-aniwrapper'></div>"),i=this.element.find(">:first-child").width(t).height(n),s=i.clone(!1),s.hide(),this.options.displayDate=e,this._createMonthViews(),s.empty().append(this._createMonthGroup()),s.appendTo(this.element),o=e>r,this.element.data("animating.wijcalendar",!0),i.effect("slide",{mode:"hide",direction:u==="horizontal"?o?"left":"right":o?"up":"down",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){i.remove()}),s.effect("slide",{direction:u==="horizontal"?o?"right":"left":o?"down":"up",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){while(s.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))s.parent().replaceWith(s);s.replaceWith(s.contents()),a.element.height(""),a._bindEvents(),a.element.data("animating.wijcalendar",!1),a._trigger("afterSlide")})},_playSlideAnimation:function(t){if(!this._isSingleMonth())return;var n=this,r=this.getDisplayDate(),s=this.element.find(".ui-datepicker-calendar"),o,u,f=1,l=this.options.direction||"horizontal",c=t>r,h=[],p,d;s.parent().is(".wijmo-wijcalendar-aniwrapper")?o=s.parent():(o=e.effects.createWrapper(s).css({overflow:"hidden"}),o.removeClass("ui-effects-wrapper"),o.addClass("wijmo-wijcalendar-aniwrapper")),o.parent().is(".wijmo-wijcalendar-aniwrapper")?u=o.parent():(u=e.effects.createWrapper(o).css({overflow:"hidden"}),u.removeClass("ui-effects-wrapper"),u.addClass("wijmo-wijcalendar-aniwrapper"));if(this._myGrid)switch(this._myGrid.gridType){case"month":f=1;break;case"year":f=10;break;case"decade":f=100}h[h.length]=t,p=s.outerWidth(),d=s.outerHeight(),l==="horizontal"?(s.width(p).css("float",c?"left":"right"),o.width((h.length+1)*p),o.css("left",c?0:-h.length*p).css("position","absolute")):(o.width(p),o.css("top",c?0:-h.length*d).css("position","absolute"),o.height((h.length+1)*d)),e.each(h,function(t,r){if(n._myGrid===undefined){var s=new i(n,r),u=n._customize(s.getHtml(!0));l==="horizontal"?u.width(p).css("float",c?"left":"right").appendTo(o):u.appendTo(o)}else l==="horizontal"?e(n._myGrid.getHtml(r,!0)).width(p).height(d).css("float",c?"left":"right").appendTo(o):e(n._myGrid.getHtml(r,!0)).height(d).appendTo(o)}),this.options.displayDate=t,this._myGrid===undefined&&this._createMonthViews(),this._refreshTitle(),this.element.data("animating.wijcalendar",!0),o.effect("slide",{mode:"hide",direction:l==="horizontal"?c?"left":"right":c?"up":"down",easing:this.options.easing||"easeOutBack",distance:(l==="horizontal"?p:d)*h.length,duration:this.options.duration},function(){s=o.children(":last");while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);s.css({"float":"",width:""}),n._bindEvents(),n.element.data("animating.wijcalendar",!1),n._trigger("afterSlide")})},_onTitleClicked:function(){if(!this.options.allowQuickPick||!this._isSingleMonth())return;if(this._isAnimating())return;if(this._myGrid===undefined)this._myGrid=new o(this);else switch(this._myGrid.gridType){case"month":this._myGrid.gridType="year";break;case"year":this._myGrid.gridType="decade";break;case"decade":return}this._refreshTitle(),this.element.width(this.element.width()).height(this.element.height());var t=this.element.find(".ui-datepicker-calendar"),n,r,i,s=t.outerWidth(),u=t.outerHeight(),f,l,c,h,p,d,v=this;t.parent().is(".wijmo-wijcalendar-aniwrapper")?n=t.parent():n=e.effects.createWrapper(t).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper"),n.parent().is(".wijmo-wijcalendar-aniwrapper")?r=n.parent():r=e.effects.createWrapper(n).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").width(s).height(u),i=e(this._myGrid.getHtml(!0)).css({position:"absolute",top:0,left:0,opacity:0}).appendTo(r).height(u),f=this._myGrid.getSelectedIndex(),l=Math.floor(f/4),c=f-l*4,h=s/4,p=u/3,d={left:h*c,top:p*l,width:h,height:p},t.width("100%").height("100%"),n.css({border:"solid 1px #cccccc"}),this.element.data("animating.wijcalendar",!0),n.effect("size",{to:d,duration:this.options.duration||500},function(){n.remove()}),i.animate({opacity:1},this.options.duration||500,function(){i.css({position:"",top:"",left:"",filter:""});while(i.parent().is(".wijmo-wijcalendar-aniwrapper"))i.parent().replaceWith(i);v._bindEvents(),v.element.data("animating.wijcalendar",!1)})},_onMyGridClicked:function(t){if(this._myGrid===undefined)return!1;if(this._isAnimating())return!1;var n=e(t.currentTarget),r=parseInt(n.attr("index"),10),i=parseInt(n.attr("value"),10),s=this.element.find(".ui-datepicker-calendar"),o,u,f,l,c,h,p,d,v,m=this;if(this._myGrid.gridType!=="month")if(!r||r===11)return!1;return!n.hasClass("ui-state-active")&&this._myGrid.select(r,i),this._myGrid.gridType==="decade"?this._myGrid.gridType="year":this._myGrid.gridType==="year"?this._myGrid.gridType="month":this._myGrid=undefined,this._refreshTitle(),f=s.outerWidth(),l=s.outerHeight(),s.parent().is(".wijmo-wijcalendar-aniwrapper")?u=s.parent():u=e.effects.createWrapper(s).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").width(f).height(l),c=e.extend({},n.position(),{width:n.width(),height:n.height()}),this._myGrid===undefined?(this._createMonthViews(),p=this.getDisplayDate(),d=this._getMonthView(p),h=this._customize(d.getHtml(!0))):h=e(this._myGrid.getHtml(!0)),v=h.height(l).appendTo(u),o=e.effects.createWrapper(v).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").css(e.extend(c,{border:"solid 1px #cccccc",position:"absolute"})),this.element.data("animating.wijcalendar",!0),o.animate({left:0,top:0,width:f,height:l},this.options.duration||500,function(){v.css("width","")}),s.animate({opacity:0},this.options.duration||500,function(){s.remove();while(v.parent().is(".wijmo-wijcalendar-aniwrapper"))v.parent().replaceWith(v);m._myGrid===undefined&&m.element.width("").height(""),m._bindEvents(),m.element.data("animating.wijcalendar",!1)}),!1},_onMyGridMouseEnter:function(t){if(this._myGrid===undefined)return;var n=e(t.currentTarget),r=parseInt(n.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;n.addClass("ui-state-hover")},_onMyGridMouseLeave:function(t){if(this._myGrid===undefined)return;var n=e(t.currentTarget),r=parseInt(n.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;n.removeClass("ui-state-hover")},_bindEvents:function(){!this.element.data("preview.wijcalendar")&&!this.options.disabledState&&!this.options.disabled&&(this.element.find("div .wijmo-wijcalendar-navbutton").unbind().bind("mouseout.wijcalendar",function(){var t=e(this);t.removeClass("ui-state-hover"),t.hasClass("ui-datepicker-next-hover")?t.removeClass("ui-datepicker-next-hover"):t.hasClass("ui-datepicker-prev-hover")&&t.removeClass("ui-datepicker-prev-hover")}).bind("mouseover.wijcalendar",function(){var t=e(this);t.addClass("ui-state-hover"),t.hasClass("ui-datepicker-next")?t.addClass("ui-datepicker-next-hover"):t.hasClass("ui-datepicker-prev")&&t.addClass("ui-datepicker-prev-hover")}).bind("click.wijcalendar",e.proxy(this._onNavButtonClicked,this)),this.element.unbind(".wijcalendar").bind({"mouseup.wijcalendar":e.proxy(this._onMouseUp,this)}),this.element.find(".ui-datepicker-title").unbind().bind("mouseout.wijcalendar",function(){e(this).removeClass("ui-state-hover")}).bind("mouseover.wijcalendar",function(){e(this).addClass("ui-state-hover")}).bind("click.wijcalendar",e.proxy(this._onTitleClicked,this)),this.element.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar").bind({"mouseenter.wijcalendar":e.proxy(this._onPreviewMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onPreviewMouseLeave,this)}),this._myGrid===undefined?(this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":e.proxy(this._onDayClicked,this),"mouseenter.wijcalendar":e.proxy(this._onDayMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onDayMouseLeave,this),"mousedown.wijcalendar":e.proxy(this._onDayMouseDown,this),"dragstart.wijcalendar":e.proxy(this._onDayDragStart,this)}),!!this.options.selectionMode.month&&this.element.find(".wijmo-wijcalendar-monthselector").unbind().bind({"click.wijcalendar":e.proxy(this._onMonthSelectorClicked,this),"mouseenter.wijcalendar":e.proxy(this._onMonthSelectorMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onMonthSelectorMouseLeave,this)}),!!this.options.selectionMode.weekDay&&this.element.find(".ui-datepicker-week-day").unbind().bind({"click.wijcalendar":e.proxy(this._onWeekDayClicked,this),"mouseenter.wijcalendar":e.proxy(this._onWeekDayMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onWeekDayMouseLeave,this)}),!!this.options.selectionMode.weekNumber&&this.element.find(".wijmo-wijcalendar-week-num").unbind().bind({"click.wijcalendar":e.proxy(this._onWeekNumberClicked,this),"mouseenter.wijcalendar":e.proxy(this._onWeekNumberMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onWeekNumberMouseLeave,this)})):this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":e.proxy(this._onMyGridClicked,this),"mouseenter.wijcalendar":e.proxy(this._onMyGridMouseEnter,this),"mouseleave.wijcalendar":e.proxy(this._onMyGridMouseLeave,this)}))},_isSelectable:function(e){var n=this.options;return n.showOtherMonthDays&&e&t.otherMonth||!(e&(t.outOfRange|t.disabled|t.otherMonth))},_getCellClassName:function(e,n,r){var i=this.options,s="",o="ui-state-default",u=!!i.selectionMode.day||!!i.selectionMode.days;return r=r||!1,!r&&!i.disabledState&&!i.disabled&&u&&this._isSelectable(e)&&(s+=" wijmo-wijcalendar-day-selectable"),e&t.weekEnd&&(s+=" ui-datepicker-week-end"),e&t.otherMonth&&(s+=" ui-datepicker-other-month",o+=" ui-priority-secondary"),e&t.outOfRange&&(s+=" wijmo-wijcalendar-outofrangeday",o+=" ui-priority-secondary"),e&t.gap?s+=" wijmo-wijcalendar-gap":(e&t.disabled&&(s+=" ui-datepicker-unselectable",o+=" ui-state-disabled"),e&t.today&&(s+=" ui-datepicker-days-cell-over ui-datepicker-today",o+=" ui-state-highlight"),e&t.selected&&(e&(t.outOfRange|t.disabled))===0&&(s+=" ui-datepicker-current-day",o+=" ui-state-active"),e&t.gap&&(s+=" wijmo-wijcalendar-gap"),e&t.custom&&(s+=" wijmo-wijcalendar-customday")),{cssCell:s,cssText:o}},_onNavButtonClicked:function(t){if(this._isAnimating())return!1;var n=1,i=e(t.currentTarget).attr("id"),s=this.getDisplayDate(),o=s;if(this._myGrid===undefined)n=i.indexOf("quick")>=0?this.options.quickNavStep:1,n=i.indexOf("next")>=0?n:-n,n=n*this.options.monthRows*this.options.monthCols,o=r.addMonths(s,n);else{n=i.indexOf("next")>=0?1:-1;switch(this._myGrid.gridType){case"month":o=r.addYears(s,n);break;case"year":o=r.addYears(s,n*10);break;case"decade":o=r.addYears(s,n*100)}}return this._slideToDate(o),!1},_getMonthGroupHtml:function(){var e=this.getDisplayDate(),t,i,s,o,u;if(this._isSingleMonth())return t=this._getMonthView(e),t.showPreview=this.options.allowPreview&&!this.element.data("preview.wijcalendar"),t.getHtml();i=100/this.options.monthCols+"%",s=new n;for(o=0;o<this.options.monthRows;o++){for(u=0;u<this.options.monthCols;u++)s.writeBeginTag("div"),s.writeAttribute("class","ui-datepicker-group"+(u===0?" ui-datepicker-group-first":"")+(u===this.options.monthCols-1?" ui-datepicker-group-last":"")),s.writeAttribute("style","width:"+i),s.writeTagRightChar(),t=this._getMonthView(e),t.showPreview=!1,s.write(t.getHtml()),s.writeEndTag("div"),e=r.addMonths(e,1);s.writeBeginTag("div"),s.writeAttribute("class","ui-datepicker-row-break"),s.writeTagRightChar(),s.writeEndTag("div")}return s.toString()},_getCalendarHtml:function(){this._createMonthViews();var e=new n;return e.write(this._getMonthGroupHtml()),e.toString()},_customizeDayCell:function(e){e.attr("state")===undefined&&e.attr("state","normal");if(e.attr("daytype")===undefined)return;if(e.attr("date")===undefined)return;var t=parseInt(e.attr("daytype"),10),n=new Date(e.attr("date")),r=e.attr("state")==="hover";this.options.customizeDate(e,n,t,r)},_customize:function(t){var n=this.options,r=this,i=e(t);return e.isFunction(n.customizeDate)?(e.each(i.find(".wijmo-wijcalendar-day-selectable"),function(t,n){r._customizeDayCell(e(n))}),i):i},_createCalendar:function(){return this._customize(e(this._getCalendarHtml()))},_createMonthGroup:function(){return this._customize(e(this._getMonthGroupHtml()))},_getMonthID:function(e){return e.getFullYear()+"_"+(e.getMonth()+1)},_createMonthViews:function(){this._monthViews={};for(var e="",t=this.getDisplayDate(),n,s,o,u=0;u<this.options.monthRows;u++)for(n=0;n<this.options.monthCols;n++)e=this._getMonthID(t),this._monthViews[e]=new i(this,t),u===0&&(n===0&&(this._monthViews[e].isFirst=!0),n===this.options.monthCols-1&&(this._monthViews[e].isLast=!0)),t=r.addMonths(t,1);t=this.getDisplayDate(),e=this._getMonthID(t),s=this._monthViews[e],s&&(this._groupStartDate=s.getStartDate()),o=this.options.monthRows*this.options.monthCols,o>1&&(t=r.addMonths(t,o-1),e=this._getMonthID(t),s=this._monthViews[e]),s&&(this._groupEndDate=s.getEndDate())},_getMonthView:function(e){var t=this._getMonthID(e);return this._monthViews[t]},_getId:function(){return this.element.attr("id")},_getChildElement:function(e){var t=this.element.find("[id*='"+e+"']");return t.length===0?undefined:t},_refreshDayCell:function(n){var r=e(n),i=this.options,s,o,u,f;r.attr("state")===undefined&&r.attr("state","normal");if(r.attr("daytype")===undefined)return;if(r.attr("date")===undefined)return;s=parseInt(r.attr("daytype"),10),o=new Date(r.attr("date")),u=r.attr("state")==="hover",r.attr("class",this._getCellClassName(s,o).cssCell),r.removeAttr("aria-selected"),s&t.selected&&r.attr("aria-selected",!0);if(e.isFunction(i.customizeDate)&&this._customizeDayCell(r))return;f=r.find("a"),f.length>0&&(f.toggleClass("ui-state-hover",u),f.toggleClass("ui-state-active",(s&t.selected)!==0))},_isSingleMonth:function(){return this.options.monthCols*this.options.monthRows===1},_splitString:function(e,t,n){if(n===undefined)return e.split(t);for(var r=[],i=e.split(t),s=0;s<i.length;s++)s>=n?r[n-1]=r[n-1]+t+i[s]:r.push(i[s]);return r},_getNavButtonHtml:function(e,t,r,i){var s=new n;return s.writeBeginTag("a"),s.writeAttribute("id",e),s.writeAttribute("class",t),s.writeAttribute("role","button"),s.writeAttribute("href","#"),i&&(s.writeAttribute("title",i),s.writeAttribute("aria-label",i)),s.writeTagRightChar(),s.writeBeginTag("span"),s.writeAttribute("class",r),s.writeTagRightChar(),i&&s.write(i),s.writeEndTag("span"),s.writeEndTag("a"),s.toString()},_getTitleText:function(t){if(this._myGrid!==undefined)return this._myGrid.getTitle();var n=t||this.getDisplayDate(),r=this.options.titleFormat||"MMMM yyyy";return e.isFunction(this.options.title)?this.options.title(n,r)||this._formatDate(r,n):this._formatDate(r,n)},_refreshTitle:function(){this.element.find(".ui-datepicker-title").html(this._getTitleText())},_fillTitle:function(e,t){e.writeBeginTag("div"),e.writeAttribute("class","ui-datepicker-title wijmo-wijcalendar-title ui-state-default ui-corner-all"),e.writeTagRightChar(),e.write(this._getTitleText(t)),e.writeEndTag("div")},_getHeaderHtml:function(e,t,r){var i=!!this.element.data("preview.wijcalendar"),s=i?"none":this._isSingleMonth()?this.options.navButtons:"default",o=this.element.is(".ui-datepicker-rtl"),u=new n;return s==="quick"?(u.writeBeginTag("div"),u.writeAttribute("class","ui-widget-header wijmo-wijcalendar-header ui-helper-clearfix ui-corner-all"),u.writeAttribute("role","heading"),u.writeTagRightChar(),!!t&&u.write(this._getNavButtonHtml("quickprev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-seek-"+(o?"next":"prev"),this.options.quickPrevTooltip.replace("#",this.options.quickNavStep))),u.writeBeginTag("div"),u.writeAttribute("class","ui-datepicker-header wijmo-wijcalendar-header-inner"),u.writeTagRightChar(),!!t&&u.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-circle-triangle-"+(o?"e":"w"),this.options.prevTooltip)),this._fillTitle(u,e),!!r&&u.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-circle-triangle-"+(o?"w":"e"),this.options.nextTooltip)),u.writeEndTag("div"),!!r&&u.write(this._getNavButtonHtml("quicknext","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-seek-"+(o?"prev":"next"),this.options.quickNextTooltip.replace("#",this.options.quickNavStep))),u.writeEndTag("div")):(u.writeBeginTag("div"),u.writeAttribute("class","ui-datepicker-header ui-widget-header ui-datepicker-header ui-helper-clearfix ui-corner-all"),u.writeAttribute("role","heading"),u.writeTagRightChar(),s!=="none"&&!!t&&u.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-circle-triangle-"+(o?"e":"w"),this.options.prevTooltip)),this._fillTitle(u,e),s!=="none"&&!!r&&u.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-circle-triangle-"+(o?"w":"e"),this.options.nextTooltip)),u.writeEndTag("div")),u.toString()},_formatDate:function(e,t){return r.getTicks(t)?Globalize.format(t,e,this._getCulture()):"&nbsp;"}});var n=function(){this._html=[]};n.prototype={_html:null,writeTagLeftChar:function(){this._html[this._html.length]="<"},writeTagRightChar:function(){this._html[this._html.length]=">"},write:function(e){this._html[this._html.length]=" "+e+" "},writeBeginTag:function(e){this._html[this._html.length]="<"+e},writeEndTag:function(e){this._html[this._html.length]="</"+e+">"},writeFullBeginTag:function(e){this._html[this._html.length]="<"+e+">"},writeSelfClosingTagEnd:function(){this._html[this._html.length]="/>"},writeAttribute:function(e,t){if(t===undefined||t===null)return;this._html[this._html.length]=" "+e+'="',this._html[this._html.length]=t,this._html[this._html.length]='"'},clean:function(){this._html=[]},toString:function(){return this._html.join("")}};var r={addDays:function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return t&&n.getDate()===e.getDate()&&(n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.setTime(n.getTime()+t*864e5)),n},addMonths:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},addYears:function(e,t){return this.addMonths(e,t*12)},getDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},getTicks:function(e){return e.valueOf()},isSameDate:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},getDaysInMonth:function(e){return(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate()},getWeekStartDate:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-(e.getDay()-t+7)%7)},getDayOfYear:function(e){var t=new Date(e.getFullYear(),0,1),n=this.getTicks(e)-this.getTicks(t),r=n/864e5;return Math.floor(r)+1},getFirstDayWeekOfYear:function(e,t){var n=this.getDayOfYear(e)-1,r=e.getDay()-n%7,i;return r=(r-t+14)%7,i=(n+r)/7,Math.floor(i)+1},getDayOfWeek:function(e,t){return(e.getDay()-t+7)%7},getWeekOfYearFullDays:function(e,t,n,r){var i=this.getDayOfYear(e)-1,s=this.getDayOfWeek(e,n)-i%7;return s=(n-s+14)%7,s&&s>=r&&(s-=7),s=i-s,s>=0?Math.floor(s/7)+1:this.getWeekOfYearFullDays(this.addDays(e,-(i+1)),t,n,r)},getWeekOfYear:function(e,t,n){switch(t){case"firstDay":return this.getFirstDayWeekOfYear(e,n);case"firstFullWeek":return this.getWeekOfYearFullDays(e,t,n,7);case"firstFourDayWeek":return this.getWeekOfYearFullDays(e,t,n,4)}return this.getFirstDayWeekOfYear(e,n)},getDateToken:function(e){return e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate()}},i=function(e,t){this.calendar=e;if(t===undefined||r.isSameDate(t,new Date(1900,0,1)))t=new Date;this.displayDate=t,this.id=this.calendar._getId()+"_"+this.calendar._getMonthID(t),this.isFirst=!1,this.isLast=!1,this.showPreview=!1,this.culture=this.calendar._getCulture(),this._calcDates(this.displayDate)};i.prototype={_calcDates:function(e){var t=r.getDaysInMonth(e);this._startDateInMonth=new Date(e.getFullYear(),e.getMonth(),1),this._endDateInMonth=r.addDays(this._startDateInMonth,t-1),this._startDate=r.getWeekStartDate(this._startDateInMonth,this.culture.calendar.firstDay),this._endDate=r.addDays(this._startDate,this.calendar.options.dayRows*this.calendar.options.dayCols-1)},_isFirstMonth:function(){var e=this.calendar.getDisplayDate();return r.isSameMonth(this._startDateInMonth,e)},_isLastMonth:function(){var e=this.calendar.getDisplayDate();return e=new Date(e.getFullYear(),e.getMonth(),1),e=r.addMonths(e,this.calendar.options.monthCols*this.calendar.options.monthRows-1),r.isSameMonth(this._startDateInMonth,e)},getStartDate:function(){return this._startDate},getEndDate:function(){return this._endDate},_getMonthDate:function(){return this._startDateInMonth===undefined&&this._calcDates(this.getDisplayDate()),this._startDateInMonth},_setMonthDate:function(e){this._calcDates(e)},_getWeekDayText:function(e,t){t=t||"short";var n=this.culture.calendar.days,r="";switch(t){case"full":r=n.names[e];break;case"firstLetter":r=n.names[e].substring(0,1);break;case"abbreviated":r=n.namesAbbr[e];break;default:r=n.namesShort[e]}return r},_getRowCount:function(){var e=this.calendar.options;return e.showWeekDays?e.dayRows+1:e.dayRows},_getColCount:function(){var e=this.calendar.options;return e.showWeekNumbers?e.dayCols+1:e.dayCols},_getDayType:function(e){var n=this.calendar.options,i=t.general,s=e.getDay(),o=s===6||s===0,u=e<n.minDate||e>n.maxDate,a=e<this._startDateInMonth||e>this._endDateInMonth,f=u||this.calendar._getDisabledDates().contains(e),l=this.calendar._getSelectedDates().contains(e),h=new Date,p=r.isSameDate(e,h),d=!1;return o&&(i|=t.weekEnd),p&&(i|=t.today),f&&(i|=t.disabled),a&&(i|=t.otherMonth),u&&(i|=t.outOfRange),l&&(i|=t.selected),d&&(i|=t.custom),a&&!n.showOtherMonthDays&&(i|=t.gap),i},_refreshDate:function(t){if(t<this._startDate||t>this._endDate)return;var n=this.calendar.options,r=Math.floor(Math.abs(t-this._startDate)/864e5),i=Math.floor(r/this.calendar.options.dayCols),s=Math.floor(r%this.calendar.options.dayCols),o,u,f,l;n.showWeekNumbers&&s++,n.showWeekDays&&i++,o=e("#"+this.id,this.calendar.element).get(0),o&&i<o.rows.length&&(u=o.rows[i],s<u.cells.length&&(f=u.cells[s],l=this._getDayType(t),e(f).attr("daytype",l.toString()),this.calendar._refreshDayCell(f)))},_fillDayCell:function(e,n,r){var i=this.calendar.options,s=null,o=n.getDate().toString(),u=this.calendar._formatDate(i.toolTipFormat||"dddd, MMMM dd, yyyy",n),a=this._getDayType(n),f=this.calendar._isSelectable(a),l=this.calendar._getCellClassName(a,n,r);o=i.showDayPadding&&o.length===1?"0"+o:o,e.writeBeginTag("td"),e.writeAttribute("daytype",a.toString()),f&&(e.writeAttribute("title",u),e.writeAttribute("aria-label",u)),e.writeAttribute("date",n.toDateString()),e.writeAttribute("class",l.cssCell),e.writeAttribute("role","gridcell"),!f&&e.writeAttribute("aria-disabled","true"),e.writeTagRightChar(),a&t.gap?e.write("&#160;"):s&&s.content?e.write(s.content):(e.writeBeginTag("a"),e.writeAttribute("class",l.cssText),e.writeAttribute("href","#"),e.writeAttribute("onclick","return false;"),e.writeTagRightChar(),e.write(o),e.writeEndTag("a")),e.writeEndTag("td")},getHtml:function(e){e=!!e;var t=this.calendar.options,i=!!this.calendar.element.data("preview.wijcalendar"),s=new n,o,u,a,f,l,c,h,p,v,m,g,y;!e&&t.showTitle&&s.write(this.calendar._getHeaderHtml(this._startDateInMonth,this.isFirst,this.isLast)),!e&&!i&&this.showPreview&&(s.writeBeginTag("div"),s.writeAttribute("class","wijmo-wijcalendar-prevpreview-button"),s.writeAttribute("role","button"),s.writeAttribute("aria-haspopup","true"),s.writeAttribute("id","prevPreview"),s.writeTagRightChar(),s.writeBeginTag("a"),s.writeAttribute("class","ui-icon ui-icon-grip-dotted-vertical"),s.writeAttribute("href","#"),s.writeAttribute("title",t.prevPreviewTooltip),s.writeAttribute("aria-label",t.prevPreviewTooltip),s.writeAttribute("onclick","return false;"),s.writeTagRightChar(),s.write("&#160;"),s.writeEndTag("a"),s.writeEndTag("div")),s.writeBeginTag("table"),s.writeAttribute("id",this.id),s.writeAttribute("class","ui-datepicker-calendar wijmo-wijcalendar-table"),s.writeAttribute("role","grid"),s.writeAttribute("summary",this.calendar._getTitleText(this._startDateInMonth)),s.writeAttribute("onselectstart","return false;"),s.writeTagRightChar();if(t.showWeekDays){s.writeFullBeginTag("thead"),s.writeBeginTag("tr"),s.writeTagRightChar(),t.showWeekNumbers&&(s.writeBeginTag("th"),s.writeAttribute("id",this.id+"_ms"),s.writeAttribute("class","ui-datepicker-week-col wijmo-wijcalendar-monthselector"+(t.selectionMode.month?" wijmo-wijcalendar-selectable":"")),s.writeAttribute("role","columnheader"),s.writeTagRightChar(),!!t.selectionMode.month&&!i&&!t.disabledState&&!t.disabled?(s.writeBeginTag("a"),s.writeAttribute("class","ui-icon ui-icon-triangle-1-se"),s.writeSelfClosingTagEnd()):s.write("Wk"),s.writeEndTag("th")),a=this._startDate.getDay(),f=this._startDate;for(o=0;o<t.dayCols;o++)l=a===6||a===0,c=o+(t.showWeekNumbers?1:0),h=this._getWeekDayText(a,t.weekDayFormat),p=this._getWeekDayText(a,"full"),s.writeBeginTag("th"),s.writeAttribute("id",this.id+"_cs_"+c),s.writeAttribute("class","ui-datepicker-week-day"+(l?" ui-datepicker-week-end":"")+(t.selectionMode.weekDay?" wijmo-wijcalendar-selectable":"")),s.writeAttribute("role","columnheader"),s.writeTagRightChar(),s.writeBeginTag("span"),s.writeAttribute("title",p),s.writeAttribute("aria-label",p),s.writeTagRightChar(),s.write(h),s.writeEndTag("span"),s.writeEndTag("th"),a=(a+1)%7,f=r.addDays(f,1);s.writeEndTag("tr"),s.writeEndTag("thead")}s.writeFullBeginTag("tbody"),v=this._startDate,m=this._startDateInMonth;for(o=0;o<t.dayRows;o++){s.writeBeginTag("tr"),s.writeTagRightChar(),t.showWeekNumbers&&(g=o+(t.showWeekDays?1:0),s.writeBeginTag("td"),s.writeAttribute("id",this.id+"_rs_"+g),s.writeAttribute("class","ui-datepicker-week-col wijmo-wijcalendar-week-num"+(t.selectionMode.weekNumber?" wijmo-wijcalendar-selectable":"")),s.writeAttribute("role","rowheader"),s.writeTagRightChar(),y=r.getWeekOfYear(m,t.calendarWeekRule,this.culture.calendar.firstDay),s.write(y),s.writeEndTag("td"),m=r.addDays(m,t.dayCols));for(u=0;u<t.dayCols;u++)this._fillDayCell(s,v,i),v=r.addDays(v,1);s.writeEndTag("tr")}return s.writeEndTag("tbody"),s.writeEndTag("table"),!e&&!i&&this.showPreview&&(s.writeBeginTag("div"),s.writeAttribute("class","wijmo-wijcalendar-nextpreview-button"),s.writeAttribute("role","button"),s.writeAttribute("aria-haspopup","true"),s.writeAttribute("id","nextPreview"),s.writeTagRightChar(),s.writeBeginTag("a"),s.writeAttribute("class","ui-icon ui-icon-grip-dotted-vertical"),s.writeAttribute("href","#"),s.writeAttribute("title",t.nextPreviewTooltip),s.writeAttribute("aria-label",t.nextPreviewTooltip),s.writeAttribute("onclick","return false;"),s.writeTagRightChar(),s.write("&#160;"),s.writeEndTag("a"),s.writeEndTag("div")),s.toString()}};var s=function(e,t){this._calendar=e,this._optionName=t,this._normalize()};s.prototype={_calendar:null,_optionName:"selectedDates",getDates:function(){return this._calendar.options[this._optionName]===undefined&&(this._calendar.options[this._optionName]=[]),this._calendar.options[this._optionName]},setDates:function(e){this._calendar.options[this._optionName]=e,this._normalize()},getCount:function(){return this.getDates().length},clear:function(){this.setDates([])},add:function(e){this.addRange(e,e)},remove:function(e){this.removeRange(e,e)},indexOf:function(e){return this.getCount()?this._findRangeBound(e,!0,!1):-1},contains:function(e){return this.indexOf(e)!==-1},removeRange:function(e,t){if(!this.getCount())return;var n=this._findRangeBound(e,!1,!0),r=this._findRangeBound(t,!1,!1),i,s,o;if(n<0||r<0)return;if(n>r)return;i=this.getDates();if(i[r]>t)return;s=n?i.slice(0,n):[],o=r>=i.length-1?[]:i.slice(r+1),this.setDates(s.concat(o))},addRange:function(e,t){this.removeRange(e,t);var n=this.getDates(),i=this._findRangeBound(e,!1,!0),s=i?n.slice(0,i):[],o=n.slice(i),u=[],a;e=r.getDate(e),t=r.getDate(t);for(a=e;a<=t;a=r.addDays(a,1))u[u.length]=a;this.setDates(s.concat(u.concat(o)))},_findRangeBound:function(e,t,n){var i=this.getDates(),s=0,o=i.length,u;while(s<o){u=s+o>>1;if(r.isSameDate(e,i[u]))return u;e<i[u]?o=u:s=u+1}return t?-1:n?s:o},_parseDate:function(e){var t;e?typeof e=="string"&&(t=e):e=new Date;if(t){t=t.replace(/-/g,"/");try{e=new Date(t),isNaN(e)&&(e=new Date)}catch(n){e=new Date}}return e},_normalize:function(){var t=this._calendar.options[this._optionName],n=this,r;e.isArray(t)&&(r=e.map(t,function(e){return n._parseDate(e)}),this._calendar.options[this._optionName]=r.sort(function(e,t){return e.getTime()-t.getTime()}))}};var o=function(e){this.gridType="month",this.calendar=e,this.culture=e._getCulture()};o.prototype={gridType:"month",calendar:null,culture:undefined,select:function(e,t){var n=this.calendar.getDisplayDate();switch(this.gridType){case"month":n.setMonth(t);break;case"year":n.setFullYear(t);break;case"decade":n.setFullYear(t)}this.calendar.options.displayDate=n},getSelectedIndex:function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return e.getMonth();case"year":return t-n;case"decade":return Math.floor((t-r)/10)}return 0},getTitle:function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return t.toString();case"year":return n+1+" - "+(n+10);case"decade":return r+10+" - "+(r+109)}return""},getHtml:function(e,t){e===undefined?e=this.calendar.getDisplayDate():typeof e=="boolean"&&(t=e,e=this.calendar.getDisplayDate()),t=!!t;var r=this.calendar.options,i=3,s=4,o=new n,u,a,f,l,c,h,p,v,m,g,y,b,w,E;r.showTitle&&!t&&o.write(this.calendar._getHeaderHtml(null,!0,!0)),u=100/i+"%",u="30%",o.writeBeginTag("table"),o.writeAttribute("class","ui-datepicker-calendar wijmo-wijcalendar-mygrid"),o.writeAttribute("role","grid"),o.writeAttribute("onselectstart","return false;"),o.writeTagRightChar(),a=e.getFullYear(),f=e.getFullYear()*12,l=Math.floor(a/10)*10-1,c=Math.floor(a/100)*100-10,h=this.culture.calendar.months;for(p=0;p<i;p++){o.writeBeginTag("tr"),o.writeAttribute("height",u),o.writeTagRightChar();for(v=0;v<s;v++){m=p*4+v,g=!1,y=!1,b="",w=null;switch(this.gridType){case"month":e.getMonth()===m&&(g=!0),w=m,b=h.namesAbbr[m],y=f+m<r.minDate.getFullYear()*12+r.minDate.getMonth()||f+m>r.maxDate.getFullYear()*12+r.maxDate.getMonth();break;case"year":if(m===0||m===11)y=!0;w=l+m,w<r.minDate.getFullYear()||w>r.maxDate.getFullYear()?y=!0:g=a===w,b=w.toString();break;case"decade":if(m===0||m===11)y=!0;w=c+m*10,w+10<r.minDate.getFullYear()||w>r.maxDate.getFullYear()?y=!0:g=a>=w&&a<w+10,b=w.toString()+"-<br/>"+(w+9).toString()}E="ui-datepicker-week-day",y?E+=" ui-datepicker-other-month ui-priority-secondary ui-datepicker-unselectable":!r.disabledState&&!r.disabled&&(E+=" wijmo-wijcalendar-day-selectable"),E+=" ui-state-default"+(y?" ui-state-disabled":"")+(g?" ui-state-active ui-state-highlight":""),o.writeBeginTag("td"),o.writeAttribute("class",E),o.writeAttribute("role","gridcell"),o.writeAttribute("index",m.toString()),o.writeAttribute("value",w.toString()),o.writeAttribute("other",y.toString()),o.writeTagRightChar(),o.writeBeginTag("a"),o.writeAttribute("href","#"),o.writeTagRightChar(),o.write(b),o.writeEndTag("a"),o.writeEndTag("td")}o.writeEndTag("tr")}return o.writeEndTag("table"),o.toString()}}}(jQuery),function(e){"use strict";e.widget("wijmo.wijexpander",{options:{allowExpand:!0,animated:"slide",contentUrl:"",expanded:!0,expandDirection:"bottom"},_setOption:function(t,n){switch(t){case"contentUrl":n?this.element.find("> .ui-widget-content").wijContent(n):this.element.find("> .ui-widget-content").html("");break;case"disabled":n?(this.element.addClass("ui-state-disabled").find("> .ui-expander-header").addClass("ui-state-disabled"),this.element.find("> .ui-widget-content").addClass("ui-state-disabled")):(this.element.removeClass("ui-state-disabled").find("> .ui-expander-header").removeClass("ui-state-disabled"),this.element.find("> .ui-widget-content").removeClass("ui-state-disabled"));break;case"expandDirection":this._onDirectionChange(n,!0,this.options.expandDirection);break;case"expanded":n?this.expand():this.collapse();return}e.Widget.prototype._setOption.apply(this,arguments)},_create:function(){var t=this.element.children(),n,r;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),this.element.addClass("wijmo-wijexpander ui-expander ui-widget ui-helper-reset ui-expander-icons"),n=e(t[0]),r=e(t[1]);if(this.options.expandDirection==="left"||this.options.expandDirection==="top")n.remove(),n.insertAfter(r);n.addClass("ui-expander-header ui-helper-reset"),n.attr("role","tab"),r.attr("role","tabpanel"),n.find("> a").length===0&&n.wrapInner('<a href="javascript:void(null)"></a>'),n.find("> .ui-icon").length===0&&e('<span class="ui-icon"></span>').insertBefore(e("> a",n)[0]),r.addClass("ui-expander-content ui-helper-reset ui-widget-content")},_init:function(){var t=this.options;this._onDirectionChange(t.expandDirection,!1),t.contentUrl&&e(".ui-widget-content",this.element).wijContent(this.options.contentUrl),t.expanded?(this.element.find("> .ui-expander-header").addClass("ui-state-active").attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> .ui-icon").addClass(this._triangleIconOpened),this.element.find("> .ui-widget-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(this.element.find("> .ui-widget-content").hide(),this.element.find("> .ui-expander-header").addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed)),t.disabled&&(this.element.addClass("ui-state-disabled").find("> .ui-expander-header").addClass("ui-state-disabled"),this.element.find("> .ui-widget-content").addClass("ui-state-disabled")),this._bindLiveEvents()},destroy:function(){this._unbindLiveEvents(),this.element.removeClass("wijmo-wijexpander ui-expander ui-widget ui-helper-reset ui-expander-icons"),e.Widget.prototype.destroy.apply(this,arguments)},_bindLiveEvents:function(){e(".ui-expander-header",this.element[0]).live("click.wijexpander",jQuery.proxy(this._onHeaderClick,this)).live("mouseenter.wijexpander",function(){e(this).addClass("ui-state-hover")}).live("mouseleave.wijexpander",function(){e(this).removeClass("ui-state-hover")}).live("focus.wijexpander",function(){e(this).addClass("ui-state-focus")}).live("blur.wijexpander",function(){e(this).removeClass("ui-state-focus")})},_unbindLiveEvents:function(){e(".ui-expander-header",this.element[0]).die(".wijexpander")},_onDirectionChange:function(t,n,r){var i,s,o,u,f,l,c,h;r&&r!==t&&this.element.removeClass("ui-expander-"+r),n&&(s=this.element.find(".ui-expander-header."+this._headerCornerOpened),s.removeClass(this._headerCornerOpened),o=this.element.find(".ui-widget-content."+this._contentCornerOpened),o.removeClass(this._contentCornerOpened),u=this.element.find("."+this._triangleIconOpened),f=this.element.find("."+this._triangleIconClosed),u.removeClass(this._triangleIconOpened),f.removeClass(this._triangleIconClosed));switch(t){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened="ui-icon-triangle-1-n",this._triangleIconClosed="ui-icon-triangle-1-e",i=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened="ui-icon-triangle-1-e",this._triangleIconClosed="ui-icon-triangle-1-s",i=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened="ui-icon-triangle-1-w",this._triangleIconClosed="ui-icon-triangle-1-s",i=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened="ui-icon-triangle-1-s",this._triangleIconClosed="ui-icon-triangle-1-e",i=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-bottom")}l=this.element.data("rightToLeft"),this.element.data("rightToLeft",i),n&&(u.addClass(this._triangleIconOpened),f.addClass(this._triangleIconClosed),s.addClass(this._headerCornerOpened),o.addClass(this._contentCornerOpened)),n&&i!==l&&this.element.children(".ui-expander-header").each(function(){h=e(this),i?(c=h.next(".ui-expander-content"),h.remove(),h.insertAfter(c)):(c=h.prev(".ui-expander-content"),h.remove(),h.insertBefore(c))})},collapse:function(){var t=this.options,n,r,i,s;if(!t.allowExpand)return;return this.element.hasClass("ui-state-disabled")?!1:this._trigger("beforeCollapse")?(t.animated?(n={expand:!1,content:this.element.find("> .ui-widget-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-widget-content").removeClass("ui-expander-content-active"),this._trigger("afterCollapse"),this.element.find("> .ui-widget-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},r=e.wijmo.wijexpander.animations,i=t.duration,s=t.animated,s&&!r[s]&&!e.easing[s]&&(s="slide"),r[s]||(r[s]=function(e){this.slide(e,{easing:s,duration:i||700})}),r[s](n)):(this.element.find("> .ui-widget-content").hide(),this._trigger("afterCollapse")),this.element.find("> .ui-expander-header").removeClass("ui-state-active").removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass("ui-state-default ui-corner-all").find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),this.options.expanded=!1,!0):!1},expand:function(){var t=this.options,n,r,i,s;if(!t.allowExpand)return;return this.element.hasClass("ui-state-disabled")?!1:this._trigger("beforeExpand")?(t.animated?(n={expand:!0,content:this.element.find("> .ui-widget-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-widget-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),this._trigger("afterExpand"),this.element.find("> .ui-widget-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},r=e.wijmo.wijexpander.animations,i=t.duration,s=t.animated,s&&!r[s]&&!e.easing[s]&&(s="slide"),r[s]||(r[s]=function(e){this.slide(e,{easing:s,duration:i||700})}),r[s](n)):(this.element.find("> .ui-widget-content").show(),this._trigger("afterExpand")),this.element.find("> .ui-expander-header").removeClass("ui-state-default ui-corner-all").addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),this.options.expanded=!0,!0):!1},_onHeaderClick:function(){this.option("expanded",!this.options.expanded)}}),e.extend(e.wijmo.wijexpander,{animations:{slide:function(t,n){t=e.extend({easing:"swing",duration:300},t,n),t.expand?t.content.stop(!0,!0).animate(t.horizontal?{width:"show",opacity:"show"}:{height:"show",opacity:"show"},t):t.content.stop(!0,!0).animate(t.horizontal?{width:"hide",opacity:"hide"}:{height:"hide",opacity:"hide"},t)}}})}(jQuery),function(e){"use strict";var t="wijmo-wijmenu-item";e.widget("wijmo.wijmenu",{options:{trigger:"",triggerEvent:"click",position:{},animation:{animated:"slide",duration:400,easing:null},showAnimation:{},hideAnimation:{animated:"fade",duration:400,easing:null},showDelay:400,hideDelay:400,slidingAnimation:{duration:400,easing:null},mode:"flyout",superPanelOptions:null,checkable:!1,orientation:"horizontal",direction:"ltr",maxHeight:200,backLink:!0,backLinkText:"Back",topLinkText:"All",crumbDefaultText:"Choose an option",select:null,focus:null,blur:null,showing:null,shown:null,hidding:null,hidden:null,items:null},_preventEvent:function(e){e.preventDefault(),e.stopImmediatePropagation()},_initState:function(){var e=this;e.options.items||(e.options.items=[])},_create:function(){var t=this,n=t.options,r=n.direction,i=n.mode,s,o=t.element,u,f=e.ui.keyCode,l=n.disabled;t._initState(),window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),o.is(":hidden")&&o.wijAddVisibilityObserver&&o.wijAddVisibilityObserver(function(){t.refresh(),o.wijRemoveVisibilityObserver&&o.wijRemoveVisibilityObserver()},"wijmenu"),o.data("wijmomenu",t.widgetName),t.clickNameSpace="click.wijmenudoc"+t._newId(),o.hide(),t.cssPre="wijmo-wijmenu",t.nowIndex=9999,t.activeItem=null,t.refresh(),o.attr("tabIndex",0),t._getDisabled()&&(t.disable(),n.disabledState===!0&&(n.disabled=l)),o.bind("keydown.wijmenuEvent",function(o){if(t._getDisabled())return;i==="sliding"&&t._getSublist().stop(!0,!0);var l=t.activeItem,p,d,v=n.orientation;l?(p=l._isRoot(),u=l._getSublist()):p=!0;switch(o.keyCode){case f.PAGE_UP:t.previousPage(o),t._preventEvent(o);break;case f.PAGE_DOWN:t.nextPage(o),t._preventEvent(o);break;case f.UP:if(v==="vertical"||i==="sliding"||!p)t.previous(o),t._preventEvent(o);break;case f.DOWN:v==="vertical"||i==="sliding"||!p?(t.next(o),t._preventEvent(o)):l&&i==="flyout"&&e.wijmo.wijmenu._hasVisibleSubMenus(l)>0&&u.is(":hidden")&&l._showFlyoutSubmenu(o,function(){t.activate(o,l._getFirstSelectableSubItem())});break;case f.RIGHT:v==="horizontal"&&p&&i==="flyout"?(r==="rtl"?t.previous(o):t.next(o),t._preventEvent(o)):l&&(s=l.getParent(),r==="rtl"?t._keyDownToCloseSubmenu(i,o,s):t._keyDownToOpenSubmenu(l,i,o,u));break;case f.LEFT:v==="horizontal"&&p&&i==="flyout"?(r==="rtl"?t.next(o):t.previous(o),t._preventEvent(o)):(l&&(s=l.getParent()),r==="rtl"?t._keyDownToOpenSubmenu(l,i,o,u):t._keyDownToCloseSubmenu(i,o,s));break;case f.ENTER:if(!l)return;d=l._getLink();if(i==="flyout")break;t.select(),d.is("a")&&d.attr("href")==="#"&&t._preventEvent(o);break;case f.TAB:t.next(o),t._preventEvent(o)}})},_keyDownToOpenSubmenu:function(t,n,r,i){var s=this;n==="flyout"&&e.wijmo.wijmenu._hasVisibleSubMenus(t)>0?i.is(":hidden")&&t._showFlyoutSubmenu(r,function(){s.activate(r,t._getFirstSelectableSubItem())}):n==="sliding"&&i.length>0&&t._getLink().trigger("click",t._getFirstSelectableSubItem())},_keyDownToCloseSubmenu:function(t,n,r){var i=this,s=i.options,o;t==="flyout"?r&&(r._hideCurrentSubmenu(n),i.activate(n,r)):(s.backLink&&i._backLink&&i._backLink.is(":visible")&&i._backLink.trigger("click",function(){r&&i.activate(n,r)}),o=e(".wijmo-wijmenu-breadcrumb",i.domObject.menucontainer).find("li a"),o.length>0&&o.eq(o.length-2).trigger("click",function(){r&&i.activate(n,r)}))},_createMenuItems:function(){for(var t=this,n=[],r=t.options.items.length,i=t._getSublist().children("li").length,s,o=0;o<r-i;o++)t._getSublist().append("<li>");return e(">li",t._getSublist()).each(function(r){var i=e(this),o=e.wijmo.wijmenu._getMenuItemOptions(t.options,r);s=t._createItemWidget(i,o),n.push(s),t.options.items[r]=s.options}),n},_itemWidgetName:"wijmenuitem",_createItemWidget:function(t,n){var r=this._itemWidgetName;return e.fn[r]&&t[r](n),e.wijmo.wijmenu._getItemWidget(t)},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo(n.domObject.menucontainer)):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_getDisabled:function(){var e=this,t=e.options;return t.disabledState===!0||t.disabled===!0},_createDisabledDiv:function(){return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:"100%",height:"100%",left:0,top:0})},_innerDestroy:function(){var e=this,t=e.options;e.destroying=!0,e[t.mode==="flyout"?"_killFlyout":"_killDrilldown"](),e._killMenuItems(),e._killtrigger(),e._killElement(),e.destroying=!1},destroy:function(){var t=this;this._innerDestroy(),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.Widget.prototype.destroy.apply(this)},activate:function(t,n){if(!n)return;var r=this,i=r.domObject.scrollcontainer,s,o,u=!1,f=!0;s=(n.jquery?n:n.element).eq(0);if(r.activeItem&&r.activeItem.element.get(0)===s.get(0))return;r.deactivate(t),r.activeItem=e.wijmo.wijmenu._getItemWidget(s),o=s.children(":first"),r._trigger("focus",t,{item:r.activeItem}),r.options.mode==="sliding"&&(f=s.parent().is(".wijmo-wijmenu-current"),u=f&&r._hasScroll()&&i.wijsuperpanel("needToScroll",s),u&&(r._linkContainer.link=o,r._linkContainer.needToFocus=!0,i.wijsuperpanel("scrollChildIntoView",s))),o.addClass("ui-state-focus").end(),r.element.removeAttr("aria-activedescendant"),r.element.attr("aria-activedescendant",s.attr("id")),f&&!u&&o.is("a")&&o.focus()},deactivate:function(){var e=this,t=e.activeItem;if(!t)return;setTimeout(function(){t._getLink().removeClass("ui-state-focus").removeAttr("id"),e._trigger("blur")},0),e.activeItem=null},next:function(e){this._move("next",function(e){return e._getFirstSelectableSubItem()},e)},previous:function(e){this._move("previous",function(e){return e._getLastSelectableSubItem()},e)},first:function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getFirstSelectableSubItem(),r&&t[0]===r.element[0]):!1},last:function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getLastSelectableSubItem(),r&&t[0]===r.element[0]):!1},nextPage:function(t){var n=this,r=n._getActiveItemElement(),i,s,o,u,f;r?u=n.activeItem._getParentOrMenu():(u=n,r=n._getFirstSelectableSubItem());if(n.options.mode==="sliding"&&n._hasScroll()){if(!r||n.last()){n.activate(t,u._getFirstSelectableSubItem());return}i=r.offset().top,s=n.options.maxHeight,o=e.wijmo.wijmenu._getSelectableSubItems(u,function(t){var n=e(t.element),r=s-(n.offset().top-i+n.height()),o=n.height();return r<o&&r>-o}),o.length?o=o[o.length-1]:o=u._getLastSelectableSubItem(),n.activate(t,o)}else!r||n.last()?f=u._getFirstSelectableSubItem():f=u._getLastSelectableSubItem(),n.activate(t,f)},previousPage:function(t){var n=this,r=n._getActiveItemElement(),i,s,o,u,f;r?u=n.activeItem._getParentOrMenu():(u=n,r=n._getFirstSelectableSubItem());if(n.options.mode==="sliding"&&n._hasScroll()){if(!r||n.first()){n.activate(t,u._getLastSelectableSubItem());return}i=r.offset().top,s=n.options.maxHeight,o=e.wijmo.wijmenu._getSelectableSubItems(u,function(t){var n=e(t.element),r=n.offset().top-i+s-n.height(),o=n.height();return r<o&&r>-o}),o.length?o=o[0]:o=u._getFirstSelectableSubItem(),n.activate(t,o)}else!r||n.first()?f=u._getLastSelectableSubItem():f=u._getFirstSelectableSubItem(),n.activate(t,f)},select:function(e){var t=this,n=t.activeItem,r;t._trigger("select",e,{item:n}),t.options.checkable&&(r=!n.options.selected,n._setOption("selected",r))},_getActiveItemElement:function(){return this.activeItem?this.activeItem.element:null},setItemDisabled:function(t,n){var r=e(t,this.element);r.find(".wijmo-wijmenu-item>a").attr("disabled",n),r.find(">a").toggleClass("ui-state-disabled",n)},_setOption:function(e,t){var n=this;if(n.destroying)return;n["_set_"+e]&&n["_set_"+e](t),n.options[e]=t,e==="disabled"&&n._handleDisabledOption(t,n.domObject.menucontainer)},_set_items:function(e){var t=this;t._getSublist().children().remove(),t.options.items=e,t.refresh()},_set_mode:function(e){var t=this;t._innerDestroy(),t.options.mode=e,t.refresh()},_set_backLink:function(t){var n=this,r;this.options.backLink=t,n.options.mode==="sliding"&&(n._killDrilldown(),n._drilldown(),r=e(".wijmo-wijmenu-breadcrumb",n.domObject.menucontainer),n._resetDrilldownMenu(r))},_set_direction:function(){var e=this;e._innerDestroy(),e.refresh()},_set_orientation:function(t){var n=this,r=n.domObject.menucontainer,i=n.options.direction,s="ui-icon-triangle-1-",o=i==="rtl"?"w":"e",u=t==="horizontal"?o:"s",f=t==="horizontal"?"s":o;r.removeClass(n.cssPre+"-vertical "+n.cssPre+"-horizontal"),n.options.mode==="flyout"?(r.addClass(n.cssPre+"-"+t),e.each(n.getItems(),function(e,t){if(t.getItems().length===0)return;t._getLink().find("."+s+u).removeClass(s+u+" "+s+f).addClass(s+f)})):r.addClass(n.cssPre+"-vertical")},_getTriggerEle:function(){return e.wijmo.wijmenu._getOuterElement(this.options.trigger,".wijmo-wijmenu")},_set_triggerEvent:function(e){var t=this,n=t.options,r=t._getTriggerEle();t._killtrigger(),n.triggerEvent=e,r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},_set_trigger:function(e){var t=this,n=t.options,r;t._killtrigger(),n.trigger=e,r=t._getTriggerEle(),r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},_initTrigger:function(t){var n=this.options,r=n.triggerEvent,i=this,s=i.domObject.menucontainer,o=".wijmenuEvent";t.is("iframe")&&(t=e(t.get(0).contentWindow.document));switch(r){case"click":t.bind(r+o,function(e){n.mode!=="popup"&&i._displayMenu(e),e.stopPropagation()});break;case"mouseenter":t.bind(r+o,function(e){i._displayMenu(e),e.stopPropagation()});break;case"dblclick":t.bind(r+o,function(e){i._displayMenu(e),e.stopPropagation()});break;case"rtclick":t.bind("contextmenu"+o,function(e){s.hide(),i._displayMenu(e),e.preventDefault(),e.stopPropagation()})}},_killtrigger:function(){var t=this.options,n;t.trigger!==""&&(n=e(t.trigger),n.is("iframe")&&(n=e(n.get(0).contentWindow.document)),n&&n.length>0&&n.unbind(".wijmenuEvent").unbind("wijmenuEvent"))},_move:function(t,n,r){var i=this,s=i._getActiveItemElement(),o,u,f;if(!s||!s.length){i.activate(r,n(i));return}f=e.wijmo.wijmenu._getItemWidget(s),o=f[t](),u=f._getParentOrMenu(),o?i.activate(r,o):i.activate(r,n(u))},refresh:function(){var t=this,n=t.element,r="wijmo-wijmenu",i=t.options,s=i.direction,o,u,f,l,c;t.domObject&&t._innerDestroy();if(n.is("ul"))t._rootMenu=n,o=n.wrap("<div></div>").parent(),u=o.wrap("<div></div>").parent();else{if(!n.is("div"))return;t._rootMenu=e("ul:first",n),o=n,u=n.wrap("<div></div>").parent()}s==="rtl"&&t._rootMenu.addClass(r+"-rtl"),o.addClass("scrollcontainer checkablesupport"),u.addClass("ui-widget ui-widget-header "+r+" ui-corner-all ui-helper-clearfix").attr("aria-activedescendant","ui-active-menuitem"),i.orientation==="horizontal"&&i.mode==="flyout"&&u.addClass(r+"-"+i.orientation),f={scrollcontainer:o,menucontainer:u},t.domObject=f,t._getSublist().data("topmenu",!0),!t._getSublist().hasClass(r+"-list ui-helper-reset")&&t._getSublist().addClass(r+"-list ui-helper-reset"),t._items=t._createMenuItems(),n.show(),n.delegate("li>.wijmo-wijmenu-link","mouseenter.wijmenuEvent",function(){var n=e(this).hasClass("ui-state-disabled");if(t._getDisabled()||n)return;e(this).addClass("ui-state-hover")}).delegate("li>.wijmo-wijmenu-link","mouseleave.wijmenuEvent",function(){var n=e(this).hasClass("ui-state-disabled");if(t._getDisabled()||n)return;e(this).removeClass("ui-state-hover"),e(this).data("subMenuOpened")&&e(this).addClass("ui-state-active")}),this[i.mode==="flyout"?"_flyout":"_drilldown"](),i.trigger!==""&&(l=t._getTriggerEle(),l.length>0&&(u.hide(),t._initTrigger(l))),e(document).bind(t.clickNameSpace,function(n){if(e(n.target).parent().is(".wijmo-wijmenu-all-lists"))return;if(e(n.target).closest(i.trigger).is(i.trigger))return;var r=e(n.target).closest(".wijmo-wijmenu");if(r.length===0){if(i.mode==="sliding"){c=e(".wijmo-wijmenu-breadcrumb",u);if(i.trigger==="")return;t._resetDrilldownMenu(c)}else if(i.mode==="flyout"&&i.triggerEvent!=="mouseenter"){t._hideAllMenus(n);return}l&&l.length>0&&t._hideMenu(n)}})},_flyout:function(){var t=this,n=t.domObject.menucontainer,r=t.options;n.attr("role","menu"),r.orientation==="horizontal"&&n.attr("role","menubar"),e.each(t.getItems(),function(){this._flyout()})},_hideAllMenus:function(t){var n=this,r,i,s=function(n){n.getItems().length>0&&(e.each(n.getItems(),function(e,t){s(t)}),n._hideSubmenu(!1,t))};e.each(n._items,function(e,t){s(t)});if(n.options.trigger!==""){r=n.domObject.menucontainer;if(r.data("isAnimated"))return;i=n._getTriggerEle();if(i.length===0)return;n._hideMenu(t)}},hideAllMenus:function(e){this._hideAllMenus(e)},_killFlyout:function(){e.each(this.getItems(),function(){this._killFlyout()})},_killElement:function(){var t=this,n=t._getSublist();n.removeClass("wijmo-wijmenu-list ui-helper-reset wijmo-wijmenu-content ui-helper-clearfix"),e(document).unbind(t.clickNameSpace),t.element.is("ul")?t.element.unwrap().unwrap():t.element.unwrap(),t.domObject=null,t.element.removeData("topmenu").removeData("firstLeftValue").removeData("domObject"),n.undelegate(".wijmenuEvent")},_killMenuItems:function(){for(var e=this,t=e.getItems(),n=t.length-1;n>=0;n--)t[n].destroy(!0);e._items.length=0},_sroll:function(){var e=this.domObject.scrollcontainer,t=this.options.superPanelOptions||{};e.height(this.options.maxHeight),e.wijsuperpanel(t)},_initScrollCallback:function(){var e=this,t=e.domObject.scrollcontainer;e._linkContainer={link:null,needToFocus:!1},t.wijsuperpanel({scrolled:function(){var t=e._linkContainer.link;e._linkContainer.needToFocus&&t&&t.is("a")&&(t.focus(),e._linkContainer.needToFocus=!1)}})},_resetScroll:function(e){var t=this,n=t._rootMenu.parent(),r=5,i=t.domObject.scrollcontainer,s=e._getSublist();n.height(s.height()),i.wijsuperpanel("option","hScroller",{scrollValue:0}),i.wijsuperpanel("option","vScroller",{scrollValue:0}),i.wijsuperpanel("paintPanel"),t._hasScroll()&&(s.prev().length>0&&(r=s.prev().css("padding-left").replace(/px/g,"")),s.width(i.find(".wijmo-wijsuperpanel-contentwrapper:first").width()-r),n.height(s.height()),i.wijsuperpanel("paintPanel"))},_hasScroll:function(){var e=this.domObject.scrollcontainer;return e.data("wijsuperpanel").vNeedScrollBar},_resetDrillChildMenu:function(e){e.removeClass("wijmo-wijmenu-scroll wijmo-wijmenu-current").height("auto")},_resetDrilldownMenu:function(t,n){var r=this,i=r.options,s=r._getSublist(),o=r.domObject.menucontainer,u=e('<li class="wijmo-wijmenu-breadcrumb-text">'+i.crumbDefaultText+"</li>"),f=function(t){e.each(t,function(e,t){var n=t._getSublist(),i=t.getItems();n.hide(),r._resetDrillChildMenu(n),i.length>0&&f(i)})};e(".wijmo-wijmenu-current",o).removeClass("wijmo-wijmenu-current"),s.animate({left:0},i.showDuration,function(){f(r.getItems()),s.addClass("wijmo-wijmenu-current"),n&&n()}),e(".wijmo-wijmenu-all-lists",o).find("span").remove(),t.empty().append(u),e(".wijmo-wijmenu-footer",o).empty().hide(),r._resetScroll(r)},_drilldown:function(){var t=this,n=t._getSublist(),r=t.domObject.menucontainer.attr("role","menu"),i,s=t.options,o=s.direction,u=e('<ul class="wijmo-wijmenu-breadcrumb ui-state-default ui-corner-all ui-helper-clearfix"></ul>'),f=e('<li class="wijmo-wijmenu-breadcrumb-text">'+s.crumbDefaultText+"</li>"),l=s.backLink?s.backLinkText:s.topLinkText,c=s.backLink?"wijmo-wijmenu-prev-list":"wijmo-wijmenu-all-lists",h=s.backLink?"ui-state-default ui-corner-all":"",p=s.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"",d=e('<li class="'+c+'"><a href="#" class="'+h+'">'+p+l+"</a></li>");n.wrap("<div>").parent().css("position","relative"),r.addClass("wijmo-wijmenu-ipod wijmo-wijmenu-container"),s.backLink?u.addClass("wijmo-wijmenu-footer").appendTo(r).hide():u.addClass("wijmo-wijmenu-header").prependTo(r),!s.backLink&&u.append(f),i=r.width(),n.addClass("wijmo-wijmenu-content wijmo-wijmenu-current ui-widget-content ui-helper-clearfix").css({width:i}),e.each(t.getItems(),function(e,t){t._setDrilldownUlStyle()}),t._sroll(),t._initScrollCallback(),t._resetScroll(t),t.element.data("firstLeftValue",parseFloat(n.css("left"))),n.delegate("li>.wijmo-wijmenu-link","click",function(i,f){var l=e(this).parent(),c=l.attr("disabled"),h,p,v,m,g,y,w,E,S,x=e.wijmo.wijmenu._getItemWidget(l);if(t._getDisabled()||c)return;n.stop(!0,!0),S=e.wijmo.wijmenu._hasVisibleSubMenus(x);if(!S){t._leafNodeClick(i,x,u);return}h=x._getSublist();if(h.hasClass("wijmo-wijmenu-current"))return;if(!t._trigger("showing",i,x))return;p=x._getParentOrMenu()._getSublist(),v=p.data("topmenu")?0:parseFloat(n.css("left")),o==="rtl"?y=Math.round(v+parseFloat(r.width())):y=Math.round(v-parseFloat(r.width())),w=e(".wijmo-wijmenu-footer",r),E=function(n,i){var s=n,o=e(".wijmo-wijmenu-current",r),u,f;if(o.get(0)===t._getSublist().get(0))return;i?(u=i._getSublist(),f=i):(u=o.parents("ul:eq(0)"),f=e.wijmo.wijmenu._getItemWidget(o.parent())._getParentOrMenu()),o.hide().attr("aria-expanded","false"),t._resetDrillChildMenu(o),t._resetScroll(f),u.addClass("wijmo-wijmenu-current").attr("aria-expanded","true"),u.hasClass("wijmo-wijmenu-content")&&(s.remove(),w.hide())},t._resetDrillChildMenu(p),t._resetScroll(x),t._slidingAnimation(n,y,function(){t._trigger("shown",i,x),t.activate(i,f||x),t.select(i)}),h.show().addClass("wijmo-wijmenu-current").attr("aria-expanded","true"),s.backLink?w.find("a").size()===0&&(w.show(),t._backLink=e('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>'+s.backLinkText+"</span></a>").appendTo(w).click(function(i,s){if(t._getDisabled())return;var u=t._getCurrentItemInSliding(),f=e(this),l;if(!t._trigger("hidding",i,u))return;n.stop(!0,!0);if(o==="rtl")l=Math.round(n.css("left").replace("px",""))-Math.round(r.width());else{l=Math.round(n.css("left").replace("px",""))+Math.round(r.width());if(l>v)return}t._slidingAnimation(n,l,function(){t._trigger("hidden",i,u),E(f),s&&s()}),i.preventDefault()})):(u.find("li").size()===1&&(u.empty().append(d),d.find("a").click(function(n,r){var i=e(this).parent(),s=t._getCurrentItemInSliding();t._slidingMenu(n,i,s,null,function(e){e?(E(null,e),r&&r()):t._resetDrilldownMenu(u,r)}),n.preventDefault()})),e(".wijmo-wijmenu-current-crumb",r).removeClass("wijmo-wijmenu-current-crumb"),m=x._getLink().text(),g=e('<li class="wijmo-wijmenu-current-crumb"><a href="#" class="wijmo-wijmenu-crumb">'+m+"</a></li>"),g.appendTo(u).find("a").click(function(n,r){if(t._getDisabled())return;var i=e(this).parent(),s;i.is(".wijmo-wijmenu-current-crumb")||(s=t._getCurrentItemInSliding(),t._slidingMenu(n,i,s,x,function(e){E(null,e),r&&r()})),n.preventDefault()}),g.prev().append(' <span class="ui-icon ui-icon-carat-1-e"></span>')),e(this).attr("href")==="#"&&i.preventDefault()})},_slidingMenu:function(e,t,n,r,i){var s=this,o=s._getSublist(),u=s.options.direction,a=s.domObject.menucontainer,f=a.width(),l=t.parent().children().length-1,c,h,p,d,v=function(e,t,n){c=(u==="rtl"?1:-1)*t*f,s._slidingAnimation(o,c,function(){n&&n(e)})},m=function(t,n){var r;if(t!==n){r=s._trigger("hidding",e,t);if(r)return l--,d&&d(),d=function(){s._trigger("hidden",e,t)},m(t.getParent(),n)}return t};h=m(n,r),h!==n&&(v(h,l,function(){d&&d(),i&&i(h)}),p=t.parent().children().eq(l),p.addClass("wijmo-wijmenu-current-crumb").find("span").remove(),p.nextAll().remove())},_getCurrentItemInSliding:function(){var t=this,n=t.domObject.menucontainer,r=e(".wijmo-wijmenu-current",n),i=e.wijmo.wijmenu._getItemWidget(r.parent());return i},_leafNodeClick:function(e,t,n){var r=this,i=r.options,s;r.activate(e,t),r.select(e),i.trigger&&(s=r._getTriggerEle(),s.length&&(r._hideMenu(e),r._resetDrilldownMenu(n))),t._getLink().attr("href")==="#"&&e.preventDefault()},_slidingAnimation:function(e,t,n){var r=this.options.slidingAnimation;r&&!r.disabled?e.stop(!0,!0).animate({left:t},r.duration,r.easing,n):(e.css("left",t),n.call(this))},_killDrilldown:function(){var t=this._getSublist(),n=this.domObject,r={width:"",height:""};t.css(r).removeClass("ui-widget-content"),n.scrollcontainer&&n.scrollcontainer.parent().length>0&&(n.scrollcontainer.css(r),n.scrollcontainer.wijsuperpanel("destroy"),n.scrollcontainer.removeClass("wijmo-wijsuperpanel").append(t)),t.prevAll().remove(),n.menucontainer.removeClass("wijmo-wijmenu-ipod wijmo-wijmenu-container"),e(".wijmo-wijmenu-current",n.menucontainer).removeClass("wijmo-wijmenu-current"),e(".wijmo-wijmenu-breadcrumb",n.menucontainer).remove(),t.undelegate("li>.wijmo-wijmenu-link","click"),e("ul",t).css({left:"",width:""}),t.css("left",""),n.scrollcontainer=n.menucontainer.children(":first")},_displayMenu:function(t){var n=this,r=n.options,i,s,o,u=n.domObject.menucontainer,f=e(t.target),l=!e.wijmo.wijmenu._hasVisibleSubMenus(n);if(u.is(":visible")||l)return;if(!n._trigger("showing",t,n))return;u.show(),n._setPosition(f),n.nowIndex++,n._setZindex(u,n.nowIndex),u.hide(),i={context:u,show:!0},s=r.direction==="rtl"?"right":"left",o=e.extend({},{option:{direction:s}},r.animation,r.showAnimation),e.wijmo.wijmenu._animateFlyoutMenu(o,i,function(){n._trigger("shown",t,n)}),n._isClickToOpen=r.triggerEvent==="click",this.element.data("shown",!0)},_hideMenu:function(t){var n=this,r=n.options,i=this.domObject.menucontainer,s=e.wijmo.wijmenu.animations,o,u;if(!this.element.data("shown"))return;if(!n._trigger("hidding",t,n))return;this.element.data("shown",!1),e.fn.wijhide?(o={context:i,show:!1},u=e.extend({},r.animation,r.hideAnimation),i.wijhide(u,s,o,null,function(){n._setZindex(i),i.attr("aria-hidden",!0),n._trigger("hidden",t,n)})):(i.hide().attr("aria-hidden",!0),n._setZindex(i),n._trigger("hidden",t,n))},_setZindex:function(t,n){var r=this.domObject,i;if(!r)return;i=r.menucontainer;if(t.get(0)===i.get(0)){n?i.css("z-index",n):i.css("z-index","");return}n?(t.parent().css("z-index",999),t.css("z-index",n),e.browser.msie&&e.browser.version<8&&i.css("z-index")===0&&i.css("z-index",9950)):(t.css("z-index",""),t.parent().css("z-index",""),e.browser.msie&&e.browser.version<8&&e("ul:visible",this._getSublist()).length===0&&i.css("z-index")===9950&&i.css("z-index",""))},_setPosition:function(t){var n=this._getPosition(),r={of:t},i=this.domObject.menucontainer;i.css({left:"0",top:"0",position:"absolute"}),i.position(e.extend(r,n))},_getPosition:function(){var t=this.options,n=t.direction,r=n==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};return r=e.extend(r,t.position),r},_getFirstSelectableSubItem:function(){return e.wijmo.wijmenu._getFirstSelectableSubItem(this)},_getLastSelectableSubItem:function(){return e.wijmo.wijmenu._getLastSelectableSubItem(this)},add:function(t,n){e.wijmo.wijmenu._add(this,t,n)},_getSublist:function(){return this._rootMenu},getItems:function(){return this._items},remove:function(t){e.wijmo.wijmenu._remove(this,t)},_newId:function(){for(var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",n=0;n<16;n++)t+=e[Math.round(Math.random()*25)];return t}}),e.widget("wijmo.wijmenuitem",{options:{header:!1,separator:!1,value:"",text:"",navigateUrl:"",target:"",iconClass:"",imagePosition:"",displayVisible:!0,selected:!1,items:null},_initState:function(){this._items=[],this._resetMarkupValue(),this.options.items||(this.options.items=[])},_create:function(){var t=this;t.element.data("wijmomenuitem",t.widgetName),t._initState(),t._getOrSetOptionsValues(),t._createChildMenuItems(),t._initCssClass(),e.Widget.prototype._create.apply(t,arguments)},_refresh:function(){var e=this,t=e.options;e._set_navigateUrl(t.navigateUrl),e._set_target(t.target),e._set_displayVisible(t.displayVisible),e._createChildMenuItems(),e._initCssClass()},_setOption:function(t,n){var r=this,i=r.options,s;if(t==="items"){e.Widget.prototype._setOption.apply(r,arguments),r._set_items(n);return}if(n===i[t])return;e.Widget.prototype._setOption.apply(r,arguments);if(!e.isFunction(r["_set_"+t]))return;r["_set_"+t](n,!0);switch(t){case"header":case"separator":r._refresh();break;case"displayVisible":s=r.getParent(),s&&s._setSubmenuIcon()}},index:function(){return this.element.index()},_set_selected:function(e){var t=this,n=t._getMenuItemType();n===t._markupType.link?t._getLink().toggleClass("ui-state-active",e):t.options.selected=!1},_set_items:function(e){var t=this;t._getSublist().remove(),t._items=[],e.length>0&&(t._createChildMenuItems(),t._initUlCssClass()),t._setSubmenuIcon(e.length>0),t._bindModeEvents(t,!0),t._resetMarkupValue()},_bindModeEvents:function(e,t){var n=this,r=e._getMenu(),i=r.options;t&&(n._initUlCssClass(),n._setSubmenuIcon(),n._resetMarkupValue()),i.mode==="flyout"?t?(n._killFlyout(),n._flyout()):e._flyout():(n._setDrilldownUlStyle(),e.element.parent().is(":visible")&&r._resetScroll(e._getParentOrMenu()))},_set_value:function(e){this.options.value=e},_set_text:function(e,t){var n=this,r=n.options;e||t?n._setText(e):r.text=n._getText()},_set_navigateUrl:function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(e||t?i.attr("href",e):r.navigateUrl=i.attr("href"))},_set_target:function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(r.target||t?i.attr("target",e):r.target=i.attr("target")||"")},_set_iconClass:function(t,n){var r=this,i=r.options,s,o,u,f;if(i.header===!0||i.separator===!0)return;s=r._getLink(),o=s.find("span.wijmenuitem-icon"),t?(o.length===0&&(o=e("<span>"),u=s.children(".wijmo-wijmenu-text").wrap("<span>").parent(),u.addClass("wijmo-wijmenu-text"),u.prepend(o)),o.attr("class",t+" wijmo-wijmenu-icon-left wijmenuitem-icon"),n&&r._set_imagePosition(i.imagePosition)):o.length!==0&&(o.remove(),u=s.children(".wijmo-wijmenu-text"),f=u.text(),u.html(""),u.text(f)),r._getMenuItemType()===r._markupType.other&&s.addClass("wijmo-wijmenu-link ui-corner-all")},_set_imagePosition:function(e){var t=this,n=t._getLink(),r=n.find(">span>span.wijmenuitem-icon"),i=e==="right"?"right":"left";if(r.length===0)return;r.removeClass("wijmo-wijmenu-icon-right").removeClass("wijmo-wijmenu-icon-left").addClass("wijmo-wijmenu-icon-"+i)},_set_separator:function(e,n){var r=this,i=r.element,s=r.options,o=r._getLink(),u="wijmo-wijmenu",a=u+"-separator ui-state-default ui-corner-all",f="ui-widget "+t+" ui-state-default ui-corner-all";n&&e===!1?(i.html("").removeClass(a).removeClass(f),r._createMenuItemMarkup(r._markupType.link).appendTo(i)):e===!0||o.length===0?(s.separator=!0,s.header=!1,r._createMenuItemMarkup(r._markupType.separator)):s.separator=!1,r._resetMarkupValue()},_set_header:function(e,n){var r=this,i=r.element,s=r.options,o=r._getLink(),u="ui-widget-header ui-corner-all",a="ui-widget "+t+" ui-state-default ui-corner-all";n&&e===!1?(s.header=!1,i.html("").removeClass(u).removeClass(a),r._createMenuItemMarkup(r._markupType.link).appendTo(i)):e===!0||o.is("h1,h2,h3,h4,h5")?(s.header=!0,s.separator=!1,o.is("h1,h2,h3,h4,h5")||(o.remove(),o=r._createMenuItemMarkup(r._markupType.header),i.append(o))):s.header=!1,r._resetMarkupValue()},_set_displayVisible:function(e){var t=this,n=t.element;e?n.show():n.hide()},_markupType:{link:0,separator:1,header:2,other:3},_createMenuItemMarkup:function(t){var n=this,r=n.options,i=n.element,s;return t===n._markupType.separator?(i.html(""),null):(t===n._markupType.header?s=e("<h3></h3>").text(r.text):s=e("<a>").text(r.text),s)},_getMenuItemType:function(t){var n=this,r=n.options,i=n._getLink();return t&&(r=e.extend({},r,t)),r.separator===!0?n._markupType.separator:r.header===!0?n._markupType.header:i.length===0?r.text?n._markupType.link:n._markupType.separator:i.is("a")?n._markupType.link:i.is("h1,h2,h3,h4,h5")?n._markupType.header:n._markupType.other},_getOrSetOptionsValues:function(){var e=this,t=e.element,n=e.options,r=e._getLink(),i=e._getMenuItemType();i===e._markupType.header?(e._set_header(n.header),e._set_text(n.text)):i===e._markupType.separator?e._set_separator(n.separator):(r.length===0?(r=e._createMenuItemMarkup(i),t.append(r)):e._set_text(n.text),e._resetMarkupValue(),e._set_navigateUrl(n.navigateUrl),e._set_target(n.target)),e._set_displayVisible(n.displayVisible),e._set_selected(n.selected)},_getText:function(){return this._getLink().text()},_setText:function(e){var t=this.element,n;n=t.find(":not(ul)a .wijmo-wijmenu-text:first");if(n.length!==0){n.text(e);return}n=t.children("h1,h2,h3,h4,h5").filter(":first");if(n.length!==0){n.text(e);return}n=t.children("a:first");if(n.length!==0){n.text(e);return}},_createChildMenuItems:function(){var t=this,n=t.element,r=t._items,i=t.options,s,o,u,f,l;if(i.header===!0||i.separator===!0)return;s=i.items.length,o=t._getSublist(),u=o.children("li").length;if(s>u){o.length===0&&(o=e("<ul>").appendTo(n),t._resetMarkupValue());for(f=0;f<s-u;f++)o.append("<li>")}e.each(t._getChildren(),function(n,i){var s=e(i),o;o=e.wijmo.wijmenu._getMenuItemOptions(t.options,n),l=t._createItemWidget(s,o),r.push(l),t.options.items[n]=l.options})},_createItemWidget:function(e,t){var n=this,r=n.widgetName;return e[r](t),e.data(n.widgetName)},_initCssClass:function(){var e=this,n=this.element,r=e.options,i=e._getLink(),s="wijmo-wijmenu",o=s+"-separator ui-state-default ui-corner-all",u="ui-widget-header ui-corner-all",a="ui-widget "+t+" ui-state-default ui-corner-all",f=s+"-link ui-corner-all",l=e._getMenuItemType();l!==e._markupType.separator&&n.attr("role","menuitem"),l===e._markupType.separator?n.addClass(o):l===e._markupType.header?n.addClass(u):(l===e._markupType.link?n.hasClass(t)||(n.addClass(a),i.addClass(f),i.wrapInner("<span>").children("span").addClass(s+"-text")):n.addClass(a),e._setSubmenuIcon()),e._set_iconClass(r.iconClass),e._set_imagePosition(r.imagePosition),e._initUlCssClass()},_initUlCssClass:function(){var e="wijmo-wijmenu";this._getSublist().addClass(e+"-list ui-widget-content ui-corner-all ui-helper-clearfix "+e+"-child ui-helper-reset").hide()},_setSubmenuIcon:function(t){var n=this,r=n._getLink(),i=n._getMenu(),s=i.options.direction,o=s==="rtl"?r.children("span.ui-icon:first"):r.children("span.ui-icon:last");t===undefined&&(t=e.wijmo.wijmenu._hasVisibleSubMenus(n)),t&&!r.is(":input")?(o.length===0&&(s==="rtl"?o=e("<span>").prependTo(r):o=e("<span>").appendTo(r)),n._isRoot()&&i.options.orientation==="horizontal"&&i.options.mode==="flyout"?o.attr("class","ui-icon ui-icon-triangle-1-s"):s==="rtl"?o.attr("class","ui-icon ui-icon-triangle-1-w"):o.attr("class","ui-icon ui-icon-triangle-1-e")):o.remove()},_killFlyout:function(){var t=this.element.attr("role","");t.removeClass("wijmo-wijmenu-parent").unbind(".wijmenuEvent").unbind(".wijmenuitem").children(":first").unbind(".wijmenuEvent").unbind(".wijmenuitem").attr("aria-haspopup",""),this._getSublist().unbind(".wijmenuEvent").unbind(".wijmenuitem"),e.each(this.getItems(),function(){this._killFlyout()})},_getItemTriggerEvent:function(){var t=this,n=t.element,r=t._getMenu(),i=r.options,s="default";return i.trigger!==""&&(n.is(i.trigger)||r.element.is(i.trigger)?s=i.triggerEvent:(n.parents(".wijmo-wijmenu-parent").each(function(t,n){if(e(n).is(i.trigger))return s=i.triggerEvent,!1}),s==="default"&&t._isOuterTirggerEle()&&(s=i.triggerEvent))),n.data("triggerEvent",s),s},_isOuterTirggerEle:function(){var t=this._getMenu();return e.wijmo.wijmenu._getOuterElement(t.options.trigger,".wijmo-wijmenu").length>0},_flyout:function(){var t=this,n=t._getMenu(),r="wijmo-wijmenu-link",i="wijmo-wijmenu-parent",s=n.options,o=".wijmenuitem",u=e(t.element).attr("aria-haspopup",!0),f,l,c=t._getItemTriggerEvent(),h=u.children("a."+r),p=t._getSublist(),d;if(t.getItems().length>0){p.bind("mouseleave"+o,function(e){if(s.disabled)return;l=setTimeout(function(){t._hideCurrentSubmenu(e)},s.hideDelay)}),u.removeClass(i).addClass(i);if(c!=="default"&&s.triggerEvent!=="mouseenter"){switch(s.triggerEvent){case"click":h.bind("click"+o,function(n){if(s.disabled||e(this).hasClass("ui-state-disabled"))return;t._showFlyoutSubmenu(n)});break;case"dblclick":h.bind("dblclick"+o,function(n){if(s.disabled||e(this).hasClass("ui-state-disabled"))return;t._showFlyoutSubmenu(n)});break;case"rtclick":h.bind("contextmenu"+o,function(n){if(s.disabled||e(this).hasClass("ui-state-disabled"))return;t._showFlyoutSubmenu(n),n.preventDefault()})}p.data("notClose",!0)}else h.bind("mouseenter.wijmenuEvent",function(n){if(s.disabled||e(this).hasClass("ui-state-disabled"))return;clearTimeout(l),f=setTimeout(function(){t._displaySubmenu(n)},s.showDelay)}).bind("mouseleave"+o,function(n){if(s.disabled||e(this).hasClass("ui-state-disabled"))return;clearTimeout(f),p.is("ul")||(p=p.children("ul:first")),l=setTimeout(function(){t._hideSubmenu(!1,n)},s.hideDelay)}),t.getItems().length>0&&t._getSublist().bind("mouseenter"+o,function(){if(s.disabled)return;clearTimeout(l)})}h.bind("click.wijmenuEvent",function(e){d=h.hasClass("ui-state-disabled");if(s.disabled||d)return;if(h.is("a")){if(t._getSublist().length===0)n._hideAllMenus(e);else if(s.trigger===""||u.data("triggerEvent")==="default"||s.triggerEvent==="mouseenter")n._hideAllMenus(e);else{var r=n._currentMenuList,i,o;if(r!==undefined){i=u;if(t._getSublist().length===0)for(o=r.length;o>0;o--){if(r[o-1]===t)break;r[o-1]._hideSubmenu(!1,e)}}}n.activate(e,t)}n.select(e),h.attr("href")==="#"&&e.preventDefault()}).bind("focusin.wijmenuEvent",function(e){d=h.hasClass("ui-state-disabled");if(s.disabled||d)return;h.is("a")&&n.activate(e,t)}),e.each(t.getItems(),function(){this._flyout()})},_hideSubmenu:function(t,n){var r=this,i=r._getMenu(),s=i.options,o=e.wijmo.wijmenu.animations,u,f,l,c=r._getSublist(),h=r._getLink();if(!h.data("subMenuOpened"))return;if(!i._trigger("hidding",n,r))return;h.is(".wijmo-wijmenu-link")&&(h.data("subMenuOpened",!1),h.removeClass("ui-state-active")),e.fn.wijhide&&t!==!0?(u={context:c,show:!1},f=e.extend({},s.animation,s.hideAnimation),c.wijhide(f,o,u,null,function(){i._setZindex(c),c.attr("aria-hidden",!0),i._trigger("hidden",n,r)})):(c.hide().attr("aria-hidden",!0),i._setZindex(c),i._trigger("hidden",n,r)),l=i._currentMenuList,l&&(l=e.map(l,function(e){return e&&e===r?null:e}),i._currentMenuList=e.makeArray(l))},_displaySubmenu:function(t,n){var r=this,i=r._getMenu(),s=i.options,o,u,f,l,c=r._getLink(),h=r._getSublist();l=!e.wijmo.wijmenu._hasVisibleSubMenus(r);if(h.is(":visible")||l)return;if(!i._trigger("showing",t,r))return;c.is("a.wijmo-wijmenu-link")&&c.data("subMenuOpened",!0),h.show(),this._setMenuItemPosition(),i.nowIndex++,i._setZindex(h,i.nowIndex),h.hide(),o={context:h,show:!0},u=s.direction==="rtl"?"right":"left",s.orientation==="horizontal"&&r._isRoot()&&(u="up"),f=e.extend({},{option:{direction:u}},s.animation,s.showAnimation),e.wijmo.wijmenu._animateFlyoutMenu(f,o,function(){h.is(":hidden")&&r._hideSubmenu(!0,t),i._trigger("shown",t,r),n&&n()}),i._isClickToOpen=s.triggerEvent==="click",i._currentMenuList===undefined&&(i._currentMenuList=[]),i._currentMenuList.push(r)},_setMenuItemPosition:function(){var t=this,n=t._getSublist(),r=t._getMenuItemPosition(),i={of:this._getLink()};n.css({left:"0",top:"0",position:"absolute"}),n.position(e.extend(i,r))},_getMenuItemPosition:function(){var t=this,n=this._getMenu(),r=n.options,i=r.direction,s=i==="rtl"?{my:"right top",at:"left top"}:{my:"left top",at:"right top"};return r.orientation==="horizontal"&&t._isRoot()&&(s=i==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"}),s=e.extend(s,r.position),s},_getChildren:function(){return this._getSublist().children("li")},_setDrilldownUlStyle:function(){var t=this,n=t._getSublist(),r=t._getMenu(),i=r.domObject.menucontainer.width();r.options.direction==="rtl"?n.css({width:i,left:-i}):n.css({width:i,left:i}),n.addClass("ui-widget-content"),e.each(t.getItems(),function(e,t){t.getItems().length&&this._setDrilldownUlStyle()})},_getMenu:function(){var e=this,t=e._menu,n,r;if(!t){n=e.element.parent();while(!n.is("body")&&n.length>0){r=n.data("wijmomenu");if(r)return t=n.data(r),e._menu=t,t;n=n.parent()}throw"An menuitem must be a child of menu"}return t},getParent:function(){var t=this,n=t.element,r,i,s;i=t._parent;if(i!==undefined)return i;s=n.parents("li:first");if(s.length>0){i=e.wijmo.wijmenu._getItemWidget(s);if(i!==undefined)return t._parent=i,i}r=t._getMenu();if(r._getSublist().get(0)===n.parent().get(0))return t._parent=null,null;throw"An menuitem must be a child of menu or another menuitem"},_getParentOrMenu:function(){return this.getParent()||this._getMenu()},_getField:function(e){return this.element.data(e)},_setField:function(e,t){return this.element.data(e,t)},_innerDestroy:function(e){var n=this,r=n.element,i,s=n.getItems(),o=s.length-1;r.removeClass("ui-widget "+t+" ui-state-default ui-corner-all wijmo-wijmenu-parent ui-widget-header wijmo-wijmenu-separator"),i=r.children(".wijmo-wijmenu-link"),i.removeClass("wijmo-wijmenu-link ui-corner-all ui-state-focus ui-state-hover ui-state-active").html(i.children(".wijmo-wijmenu-text").html()).unbind(".wijmenuitem").unbind(".wijmenuEvent"),r.children("ul").removeClass("wijmo-wijmenu-list ui-widget-content ui-corner-all ui-helper-clearfix wijmo-wijmenu-child ui-helper-reset").attr("role","").attr("aria-activedescendant","").show().css({left:"",top:"",position:""}).attr("hidden",""),r.removeAttr("role"),i.removeAttr("aria-haspopup"),!e&&n._removeFromParentCollection(),r.removeData("menu").removeData("parent");for(;o>=0;o--)s[o].destroy(!0);n._items.length=0,n._resetMarkupValue()},destroy:function(t){var n=this;n._innerDestroy(t),e.Widget.prototype.destroy.apply(n)},_getFirstSelectableSubItem:function(){return e.wijmo.wijmenu._getFirstSelectableSubItem(this)},_getLastSelectableSubItem:function(){return e.wijmo.wijmenu._getLastSelectableSubItem(this)},next:function(){var t=this,n=t._getParentOrMenu().getItems(),r,i,s=e.inArray(t,n);if(s===-1)throw"cannot find item from the parent collection";for(r=s+1;r<n.length;r++){i=n[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return n[r].element}return null},previous:function(){var t=this,n=t._getParentOrMenu().getItems(),r,i,s=e.inArray(t,n);if(s===-1)throw"cannot find item from the parent collection";for(r=s-1;r>=0;r--){i=n[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return n[r].element}return null},_removeFromParentCollection:function(){var t=this,n,r=!1,i;n=t.getParent(),n===null&&(n=t._getMenu(),r=!0),i=e.inArray(t,n.getItems());if(i===-1)return;e.wijmo.wijmenu._changeCollection(i,n.getItems(),n.options.items),n.getItems().length===0&&(r||(n._setSubmenuIcon(!1),n._resetMarkupValue()),n.element.children("ul").remove())},_resetMarkupValue:function(){this._sublist=null,this._link=null},_hideCurrentSubmenu:function(t){var n=this,r=n._getSublist();if(r.length===0)return;!r.data("notClose")&&n._hideSubmenu(!1,t),e.each(n.getItems(),function(){this._hideCurrentSubmenu(t)})},_showFlyoutSubmenu:function(e,t){var n=this,r=this._getMenu(),i=r._currentMenuList,s;if(i!==undefined)for(s=i.length;s>0;s--){if(i[s-1]===n.getParent())break;i[s-1]._hideSubmenu(!1,e)}n._displaySubmenu(e,t)},getItems:function(){return this._items},_getSublist:function(){var e=this;return e._sublist||(e._sublist=this.element.children("ul:first")),e._sublist},_getLink:function(){var e=this;return e._link||(e._link=this.element.children(":first")),e._link},_isRoot:function(){return this.getParent()===null},add:function(t,n){e.wijmo.wijmenu._add(this,t,n)},remove:function(t){e.wijmo.wijmenu._remove(this,t)}}),e.extend(e.wijmo.wijmenu,{animations:{slide:function(t,n){t=e.extend({duration:400,easing:"swing"},t,n),t.show?t.context.stop(!0,!0).animate({height:"show"},t).attr("aria-hidden",!1):t.context.stop(!0,!0).animate({height:"hide"},t).attr("aria-hidden",!0)}},_animateFlyoutMenu:function(t,n,r){var i=n.context;e.fn.wijshow?(i.data("isAnimated",!0),i.wijshow(t,e.wijmo.wijmenuanimations,n,null,function(){i.data("isAnimated",!1);var t=e.browser;t.msie&&t.version==="9.0"?(i.wrap("<div></div>"),i.unwrap()):t.msie&&t.version==="6.0"&&i.css("overflow",""),i.attr("aria-hidden",!1),r&&r()})):i.show().attr("aria-hidden",!1)},_getMenuItemOptions:function(t,n){return t?!t.items||!e.isArray(t.items)?{}:n>=t.items.length?{}:t.items[n]:{}},_getOuterElement:function(t,n){return e(t).filter(function(){return e(this).closest(n).length===0})},_hasVisibleSubMenus:function(e){var t,n,r;e.jquery?e.data("wijmomenu")?t=e.data(e.data("wijmomenu")):e.data("wijmomenuitem")&&(t=e.data(e.data("wijmomenuitem"))):t=e;if(!t)throw"the arugment 'menuItem' must be an wijmenu or wijmenuitem";n=t.getItems();if(!n.length)return!1;for(r=0;r<n.length;r++)if(n[r].options.displayVisible)return!0;return!1},_getFirstSelectableSubItem:function(e){for(var t=e.getItems(),n,r=0;r<t.length;r++){n=t[r].options;if(n.displayVisible!==!1&&!n.header&&!n.separator)return t[r]}return null},_getLastSelectableSubItem:function(e){for(var t=e.getItems(),n,r=t.length-1;r>=0;r--){n=t[r].options;if(n.displayVisible!==!1&&!n.header&&!n.separator)return t[r]}return null},_getSelectableSubItems:function(t,n){return e.grep(t.getItems(),function(e,t){var r=e.options;return r.header||r.separator||r.displayVisible===!1?!1:n(e,t)})},_add:function(t,n,r){var i=null,s=e("<li></li>"),o=t._getSublist(),u=t.getItems(),f,l,c=!1;typeof n=="string"?/<(h[1-5]|a)[\s\S]*>[\s\S]*<\/\1>/.test(n)&&s.append(n):e.isPlainObject(n)&&(l=jQuery.extend(!0,{},n));if(!o||o.length<=0)o=e("<ul></ul>"),t.element.append(o),c=!0;(!r||isNaN(r)||r>u.length)&&r!==0&&(r=u.length),u.length>0&&u.length!==r?(f=u[r].element,s.insertBefore(f)):o.append(s),i=t._createItemWidget(s,l);if(i===null||i===undefined)return;e.wijmo.wijmenu._changeCollection(r,t.getItems(),t.options.items,i),t._bindModeEvents?t._bindModeEvents(i,c):i._bindModeEvents(i,c),c&&t._initUlCssClass()},_changeCollection:function(e,t,n,r){if(!r){t.splice(e,1),n.splice(e,1);return}t.splice(e,0,r),n.splice(e,0,r.options)},_remove:function(e,t){var n=e.getItems()[t];n&&n.element&&n.element.remove()},_getItemWidget:function(e){return e.data(e.data("wijmomenuitem"))}})}(jQuery),function(e){"use strict";function r(){return++t}function i(){return++n}var t=0,n=0;e.widget("wijmo.wijtabs",{options:{alignment:"top",sortable:!1,scrollable:!1,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,hideOption:null,showOption:null,disabledIndexes:[],event:"click",idPrefix:"ui-tabs-",panelTemplate:"",spinner:"",tabTemplate:"",add:null,remove:null,select:null,beforeShow:null,show:null,load:null,disable:null,enable:null},_defaults:{panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){var t=this,n=t.options;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){var e=t.element.data("wijtabs"),n=t.element.data("wijmoWijtabs");t.destroy(),t.element.data("wijtabs",e),t.element.data("wijmoWijtabs",n),t._tabify(!0),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijtabs"),t._tabify(!0),(n.disabledstate||n.disabled)&&t.disable(),e.Widget.prototype._create.apply(t,arguments)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"selected":if(this.options.collapsible&&n===this.options.selected)return;this.select(n);break;case"alignment":this._innerDestroy(),this._tabify(!0);break;default:this._tabify()}},_initScroller:function(){var t=e.inArray(this._getAlignment(),["top","bottom"])!==-1,n=0;if(!t)return;this.lis.each(function(){n+=e(this).outerWidth(!0)}),!!this.options.scrollable&&this.element.innerWidth()<n?(this.scrollWrap===undefined&&(this.list.wrap("<div class='scrollWrap'></div>"),this.scrollWrap=this.list.parent(),e.effects.save(this.list,["width","height","overflow"])),this.list.width(n+2),this.scrollWrap.height(this.list.outerHeight(!0)),this.scrollWrap.wijsuperpanel({allowResize:!1,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})):this._removeScroller()},_removeScroller:function(){this.scrollWrap&&(this.scrollWrap.wijsuperpanel("destroy").replaceWith(this.scrollWrap.contents()),this.scrollWrap=undefined,e.effects.restore(this.list,["width","height","overflow"]))},_tabId:function(t){var n=e(t),i,s;if(n.data&&n.data("tabid"))return n.data("tabid");if(t.href&&t.href.length){s=this._getURLParameters(t.href);if(s.tabId)return i=s.tabId,n.data("tabid",i),i}return i=t.title&&t.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+r(),n.data("tabid",i),i},_getURLParameters:function(t){var n={},r,i;return t.indexOf("?")>-1&&(r=t.split("?")[1],i=r.split("&"),e.each(i,function(e,t){var r=t.split("=");r.length>1&&(n[r[0]]=r[1])})),n},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+i());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_getAlignment:function(e){e=e===undefined?!0:e;var t=this.options.alignment||"top";if(e)return t;switch(t){case"top":t="bottom";break;case"bottom":t="top";break;case"left":t="right";break;case"right":t="left"}return t},_saveLayout:function(){var t=["width","height","overflow"],n=this.panels.filter(":not(.ui-tabs-hide)");e.effects.save(this.element,t),e.effects.save(this.list,t),e.effects.save(this.element.find(".wijmo-wijtabs-content"),t),this.list.width(this.list.width()),this.element.data("panel.width",n.width()),this.element.data("panel.outerWidth",n.outerWidth(!0))},_restoreLayout:function(){var t=["width","height","overflow"];e.effects.restore(this.element,t),e.effects.restore(this.list,t),e.effects.restore(this.element.find(".wijmo-wijtabs-content"),t)},_hideContent:function(){var e=this.element.find(".wijmo-wijtabs-content");e.length&&(this._saveLayout(),e.addClass("ui-tabs-hide").attr("aria-hidden",!0),this.element.width(this.list.outerWidth(!0)))},_showContent:function(){var e=this.element.find(".wijmo-wijtabs-content");e.length&&(this._restoreLayout(),e.removeClass("ui-tabs-hide").attr("aria-hidden",!1))},_blindPanel:function(t,n){var r=this.options,i=t.parent(".wijmo-wijtabs-content"),s=["position","top","left","width"],o=n==="show"?r.showOption:r.hideOption,u,f,l,c=this;if(!i.length)return;this.list.width(this.list.width()),e.effects.save(t,s),t.show(),n==="show"?(t.removeClass("ui-tabs-hide").attr("aria-hidden",!1),t.width(this.element.data("panel.width"))):t.width(t.width()),u=e.effects.createWrapper(t).css({overflow:"hidden"}),n==="show"&&u.css(e.extend({width:0},o.fade?{opacity:0}:{})),f=e.extend({width:n==="show"?this.element.data("panel.outerWidth"):0},o.fade?{opacity:n==="show"?1:0}:{}),l=this.list.outerWidth(!0),u.animate(f,{duration:o.duration,step:function(){var e=u.outerWidth(!0);c.element.width(l+e),i.width(Math.max(0,c.element.innerWidth()-l-6))},complete:function(){n==="hide"?(c.lis.removeClass("ui-tabs-selected ui-state-active").attr("aria-selected",!1),t.addClass("ui-tabs-hide").attr("aria-hidden",!0)):t.css("width",""),e.effects.removeWrapper(t),n==="show"&&c._restoreLayout(),c._resetStyle(t),t.dequeue(),c.element.dequeue("tabs")}})},_resetStyle:function(t){t.css({display:""}),!e.support.opacity&&t[0].style.removeAttribute("filter")},_normalizeBlindOption:function(e){e.blind===undefined&&(e.blind=!1),e.fade===undefined&&(e.fade=!1),e.duration===undefined&&(e.duration=200);if(typeof e.duration=="string")try{e.duration=parseInt(e.duration,10)}catch(t){e.duration=200}},_tabify:function(t){this.list=this.element.children("ol,ul").eq(0),this.lis=e("li:has(a)",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]);var n=this,r=this.options,i=/^#.+/,s,o,u,f,l,c,h,p,d;this.anchors.each(function(t,s){var o=e(s).attr("href")||"",u=o.split("#")[0],f,l,c;u&&(u===location.toString().split("#")[0]||(f=e("base")[0])&&u===f.href)&&(o=s.hash,s.href=o),i.test(o)?n.panels=n.panels.add(n._sanitizeSelector(o),n.element):o!=="#"?(e.data(s,"href.tabs",o),e.data(s,"load.tabs",o.replace(/#.*$/,"")),l=n._tabId(s),s.href="#"+l,c=e("#"+l),c.length||(c=e(r.panelTemplate||n._defaults.panelTemplate).attr("id",l).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(n.panels[t-1]||n.list),c.data("destroy.tabs",!0)),n.panels=n.panels.add(c)):r.disabledIndexes.push(t)}),s=this._getAlignment(),o=this._getAlignment(!1);if(t){this.list.attr("role","tablist"),this.lis.attr("role","tab"),this.panels.attr("role","tabpanel"),this.element.addClass("ui-tabs wijmo-wijtabs ui-tabs-"+s+" ui-widget ui-widget-content ui-corner-all ui-helper-clearfix"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-"+s),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-"+o);switch(s){case"bottom":this.list.appendTo(this.element);break;case"left":u=e("<div/>").addClass("wijmo-wijtabs-content").appendTo(this.element),this.panels.appendTo(u);break;case"right":u=e("<div/>").addClass("wijmo-wijtabs-content").insertBefore(this.list),this.panels.appendTo(u);break;case"top":this.list.prependTo(this.element)}r.sortable&&this.list.sortable({axis:s==="top"||s==="bottom"?"x":"y"}),r.selected===undefined?(location.hash&&this.anchors.each(function(e,t){if(t.hash===location.hash)return r.selected=e,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(n._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabledIndexes=e.unique(r.disabledIndexes.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return n.lis.index(e)}))).sort(),e.inArray(r.selected,r.disabledIndexes)!==-1&&r.disabledIndexes.splice(e.inArray(r.selected,r.disabledIndexes),1),this.panels.addClass("ui-tabs-hide").attr("aria-hidden",!0),this.lis.removeClass("ui-tabs-selected ui-state-active").attr("aria-selected",!1),r.selected>=0&&this.anchors.length&&(this.panels.eq(r.selected).removeClass("ui-tabs-hide").attr("aria-hidden",!1),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active").attr("aria-selected",!0),n.element.queue("tabs",function(){n.element.wijTriggerVisibility&&e(n.panels[r.selected]).wijTriggerVisibility(),n._trigger("show",null,n._ui(n.anchors[r.selected],n.panels[r.selected]))}),this.load(r.selected)),e(window).bind("unload",function(){n.lis&&n.lis.add(n.anchors).unbind(".tabs"),n.lis=n.anchors=n.panels=null})}else r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie);for(f=0;l=this.lis[f];f++)e(l)[e.inArray(f,r.disabledIndexes)!==-1&&!e(l).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled"),e(l).hasClass("ui-state-disabled")&&e(l).attr("aria-disabled",!0);r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),!r.disabledState&&!r.disabled&&r.event!=="mouseover"&&(c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},h=function(e,t){t.removeClass("ui-state-"+e)},this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",e(this).closest("li"))}));if(r.showOption===undefined||r.showOption===null)r.showOption={};this._normalizeBlindOption(r.showOption);if(r.hideOption===undefined||r.hideOption===null)r.hideOption={};this._normalizeBlindOption(r.hideOption),p=(r.showOption.blind||r.showOption.fade)&&r.showOption.duration>0?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active").attr("aria-selected",!0),n._showContent(),i.removeClass("ui-tabs-hide").attr("aria-hidden",!1);if(s==="top"||s==="bottom"){var o={duration:r.showOption.duration};r.showOption.blind&&(o.height="toggle"),r.showOption.fade&&(o.opacity="toggle"),i.hide().removeClass("ui-tabs-hide").attr("aria-hidden",!1).animate(o,r.showOption.duration||"normal",function(){n._resetStyle(i),i.wijTriggerVisibility&&i.wijTriggerVisibility(),n._trigger("show",null,n._ui(t,i[0]))})}else n._showContent(),n._blindPanel(i,"show")}:function(t,r){e(t).closest("li").addClass("ui-tabs-selected ui-state-active").attr("aria-selected",!0),n._showContent(),r.removeClass("ui-tabs-hide").attr("aria-hidden",!1),r.wijTriggerVisibility&&r.wijTriggerVisibility(),n._trigger("show",null,n._ui(t,r[0]))},d=(r.hideOption.blind||r.hideOption.fade)&&r.hideOption.duration>0?function(e,t){if(s==="top"||s==="bottom"){var i={duration:r.hideOption.duration};r.hideOption.blind&&(i.height="toggle"),r.hideOption.fade&&(i.opacity="toggle"),t.animate(i,r.hideOption.duration||"normal",function(){n.lis.removeClass("ui-tabs-selected ui-state-active").attr("aria-selected",!1),t.addClass("ui-tabs-hide").attr("aria-hidden",!0),n._resetStyle(t),n.element.dequeue("tabs")})}else n._saveLayout(),n._blindPanel(t,"hide")}:function(e,t){n.lis.removeClass("ui-tabs-selected ui-state-active").attr("aria-selected",!1),n._hideContent(),t.addClass("ui-tabs-hide").attr("aria-hidden",!0),n.element.dequeue("tabs")},!r.disabledState&&!r.disabled&&this.anchors.bind(r.event+".tabs",function(){var t=this,i=e(this).closest("li"),s=n.panels.filter(":not(.ui-tabs-hide)"),o=e(n._sanitizeSelector(this.hash),n.element);if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||n._trigger("select",null,n._ui(this,o[0]))===!1)return this.blur(),!1;r.selected=n.anchors.index(this),n.abort();if(r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&n._cookie(r.selected,r.cookie),n.element.queue("tabs",function(){d(t,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return r.cookie&&n._cookie(r.selected,r.cookie),n.element.queue("tabs",function(){p(t,o)}),n.load(n.anchors.index(this)),this.blur(),!1}r.cookie&&n._cookie(r.selected,r.cookie);if(!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&n.element.queue("tabs",function(){d(t,s)}),n.element.queue("tabs",function(){p(t,o)}),n.load(n.anchors.index(this)),e.browser.msie&&this.blur()}),this._initScroller(),this.anchors.bind("click.tabs",function(){return!1})},destroy:function(){this._innerDestroy(),e.Widget.prototype.destroy.apply(this,arguments)},_innerDestroy:function(){var t=this.options,n=e(".wijmo-wijtabs-content");return this.abort(),this._removeScroller(),this.element.unbind(".tabs").removeClass(["wijmo-wijtabs","ui-tabs-top","ui-tabs-bottom","ui-tabs-left","ui-tabs-right","ui-tabs","ui-widget","ui-widget-content","ui-corner-all","ui-tabs-collapsible","ui-helper-clearfix"].join(" ")).removeData("tabs").removeAttr("role"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfixui-widget-header ui-corner-all").removeAttr("role"),this.anchors.each(function(){var t=e.data(this,"href.tabs"),n;t&&(this.href=t),n=e(this).unbind(".tabs"),e.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-corner-bottom","ui-corner-left","ui-corner-right","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-tabs-hide"].join(" ")).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")}),n.length&&n.replaceWith(n.contents()),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,n,r){r===undefined&&(r=this.anchors.length);var i=this,s=this.options,o=e((s.tabTemplate||i._defaults.tabTemplate).replace(/#\{href\}/g,t).replace(/#\{label\}/g,n)),u=t.indexOf("#")?this._tabId(e("a",o)[0]):t.replace("#",""),f=this._getAlignment(),l=this._getAlignment(!1),c=e("#"+u),h;return o.addClass("ui-state-default ui-corner-"+f).data("destroy.tabs",!0).attr("role","tab").attr("aria-selected",!1),c.length||(c=e(s.panelTemplate||i._defaults.panelTemplate).attr("id",u).data("destroy.tabs",!0).attr("role","tabpanel")),c.addClass("ui-tabs-panel ui-widget-content ui-corner-"+l+" ui-tabs-hide").attr("aria-hidden",!0),r>=this.lis.length?(o.appendTo(this.list),this.panels.length>0?c.insertAfter(this.panels[this.panels.length-1]):(h=this.element.find(".wijmo-wijtabs-content"),h.length===0&&(h=this.element),c.appendTo(h))):(o.insertBefore(this.lis[r]),c.insertBefore(this.panels[r])),s.disabledIndexes=e.map(s.disabledIndexes,function(e){return e>=r?++e:e}),this._removeScroller(),this._tabify(),this.anchors.length===1&&(s.selected=0,o.addClass("ui-tabs-selected ui-state-active").attr("aria-selected",!0),c.removeClass("ui-tabs-hide").attr("aria-hidden",!1),this.element.queue("tabs",function(){i.element.wijTriggerVisibility&&e(i.panels[0]).wijTriggerVisibility(),i._trigger("show",null,i._ui(i.anchors[0],i.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(t){var n=this.options,r=this.lis.eq(t).remove(),i=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),n.disabledIndexes=e.map(e.grep(n.disabledIndexes,function(e){return e!==t}),function(e){return e>=t?--e:e}),this._removeScroller(),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this},enableTab:function(t){var n=this.options;if(e.inArray(t,n.disabledIndexes)===-1)return;return this.lis.eq(t).removeClass("ui-state-disabled").removeAttr("aria-disabled"),n.disabledIndexes=e.grep(n.disabledIndexes,function(e){return e!==t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disableTab:function(e){var t=this.options;return e!==t.selected&&(this.lis.eq(e).addClass("ui-state-disabled").attr("aria-disabled",!0),t.disabledIndexes.push(e),t.disabledIndexes.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){return typeof e=="string"?e=this.anchors.index(this.anchors.filter("[href$="+e+"]")):e===null&&(e=-1),e===-1&&this.options.collapsible&&(e=this.options.selected),this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){var n=this,r=this.options,i=this.anchors.eq(t)[0],s=e.data(i,"load.tabs"),o=e("span",i);this.abort();if(!s||this.element.queue("tabs").length!==0&&e.data(i,"cache.tabs")){this.element.dequeue("tabs");return}return this.lis.eq(t).addClass("ui-state-processing"),(r.spinner||n._defaults.spinner)&&o.data("label.tabs",o.html()).html(r.spinner||n._defaults.spinner),this.xhr=e.ajax(e.extend({},r.ajaxOptions,{url:s,success:function(s,o){e(n._sanitizeSelector(i.hash),n.element).html(s),n._cleanup(),r.cache&&e.data(i,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.success(s,o)}catch(u){}},error:function(e,s){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.error(e,s,t,i)}catch(o){}}})),n.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}})}(jQuery),function(e){"use strict";var t,n,r,i=!1,s=!1,o,u,a,f;e.widget("wijmo.wijvideo",{options:{fullScreenButtonVisible:!0,showControlsOnHover:!0,localization:null},_create:function(){var s=this,l,p,v,m=s.options,y;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),e(this.element).is("video")?t=e(this.element):t=e(this.element).find("video");if(!t||t.length===0||e.browser.msie&&e.browser.version<9)return;v=t[0].canPlayType;if(!v)return;t.wrap('<div class="wijmo-wijvideo ui-widget-content ui-widget" />').after('<div class="wijmo-wijvideo-wrapper"><ul class="wijmo-wijvideo-controls ui-widget-header ui-helper-clearfix ui-helper-reset"><li class="wijmo-wijvideo-play ui-state-default ui-corner-all"><span class="ui-icon ui-icon-play"></span></li><li class="wijmo-wijvideo-index"><div class="wijmo-wijvideo-index-slider"></div></li><li class="wijmo-wijvideo-timer">00:00</li><li class="wijmo-wijvideo-volume ui-state-default ui-corner-all"><div class="wijmo-wijvideo-volume-container"><div class="wijmo-wijvideo-volumeslider ui-state-default ui-corner-top"></div></div><span class="ui-icon ui-icon-volume-on"></span></li><li class="wijmo-wijvideo-fullscreen ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-4-diag"></span></li></ul></div>'),n=t.parent(".wijmo-wijvideo"),n.width(t.outerWidth()).height(t.outerHeight()),r=n.find(".wijmo-wijvideo-index-slider"),s._volumnOn=!0,a=n.find(".wijmo-wijvideo-volume"),y=window.setInterval(function(){s._getVideoAttribute("readyState")&&(window.clearInterval(y),n.width(t.outerWidth()).height(t.outerHeight()),t.parent().find(".wijmo-wijvideo-controls").show(),l=n.find(".wijmo-wijvideo-timer").position().left,r.width(l-r.position().left-15),r.slider({value:0,step:.01,max:s._getVideoAttribute("duration"),range:"min",stop:function(e,t){i=!1,s._setVideoAttribute("currentTime",t.value)},slide:function(){i=!0}}),s._updateTime(),u=n.find(".wijmo-wijvideo-volumeslider"),u.slider({min:0,max:1,value:s._getVideoAttribute("volume"),step:.1,orientation:"vertical",range:"min",slide:function(e,t){s._setVideoAttribute("volume",t.value),t.value===0?(s._volumnOn=!1,a.find("span").removeClass("ui-icon-volume-on").addClass("ui-icon-volume-off")):(s._volumnOn=!0,a.find("span").removeClass("ui-icon-volume-off").addClass("ui-icon-volume-on"))}}),t.parent().find(".wijmo-wijvideo-controls").css("display","none"),s._initialToolTip(),m.showControlsOnHover||(e(".wijmo-wijvideo-controls").show(),n.height(t.outerHeight()+e(".wijmo-wijvideo-controls").height())))},200),t.bind("click."+s.widgetName,function(){s._togglePlay()}),m.showControlsOnHover&&e(".wijmo-wijvideo").hover(function(){e(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){e(".wijmo-wijvideo-controls").delay(300).fadeOut()}),p=n.find(".wijmo-wijvideo-play > span"),p.click(function(){s._togglePlay()}).parent().hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),n.find(".wijmo-wijvideo-volume").hover(function(){e(".wijmo-wijvideo-volume-container").stop(!0,!0).slideToggle()}),f=n.find(".wijmo-wijvideo-fullscreen > span"),f.click(function(){s._toggleFullScreen()}).parent().hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),!s.options.fullScreenButtonVisible&&n.find(".wijmo-wijvideo-fullscreen").hide(),a.hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).click(function(){s._getVideoAttribute("readyState")&&(s._volumnOn=!s._volumnOn,s._volumnOn?(u.slider("value",o),s._setVideoAttribute("volume",o),a.find("span").removeClass("ui-icon-volume-off").addClass("ui-icon-volume-on")):(o=u.slider("value"),u.slider("value",0),s._setVideoAttribute("volume",0),a.find("span").removeClass("ui-icon-volume-on").addClass("ui-icon-volume-off")))}),t.bind("play."+s.widgetName,function(){p.removeClass("ui-icon ui-icon-play").addClass("ui-icon ui-icon-pause")}),t.bind("pause."+s.widgetName,function(){p.removeClass("ui-icon ui-icon-pause").addClass("ui-icon ui-icon-play")}),t.bind("ended."+s.widgetName,function(){s.pause()}),t.bind("timeupdate."+s.widgetName,function(){s._updateTime()}),s._videoIsControls=!1,s._getVideoAttribute("controls")&&(s._videoIsControls=!0),t.removeAttr("controls"),s.element.is(":hidden")&&s.element.wijAddVisibilityObserver&&s.element.wijAddVisibilityObserver(function(){s._refresh(),s.element.wijRemoveVisibilityObserver&&s.element.wijRemoveVisibilityObserver()},"wijvideo"),s.options.disabled&&s._handleDisabledOption(!0,s.element)},_setOption:function(r,i){var s=this,o=s.options;e.Widget.prototype._setOption.apply(s,arguments),r==="fullScreenButtonVisible"?(o.fullScreenButtonVisible=i,i?n.find(".wijmo-wijvideo-fullscreen").show():n.find(".wijmo-wijvideo-fullscreen").hide()):r==="disabled"?s._handleDisabledOption(i,s.element):r==="showControlsOnHover"&&(i?(n.height(t.outerHeight()),e(".wijmo-wijvideo-controls").hide(),e(".wijmo-wijvideo").hover(function(){e(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){e(".wijmo-wijvideo-controls").delay(300).fadeOut()})):(e(".wijmo-wijvideo").unbind("mouseenter mouseleave"),window.setTimeout(function(){e(".wijmo-wijvideo-controls").show(),n.height(t.outerHeight()+e(".wijmo-wijvideo-controls").height())},200)))},_handleDisabledOption:function(n,r){var i=this;n?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(r)),i.disabledDiv.appendTo("body"),e.browser.msie&&(e(".wijmo-wijvideo").unbind("mouseenter mouseleave"),t.unbind("click."+i.widgetName))):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null,e.browser.msie&&(e(".wijmo-wijvideo").hover(function(){e(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){e(".wijmo-wijvideo-controls").delay(300).fadeOut()}),t.bind("click."+i.widgetName,function(){i._togglePlay()})))},_createDisabledDiv:function(){var t=n,r=t.offset(),i=t.outerWidth(),s=t.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:i,height:s,left:r.left,top:r.top})},_getVideoAttribute:function(e){return e===""?void 0:t.attr(e)!==undefined?t.attr(e):t.prop(e)},_setVideoAttribute:function(e,n){return e===""?void 0:t.attr(e)!==undefined?t.attr(e,n):t.prop(e,n)},_initialToolTip:function(){var e=this;r.wijtooltip({mouseTrailing:!0,showCallout:!1,position:{offset:"-60 -60"}}),r.bind("mousemove",function(t){e._changeToolTipContent(t)}),a.wijtooltip({content:e._localizeString("volumeToolTip","Volume"),showCallout:!1}),f.wijtooltip({content:e._localizeString("fullScreenToolTip","Full Screen"),showCallout:!1}),r.wijtooltip("widget").addClass("wijmo-wijvideo"),a.wijtooltip("widget").addClass("wijmo-wijvideo"),a.wijtooltip("widget").addClass("wijmo-wijvideo")},_updateTime:function(){var e=this,t=e._getVideoAttribute("duration"),s=e._getVideoAttribute("currentTime"),o,u,a="",f="";o=this._truncate((t-s)/60),u=this._truncate(t-s-o*60),o<10&&(a="0"),u<10&&(f="0"),n.find(".wijmo-wijvideo-timer").html(a+o+":"+f+u),!i&&r.slider("value",s)},_truncate:function(e){return Math[e>0?"floor":"ceil"](e)},_togglePlay:function(){var e=this;if(!e._getVideoAttribute("readyState"))return;e._getVideoAttribute("paused")?this.play():this.pause()},_toggleFullScreen:function(){var r=this,i=r._getVideoAttribute("paused"),o=0,u=e(window).width(),a=e(window).height();s=!s,s?(r._oriVidParentStyle=n.attr("style"),r._oriWidth=t.outerWidth(),r._oriHeight=t.outerHeight(),r._oriDocOverFlow=e(document.documentElement).css("overflow"),e(document.documentElement).css({overflow:"hidden"}),r._replacedDiv||(r._replacedDiv=e("<div />")),n.after(r._replacedDiv),n.addClass("wijmo-wijvideo-container-fullscreen").css({width:u,height:a}).appendTo(e("body")),t.attr("width",u).attr("height",a),e(window).bind("resize.wijvideo",function(){r._fullscreenOnWindowResize()}),o=u-r._oriWidth):(e(document.documentElement).css({overflow:r._oriDocOverFlow}),o=r._oriWidth-t.width(),r._replacedDiv.after(n).remove(),n.removeClass("wijmo-wijvideo-container-fullscreen").attr("style","").attr("style",r._oriVidParentStyle),t.attr("width",r._oriWidth).attr("height",r._oriHeight),e(window).unbind("resize.wijvideo")),r._positionControls(o),r._hideToolTips(),i?r.pause():r.play()},_fullscreenOnWindowResize:function(){var r=this,i=e(window).width(),s=e(window).height(),o=i-n.width();n.css({width:i,height:s}),t.attr("width",i).attr("height",s),r._positionControls(o)},_positionControls:function(e){var t=n.find(".wijmo-wijvideo-index-slider");t.width(t.width()+e)},_showToolTip:function(e){var t=this,n=e.pageX,i=e.pageY,s=r.offset().left,o=r.width(),u=n-s,a=t._getVideoAttribute("duration"),f;f=a*(u/o),r.wijtooltip("option","content",t._getToolTipContent(f)),r.wijtooltip("showAt",{x:n,y:i-10})},_changeToolTipContent:function(e){var t=this,n=e.pageX,i=r.offset().left,s=r.width(),o=n-i,u=t._getVideoAttribute("duration"),a;a=u*(o/s),r.wijtooltip("option","content",t._getToolTipContent(a))},_hideToolTips:function(){r.wijtooltip("hide"),a.wijtooltip("hide"),f.wijtooltip("hide")},_localizeString:function(e,t){var n=this.options;return n.localization&&n.localization[e]?n.localization[e]:t},_getToolTipContent:function(e){var t,n,r="",i="";return t=parseInt(e/60,10),n=parseInt(e-t*60,10),t<10&&(r="0"),n<10&&(i="0"),r+t+":"+i+n},_refresh:function(){var i;t.parent().find(".wijmo-wijvideo-controls").show(),i=n.find(".wijmo-wijvideo-timer").position().left,r.width(i-r.position().left-15),t.parent().find(".wijmo-wijvideo-controls").css("display","none"),this.options.showControlsOnHover||(e(".wijmo-wijvideo-controls",n).show(),n.height(t.outerHeight()+e(".wijmo-wijvideo-controls").height()))},destroy:function(){var r=this;e.Widget.prototype.destroy.apply(this,arguments),n.after(t).remove(),t.unbind("."+r.widgetName),r._videoIsControls&&r._setVideoAttribute("controls",!0)},play:function(){t[0].play()},pause:function(){t[0].pause()},getWidth:function(){return t.outerWidth()},setWidth:function(e){e=e||600;var r=this.getWidth();t.attr("width",e),n.width(t.outerWidth()),this._positionControls(this.getWidth()-r)},getHeight:function(){return t.outerHeight()},setHeight:function(r){r=r||400,t.attr("height",r),this.options.showControlsOnHover?n.height(t.outerHeight()):n.height(t.outerHeight()+e(".wijmo-wijvideo-controls").height())}})}(jQuery)}),define("tinysort_open",["jquery"],function(e){(function(e,t){var n=e.prototype;for(var r in t)e[r]||(n[r]=t[r])})(Number,{secondsToMinutesString:function(e){return(""+parseInt(e/60)).pad(2,0,!0)+":"+(""+parseInt(e)%60).pad(2,0,!0)},formatSize:function(e){var t,n=this;e===undefined&&(e=0);var r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];for(t=0;n>1024&&r.length>=t+2;t++)n/=1024;return Math.round(n,e)+r[t]}});if(t===undefined)var t=function(e){function r(r,f){e(function(){t=r,n=f,i(),s(),u(),a(),o(),c(),n()})}function i(){var n=t.id+" "+t.version;document.title=n;var r=e("h1").html(n.replace(/(\d+\.\d+\.)(\d+)/g,"$1<small>$2</small>")),i=e('<img src="style/logo.svg" width="30" />').load(function(){r.css({backgroundImage:"url(style/logo.svg)",backgroundSize:"30px 30px"})})}function s(){var t=e("<ul/>").appendTo("header>div>nav");e('<li><a href="#"></a></li>').appendTo(t).click(function(){e(document).scrollTop(0)});var n,r;e("body h2,body h3").each(function(i,s){var o=s.nodeName.toLowerCase(),u=e(s),a=u.attr("title")||u.text(),f=a.replace(/[^a-z0-9]/gi,"");e('<a id="'+f+'" class="hiddenAnchor"/>').prependTo(u);var l=o=="h2",c=e('<li><a href="#'+f+'">'+a+"</a></li>").appendTo(l?t:r);l&&(n=c,r=e("<ul></ul>")),r&&r.find("li").length&&r.appendTo(n)})}function o(){e("#footer>div").html(t.copyright.replace("Ron Valstar",'<a href="http://www.sjeiti.com/">Ron Valstar</a>').replace(/-[0-9]{4}/g,"-"+(new Date).getFullYear()))}function u(){e('a.download[href*=".zip"]').each(function(n,r){var i=e(r);i.attr("href",i.attr("href").replace(/\d+\.\d+\.\d+/g,t.version))}),e("a.choosehref").each(function(t,n){var r=e(n);r.find(":input").change(function(e){r.attr("href",r.find(":input:checked").val())})})}function a(){var t={};e(".filesize").each(function(n,r){function o(t){e.each(t.targets,function(e,n){u(n,t.size)})}function u(e,t){e.text(t.formatSize())}var i=e(r),s=i.data("file")||i.siblings("[value]:first").attr("value")||i.parents("[href]:first").attr("href"),a=t[s]||null;a&&a.loaded?u($El,a.size):a?a.targets.push(i):(a={loaded:!1,targets:[i]},t[s]=a,e.get(s,function(e){a.loaded=!0,a.size=e.length,o(a)},"text"))})}function f(){var n=["scripts/jquery."+t.id+".js","scripts/jquery.opensource.js"],r=n.length,i=!0;e.each(n,function(t,n){e.get(n,function(t){!t.match(/console.log\(/g)||e("header").css({border:"2px solid red"})})})}function l(){if(location.href.match(/http:\/\/\w*\.?sjeiti\.com/)){var e=e||[];e.push(["_setAccount","UA-670434-1"]),e.push(["_setDomainName","sjeiti.com"]),e.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}}function c(){e.getJSON("https://api.flattr.com/rest/v2/things/lookup/?url="+location.href,function(t){if(t.hasOwnProperty("url")){e('<span class="flattrBox"><a class="FlattrButton" href="'+t.url+'"></a></span>').appendTo("#intro>div");var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src="http://api.flattr.com/js/0.6/load.js?mode=auto",r.parentNode.insertBefore(n,r)}else console&&console.log&&console.log("Flattr",t.description,"for",location.href)})}function h(){}var t,n;return l(),{init:r}}(jQuery)}),define("tinysort",["jquery","tinysort_open"],function(e){(function(e,t){function h(e){return e&&e.toLowerCase?e.toLowerCase():e}function p(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]==t)return!n;return n}var n=!1,r=null,i=parseFloat,s=Math.min,o=/(-?\d+\.?\d*)$/g,u=/(\d+\.?\d*)$/g,a=[],f=[],l=function(e){return typeof e=="string"},c=Array.prototype.indexOf||function(e){var t=this.length,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1};e.tinysort={id:"TinySort",version:"1.5.2",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var e=function(e,t){a.push(e),f.push(t)};return e.indexOf=c,e}(),defaults:{order:"asc",attr:r,data:r,useVal:n,place:"start",returns:n,cases:n,forceStrings:n,ignoreDashes:n,sortFunction:r}},e.fn.extend({tinysort:function(){var v,y,w=this,E=[],S=[],x=[],T=[],N=0,C,L=[],A=[],O=function(t){e.each(a,function(e,n){n.call(n,t)})},M=function(t,r){var s=0;N!==0&&(N=0);while(s===0&&N<C){var a=T[N],c=a.oSettings,p=c.ignoreDashes?u:o;O(c);if(c.sortFunction)s=c.sortFunction(t,r);else if(c.order=="rand")s=Math.random()<.5?1:-1;else{var d=n,v=c.cases?t.s[N]:h(t.s[N]),y=c.cases?r.s[N]:h(r.s[N]);if(!P.forceStrings){var w=l(v)?v&&v.match(p):n,E=l(y)?y&&y.match(p):n;if(w&&E){var S=v.substr(0,v.length-w[0].length),x=y.substr(0,y.length-E[0].length);S==x&&(d=!n,v=i(w[0]),y=i(E[0]))}}s=a.iAsc*(v<y?-1:v>y?1:0)}e.each(f,function(e,t){s=t.call(t,d,v,y,s)}),s===0&&N++}return s};for(v=0,y=arguments.length;v<y;v++){var _=arguments[v];l(_)?L.push(_)-1>A.length&&(A.length=L.length-1):A.push(_)>L.length&&(L.length=A.length)}L.length>A.length&&(A.length=L.length),C=L.length,C===0&&(C=L.length=1,A.push({}));for(v=0,y=C;v<y;v++){var D=L[v],P=e.extend({},e.tinysort.defaults,A[v]),H=!!D&&D!="",B=H&&D[0]==":";T.push({sFind:D,oSettings:P,bFind:H,bAttr:P.attr!==r&&P.attr!="",bData:P.data!==r,bFilter:B,$Filter:B?w.filter(D):w,fnSort:P.sortFunction,iAsc:P.order=="asc"?1:-1})}return w.each(function(n,r){var i=e(r),s=i.parent().get(0),o,u=[];for(j=0;j<C;j++){var a=T[j],f=a.bFind?a.bFilter?a.$Filter.filter(r):i.find(a.sFind):i;u.push(a.bData?f.data(a.oSettings.data):a.bAttr?f.attr(a.oSettings.attr):a.oSettings.useVal?f.val():f.text()),o===t&&(o=f)}var l=c.call(x,s);l<0&&(l=x.push(s)-1,S[l]={s:[],n:[]}),o.length>0?S[l].s.push({s:u,e:i,n:n}):S[l].n.push({e:i,n:n})}),e.each(S,function(e,t){t.s.sort(M)}),e.each(S,function(t,r){var i=r.s.length,o=[],u=i,a=[0,0];switch(P.place){case"first":e.each(r.s,function(e,t){u=s(u,t.n)});break;case"org":e.each(r.s,function(e,t){o.push(t.n)});break;case"end":u=r.n.length;break;default:u=0}for(v=0;v<i;v++){var f=p(o,v)?!n:v>=u&&v<u+r.s.length,l=(f?r.s:r.n)[a[f?0:1]].e;l.parent().append(l),(f||!P.returns)&&E.push(l.get(0)),a[f?0:1]++}}),w.length=0,Array.prototype.push.apply(w,E),w}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort})(jQuery)}),define("contextmenu",["jquery"],function(e){return function(e,t){function v(e){var t=e.split(/\s+/),n=[];for(var r=0,i;i=t[r];r++)i=i[0].toUpperCase(),n.push(i);return n}function m(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function g(n,r,i){i||(i=0),r.each(function(){var r=e(this),s=this,o=this.nodeName.toLowerCase(),u,a;o=="label"&&r.find("input, textarea, select").length&&(u=r.text(),r=r.children().first(),s=r.get(0),o=s.nodeName.toLowerCase());switch(o){case"menu":a={name:r.attr("label"),items:{}},g(a.items,r.children(),i);break;case"a":case"button":a={name:r.text(),disabled:!!r.attr("disabled"),callback:function(){return function(){r.click()}}()};break;case"menuitem":case"command":switch(r.attr("type")){case t:case"command":case"menuitem":a={name:r.attr("label"),disabled:!!r.attr("disabled"),callback:function(){return function(){r.click()}}()};break;case"checkbox":a={type:"checkbox",disabled:!!r.attr("disabled"),name:r.attr("label"),selected:!!r.attr("checked")};break;case"radio":a={type:"radio",disabled:!!r.attr("disabled"),name:r.attr("label"),radio:r.attr("radiogroup"),value:r.attr("id"),selected:!!r.attr("checked")};break;default:a=t}break;case"hr":a="-------";break;case"input":switch(r.attr("type")){case"text":a={type:"text",name:u||m(s),disabled:!!r.attr("disabled"),value:r.val()};break;case"checkbox":a={type:"checkbox",name:u||m(s),disabled:!!r.attr("disabled"),selected:!!r.attr("checked")};break;case"radio":a={type:"radio",name:u||m(s),disabled:!!r.attr("disabled"),radio:!!r.attr("name"),value:r.val(),selected:!!r.attr("checked")};break;default:a=t}break;case"select":a={type:"select",name:u||m(s),disabled:!!r.attr("disabled"),selected:r.val(),options:{}},r.children().each(function(){a.options[this.value]=e(this).text()});break;case"textarea":a={type:"textarea",name:u||m(s),disabled:!!r.attr("disabled"),value:r.val()};break;case"label":break;default:a={type:"html",html:r.clone(!0)}}a&&(i++,n["key"+i]=a)})}e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window;var n=null,r=!1,i=!1,s=e(window),o=0,u={},a={},f={},l={selector:null,appendTo:null,trigger:"right",autoHide:!1,ignoreRightClick:!1,delay:200,determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(t,n,r){var i=this,o;if(!n&&!r){t.determinePosition.call(this,t.$menu);return}if(n==="maintain"&&r==="maintain")o=t.$menu.position();else{var u=t.$trigger.parents().andSelf().filter(function(){return e(this).css("position")=="fixed"}).length;u&&(r-=s.scrollTop(),n-=s.scrollLeft()),o={top:r,left:n}}var a=s.scrollTop()+s.height(),f=s.scrollLeft()+s.width(),l=t.$menu.height(),c=t.$menu.width();o.top+l>a&&(o.top-=l),o.left+c>f&&(o.left-=c),t.$menu.css(o)},positionSubmenu:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"right top",of:this,collision:"fit"}).css("display","");else{var n=this.offset();n.top+=0,n.left+=this.outerWidth(),t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},c={timer:null,pageX:null,pageY:null},h=function(e){var t=0,n=e;for(;;){t=Math.max(t,parseInt(n.css("z-index"),10)||0),n=n.parent();if(!n||!n.length||n.prop("nodeName").toLowerCase()=="body")break}return t},p={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var r=e(this);t.preventDefault(),t.stopImmediatePropagation();if(i){i=!1;return}r.hasClass("context-menu-disabled")||(n=r,t.data.build&&(e.extend(!0,t.data,l,t.data.build(n,t)||{}),d.create(t.data)),d.show.call(r,t.data,t.pageX,t.pageY))},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(jQuery.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var r=e(this);n&&n.length&&!n.is(r)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),t.button==2&&(n=r.data("contextMenuActive",!0))},mouseup:function(t){var r=e(this);r.data("contextMenuActive")&&n&&n.length&&n.is(r)&&!r.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=r,r.trigger(jQuery.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),r.removeData("contextMenuActive")},mouseenter:function(t){var r=e(this),i=e(t.relatedTarget),s=e(document);if(i.is(".context-menu-list")||i.closest(".context-menu-list").length)return;if(n&&n.length)return;c.pageX=t.pageX,c.pageY=t.pageY,c.data=t.data,s.on("mousemove.contextMenuShow",p.mousemove),c.timer=setTimeout(function(){c.timer=null,s.off("mousemove.contextMenuShow"),n=r,r.trigger(jQuery.Event("contextmenu",{data:c.data,pageX:c.pageX,pageY:c.pageY}))},t.data.delay)},mousemove:function(e){c.pageX=e.pageX,c.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(n.is(".context-menu-list")||n.closest(".context-menu-list").length)return;try{clearTimeout(c.timer)}catch(t){}c.timer=null},ignoreRightClick:function(e){e.button==2&&(i=!0)},layerClick:function(t){var n=e(this),r=n.data("contextMenuRoot");t.preventDefault(),t.stopImmediatePropagation(),n.remove(),r.$menu.trigger("contextmenu:hide")},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t=n.data("contextMenu")||{},r=t.$menu.children(),i;switch(e.keyCode){case 9:case 38:p.keyStop(e,t);if(t.isInput){if(e.keyCode==9&&e.shiftKey){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu.trigger("prevcommand");return}if(e.keyCode==38&&t.$selected.find("input, textarea, select").prop("type")=="checkbox"){e.preventDefault();return}}else if(e.keyCode!=9||e.shiftKey){t.$menu.trigger("prevcommand");return};case 9:case 40:p.keyStop(e,t);if(!t.isInput){t.$menu.trigger("nextcommand");return}if(e.keyCode==9){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu.trigger("nextcommand");return}if(e.keyCode==40&&t.$selected.find("input, textarea, select").prop("type")=="checkbox"){e.preventDefault();return}break;case 37:p.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var s=t.$selected.parent().parent();t.$selected.trigger("contextmenu:blur"),t.$selected=s;return}break;case 39:p.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;var o=t.$selected.data("contextMenu")||{};if(o.$menu&&t.$selected.hasClass("context-menu-submenu")){t.$selected=null,o.$selected=null,o.$menu.trigger("nextcommand");return}break;case 35:case 36:if(t.$selected&&t.$selected.find("input, textarea, select").length)return;(t.$selected&&t.$selected.parent()||t.$menu).children(":not(.disabled, .not-selectable)")[e.keyCode==36?"first":"last"]().trigger("contextmenu:focus"),e.preventDefault();return;case 13:p.keyStop(e,t);if(t.isInput){if(t.$selected&&!t.$selected.is("textarea, select")){e.preventDefault();return}break}t.$selected&&t.$selected.trigger("mouseup");return;case 32:case 33:case 34:p.keyStop(e,t);return;case 27:p.keyStop(e,t),t.$menu.trigger("contextmenu:hide");return;default:var u=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys[u]){t.accesskeys[u].$node.trigger(t.accesskeys[u].$menu?"contextmenu:focus":"mouseup");return}}e.stopPropagation(),t.$selected&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var r=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=r}var i=n.$menu.children(),s=!n.$selected||!n.$selected.prev().length?i.last():n.$selected.prev(),o=s;while(s.hasClass("disabled")||s.hasClass("not-selectable")){s.prev().length?s=s.prev():s=i.last();if(s.is(o))return}n.$selected&&p.itemMouseleave.call(n.$selected.get(0),t),p.itemMouseenter.call(s.get(0),t);var u=s.find("input, textarea, select");u.length&&u.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var r=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=r}var i=n.$menu.children(),s=!n.$selected||!n.$selected.next().length?i.first():n.$selected.next(),o=s;while(s.hasClass("disabled")||s.hasClass("not-selectable")){s.next().length?s=s.next():s=i.first();if(s.is(o))return}n.$selected&&p.itemMouseleave.call(n.$selected.get(0),t),p.itemMouseenter.call(s.get(0),t);var u=s.find("input, textarea, select");u.length&&u.focus()},focusInput:function(t){var n=e(this).closest(".context-menu-item"),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.$selected=i.$selected=n,s.isInput=i.isInput=!0},blurInput:function(t){var n=e(this).closest(".context-menu-item"),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.isInput=i.isInput=!1},menuMouseenter:function(t){var n=e(this).data().contextMenuRoot;n.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.hovering=!0,t&&s.$layer&&s.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(i.$menu?i:s).$menu.children(".hover").trigger("contextmenu:blur");if(n.hasClass("disabled")||n.hasClass("not-selectable")){i.$selected=null;return}n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(s!==i&&s.$layer&&s.$layer.is(t.relatedTarget)){s.$selected&&s.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),s.$selected=i.$selected=i.$node;return}n.trigger("contextmenu:blur")},itemClick:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot,o=r.contextMenuKey,u;if(!i.items[o]||n.hasClass("disabled"))return;t.preventDefault(),t.stopImmediatePropagation();if(e.isFunction(s.callbacks[o]))u=s.callbacks[o];else{if(!e.isFunction(s.callback))return;u=s.callback}u.call(s.$trigger,o,s)!==!1?s.$menu.trigger("contextmenu:hide"):d.update.call(s.$trigger,s)},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t){var n=e(this).data("contextMenuRoot");d.hide.call(n.$trigger,n)},focusItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;n.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),i.$selected=s.$selected=n,i.$node&&s.positionSubmenu.call(i.$node,i.$menu)},blurItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;n.removeClass("hover"),i.$selected=null}},d={show:function(t,r,i){var s=e(this),o,u={};e("#context-menu-layer").trigger("mousedown");if(t.events.show.call(s,t)===!1){n=null;return}t.$trigger=s,d.update.call(s,t),t.position.call(s,t,r,i),t.zIndex&&(u.zIndex=h(s)+t.zIndex),d.layer.call(t.$menu,t,u.zIndex),t.$menu.find("ul").css("zIndex",u.zIndex+1),t.$menu.css(u)[t.animation.show](t.animation.duration),s.data("contextMenu",t),e(document).off("keydown.contextMenu").on("keydown.contextMenu",p.key);if(t.autoHide){var a=s.position();a.right=a.left+s.outerWidth(),a.bottom=a.top+this.outerHeight(),e(document).on("mousemove.contextMenuAutoHide",function(e){t.$layer&&!t.hovering&&(!(e.pageX>=a.left&&e.pageX<=a.right)||!(e.pageY>=a.top&&e.pageY<=a.bottom))&&t.$layer.trigger("mousedown")})}},hide:function(r){var i=e(this);r||(r=i.data("contextMenu")||{});if(r.events&&r.events.hide.call(i,r)===!1)return;if(r.$layer)try{r.$layer.remove(),delete r.$layer}catch(s){r.$layer=null}n=null,r.$menu.find(".hover").trigger("contextmenu:blur"),r.$selected=null,e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),r.$menu&&r.$menu[r.animation.hide](r.animation.duration),r.build&&(r.$menu.remove(),e.each(r,function(e,n){switch(e){case"ns":case"selector":case"build":case"trigger":case"ignoreRightClick":return!0;default:r[e]=t;try{delete r[e]}catch(i){}return!0}}))},create:function(n,r){r===t&&(r=n),n.$menu=e('<ul class="context-menu-list '+(n.className||"")+'"></ul>').data({contextMenu:n,contextMenuRoot:r}),e.each(["callbacks","commands","inputs"],function(e,t){n[t]={},r[t]||(r[t]={})}),r.accesskeys||(r.accesskeys={}),e.each(n.items,function(t,i){var s=e('<li class="context-menu-item '+(i.className||"")+'"></li>'),o=null,u=null;i.$node=s.data({contextMenu:n,contextMenuRoot:r,contextMenuKey:t});if(i.accesskey){var a=v(i.accesskey);for(var l=0,c;c=a[l];l++)if(!r.accesskeys[c]){r.accesskeys[c]=i,i._name=i.name.replace(new RegExp("("+c+")","i"),'<span class="context-menu-accesskey">$1</span>');break}}if(typeof i=="string")s.addClass("context-menu-separator not-selectable");else if(i.type&&f[i.type])f[i.type].call(s,i,n,r),e.each([n,r],function(n,r){r.commands[t]=i,e.isFunction(i.callback)&&(r.callbacks[t]=i.callback)});else{i.type=="html"?s.addClass("context-menu-html not-selectable"):i.type?(o=e("<label></label>").appendTo(s),e("<span></span>").html(i._name||i.name).appendTo(o),s.addClass("context-menu-input"),n.hasTypes=!0,e.each([n,r],function(e,n){n.commands[t]=i,n.inputs[t]=i})):i.items&&(i.type="sub");switch(i.type){case"text":u=e('<input type="text" value="1" name="context-menu-input-'+t+'" value="">').val(i.value||"").appendTo(o);break;case"textarea":u=e('<textarea name="context-menu-input-'+t+'"></textarea>').val(i.value||"").appendTo(o),i.height&&u.height(i.height);break;case"checkbox":u=e('<input type="checkbox" value="1" name="context-menu-input-'+t+'" value="">').val(i.value||"").prop("checked",!!i.selected).prependTo(o);break;case"radio":u=e('<input type="radio" value="1" name="context-menu-input-'+i.radio+'" value="">').val(i.value||"").prop("checked",!!i.selected).prependTo(o);break;case"select":u=e('<select name="context-menu-input-'+t+'">').appendTo(o),i.options&&(e.each(i.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(u)}),u.val(i.selected));break;case"sub":e("<span></span>").html(i._name||i.name).appendTo(s),i.appendTo=i.$node,d.create(i,r),s.data("contextMenu",i).addClass("context-menu-submenu"),i.callback=null;break;case"html":e(i.html).appendTo(s);break;default:e.each([n,r],function(n,r){r.commands[t]=i,e.isFunction(i.callback)&&(r.callbacks[t]=i.callback)}),e("<span></span>").html(i._name||i.name||"").appendTo(s)}i.type&&i.type!="sub"&&i.type!="html"&&(u.on("focus",p.focusInput).on("blur",p.blurInput),i.events&&u.on(i.events)),i.icon&&s.addClass("icon icon-"+i.icon)}i.$input=u,i.$label=o,s.appendTo(n.$menu),n.hasTypes||(e.browser.msie?s.on("selectstart.disableTextSelect",p.abortevent):e.browser.mozilla||s.on("mousedown.disableTextSelect",p.abortevent))}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},update:function(n,r){var i=this;r===t&&(r=n,n.$menu.find("ul").andSelf().css({position:"static",display:"block"}).each(function(){var t=e(this);t.width(t.css("position","absolute").width()).css("position","static")}).css({position:"",display:""})),n.$menu.children().each(function(){var t=e(this),s=t.data("contextMenuKey"),o=n.items[s],u=e.isFunction(o.disabled)&&o.disabled.call(i,s,r)||o.disabled===!0;t[u?"addClass":"removeClass"]("disabled");if(o.type){t.find("input, select, textarea").prop("disabled",u);switch(o.type){case"text":case"textarea":o.$input.val(o.value||"");break;case"checkbox":case"radio":o.$input.val(o.value||"").prop("checked",!!o.selected);break;case"select":o.$input.val(o.selected||"")}}o.$menu&&d.update.call(i,o,r)})},layer:function(t,n){return t.$layer=e('<div id="context-menu-layer" style="position:fixed; z-index:'+n+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:s.height(),width:s.width(),display:"block"}).data("contextMenuRoot",t).insertBefore(this).on("mousedown",p.layerClick)}};e.fn.contextMenu=function(e){if(e===t)this.first().trigger("contextmenu");else if(e.x&&e.y)this.first().trigger(jQuery.Event("contextmenu",{pageX:e.x,pageY:e.y}));else if(e==="hide"){var n=this.data("contextMenu").$menu;n&&n.trigger("contextmenu:hide")}else e?this.removeClass("context-menu-disabled"):e||this.addClass("context-menu-disabled");return this},e.contextMenu=function(n,i){typeof n!="string"&&(i=n,n="create"),typeof i=="string"?i={selector:i}:i===t&&(i={});var s=e.extend(!0,{},l,i||{}),f=f=e(document);switch(n){case"create":if(!s.selector)throw new Error("No selector specified");if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||e.isEmptyObject(s.items)))throw new Error("No Items sepcified");o++,s.ns=".contextMenu"+o,u[s.selector]=s.ns,a[s.ns]=s,r||(f.on({"contextmenu:hide.contextMenu":p.hideMenu,"prevcommand.contextMenu":p.prevItem,"nextcommand.contextMenu":p.nextItem,"contextmenu.contextMenu":p.abortevent,"mouseenter.contextMenu":p.menuMouseenter,"mouseleave.contextMenu":p.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",p.inputClick).on({"mouseup.contextMenu":p.itemClick,"contextmenu:focus.contextMenu":p.focusItem,"contextmenu:blur.contextMenu":p.blurItem,"contextmenu.contextMenu":p.abortevent,"mouseenter.contextMenu":p.itemMouseenter,"mouseleave.contextMenu":p.itemMouseleave},".context-menu-item"),r=!0),f.on("contextmenu"+s.ns,s.selector,s,p.contextmenu);switch(s.trigger){case"hover":f.on("mouseenter"+s.ns,s.selector,s,p.mouseenter).on("mouseleave"+s.ns,s.selector,s,p.mouseleave);break;case"left":f.on("click"+s.ns,s.selector,s,p.click)}s.trigger!="hover"&&s.ignoreRightClick&&f.on("mousedown"+s.ns,s.selector,p.ignoreRightClick),s.build||d.create(s);break;case"destroy":if(!s.selector)f.off(".contextMenu .contextMenuAutoHide"),e.each(u,function(e,t){f.off(t)}),u={},a={},o=0,r=!1,e(".context-menu-list").remove();else if(u[s.selector]){try{a[u[s.selector]].$menu&&a[u[s.selector]].$menu.remove(),delete a[u[s.selector]]}catch(c){a[u[s.selector]]=null}f.off(u[s.selector])}break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||typeof i=="boolean"&&i)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+n+'"')}return this},e.contextMenu.setInputValues=function(n,r){r===t&&(r={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=r[e]||"";break;case"checkbox":t.selected=r[e]?!0:!1;break;case"radio":t.selected=(r[t.radio]||"")==t.value?!0:!1;break;case"select":t.selected=r[e]||""}})},e.contextMenu.getInputValues=function(n,r){return r===t&&(r={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":r[e]=t.$input.val();break;case"checkbox":r[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(r[t.radio]=t.value)}}),r},e.contextMenu.fromMenu=function(t){var n=e(t),r={};return g(r,n.children()),r},e.contextMenu.defaults=l,e.contextMenu.types=f}(jQuery),e.contextMenu}),define("linkify",["jquery"],function(e){return window.linkify=function(){var e="[a-z\\d.-]+://",t="(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])",n="(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+",r="(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)",i="(?:"+n+r+"|"+t+")",s="(?:[;/][^#?<>\\s]*)?",o="(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?",u="\\b"+e+"[^<>\\s]+",a="\\b"+i+s+o+"(?!\\w)",f="mailto:",l="(?:"+f+")?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@"+i+o+"(?!\\w)",c=new RegExp("(?:"+u+"|"+a+"|"+l+")","ig"),h=new RegExp("^"+e,"i"),p={"'":"`",">":"<",")":"(","]":"[","}":"{","»":"«","›":"‹"},d={callback:function(e,t){return t?'<a href="'+t+'" title="'+t+'">'+e+"</a>":e},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/};return function(e,t){t=t||{};var n,r,i,s,o="",u=[],a,l,v,m,g,y,b,w;for(r in d)t[r]===undefined&&(t[r]=d[r]);while(n=c.exec(e)){i=n[0],l=c.lastIndex,v=l-i.length;if(/[\/:]/.test(e.charAt(v-1)))continue;do m=i,w=i.substr(-1),b=p[w],b&&(g=i.match(new RegExp("\\"+b+"(?!$)","g")),y=i.match(new RegExp("\\"+w,"g")),(g?g.length:0)<(y?y.length:0)&&(i=i.substr(0,i.length-1),l--)),t.punct_regexp&&(i=i.replace(t.punct_regexp,function(e){return l-=e.length,""}));while(i.length&&i!==m);s=i,h.test(s)||(s=(s.indexOf("@")!==-1?s.indexOf(f)?f:"":s.indexOf("irc.")?s.indexOf("ftp.")?"http://":"ftp://":"irc://")+s),a!=v&&(u.push([e.slice(a,v)]),a=l),u.push([i,s])}u.push([e.substr(a)]);for(r=0;r<u.length;r++)o+=t.callback.apply(window,u[r]);return o||e}}(),window.linkify}),define("wijdialog",["jquery","jquery_migrate","jqueryui","wijmo"],function(e,t,n,r){(function(e){"use strict";var t="ui-state-hover",n="wijmo-wijdialog-defaultdockingzone";e.widget("wijmo.wijdialog",e.ui.dialog,{options:{captionButtons:{},collapsingAnimation:null,expandingAnimation:null,contentUrl:"",minimizeZoneElementId:"",buttonCreating:null,stateChanged:null,blur:null},_create:function(){var t=this,n=t.options;window.wijmoApplyWijTouchUtilEvents&&(e=window.wijmoApplyWijTouchUtilEvents(e)),e.isArray(n.buttons)&&e.each(n.buttons,function(e,t){var n=t.click;n&&typeof n=="string"&&window[n]&&(t.click=window[n])}),t.form=t.element.closest("form[id]"),e.ui.dialog.prototype._create.apply(t,arguments),t.uiDialog.addClass("wijmo-wijdialog"),t._initWijWindow(),t._bindWindowResize(),t._attachDraggableResizableEvent(),t.originalPosition=n.position,t.isPin=!1,t.form.length&&t.uiDialog.appendTo(t.form)},_makeDraggable:function(){e.ui.dialog.prototype._makeDraggable.apply(this,arguments),this.uiDialog.draggable("option","cancel",".wijmo-wijdialog-captionbutton")},_handleDisabledOption:function(t,n){var r=this;t?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv()),r.disabledDiv.appendTo("body"),e.browser.msie&&r.uiDialog.draggable("disable")):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,e.browser.msie&&r.uiDialog.draggable("enable"))},_createDisabledDiv:function(){var t=this,n=t.uiDialog,r=n.offset(),i=n.outerWidth(),s=n.outerHeight();return e("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:i,height:s,left:r.left,top:r.top})},destroy:function(){var t=this;t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.ui.dialog.prototype.destroy.apply(t,arguments),t.element.unbind(".wijdialog").removeData("wijdialog")},_attachDraggableResizableEvent:function(){var e=this,t=e.uiDialog,n=e.options;n.draggable&&t.draggable&&t.bind("dragstop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(t,n){e._createIframeMask()}),n.resizable&&t.resizable&&t.bind("resizestop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(t,n){e._createIframeMask()})},_createIframeMask:function(){var t=this;t.innerFrame&&(t.mask=e("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(e.ui.dialog.maxZ+1)+"'></div>").appendTo(t.uiDialog))},_destoryIframeMask:function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=undefined)},_initWijWindow:function(){var t=this,n=!0;t._createCaptionButtons(),t._checkUrl(),t.uiDialog.bind("mousedown",function(n){var r=n.target;e.contains(t.element[0],r)||t.uiDialog.focus()}).bind("mouseenter",function(e){n=!0}).bind("mouseleave",function(e){n=!1}).bind("focusout",function(e){n||t._trigger("blur",e,{el:t.element})})},_checkUrl:function(){var t=this,n=t.options,r=n.contentUrl,i=e('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');typeof r=="string"&&r.length>0&&(t.element.addClass("wijmo-wijdialog-hasframe"),t.element.append(i),t.innerFrame=i),t.contentWrapper=t.element},_setOption:function(t,n){var r=this;e.ui.dialog.prototype._setOption.apply(r,arguments),t==="disabled"?r._handleDisabledOption(n,r.element):t==="contentUrl"?r.innerFrame?r.innerFrame.attr("src",n):r._checkUrl():(t="captionButtons")&&r._createCaptionButtons()},_createCaptionButtons:function(){var t=[],n=this,r=n.options,i,s={pin:{visible:!0,click:n.pin,iconClassOn:"ui-icon-pin-w",iconClassOff:"ui-icon-pin-s"},refresh:{visible:!0,click:n.refresh,iconClassOn:"ui-icon-refresh"},toggle:{visible:!0,click:n.toggle,iconClassOn:"ui-icon-carat-1-n",iconClassOff:"ui-icon-carat-1-s"},minimize:{visible:!0,click:n.minimize,iconClassOn:"ui-icon-minus"},maximize:{visible:!0,click:n.maximize,iconClassOn:"ui-icon-extlink"},close:{visible:!0,click:n.close,iconClassOn:"ui-icon-close"}},o=r.captionButtons,u=n.uiDialogTitlebar;u.children(".ui-dialog-titlebar-close, .wijmo-wijdialog-captionbutton").remove(),e.each(s,function(n,r){o&&o[n]&&e.extend(r,o[n]),t.push({button:n,info:r})}),n._trigger("buttonCreating",null,t);for(i=0;i<t.length;i++)n._createCaptionButton(t[i],u)},_createCaptionButton:function(n,r,i){var s=this,o,u="wijmo-wijdialog-titlebar-"+n.button,a=r.children("."+u),f=n.info,l=e("<span></span>");if(f.visible){if(a.size()===0){l.addClass("ui-icon "+f.iconClassOn).text(f.text||n.button),o=e('<a href="#"></a>').append(l).addClass(u+" ui-corner-all wijmo-wijdialog-captionbutton").attr("role","button").hover(function(){o.addClass(t)},function(){o.removeClass(t)}).click(function(t){return l.hasClass(f.iconClassOff)?l.removeClass(f.iconClassOff):l.addClass(f.iconClassOff),e.isFunction(f.click)&&f.click.apply(s,arguments),!1});if(i)return o;o.appendTo(r)}s[n.button+"Button"]=o}else a.remove()},pin:function(){var e=this.isPin,t=this.pinButton.children("span");e?t.removeClass("ui-icon-pin-s"):t.length&&(t.hasClass("ui-icon-pin-s")||t.addClass("ui-icon-pin-s")),this._enableDisableDragger(!e),this.isPin=!e},refresh:function(){var e=this.innerFrame;e!==undefined&&e.attr("src",e.attr("src"))},toggle:function(){var e=this,t=e.toggleButton.children("span");e.minimized||(e.collapsed===undefined||!e.collapsed?(e.collapsed=!0,t.hasClass("ui-icon-carat-1-s")||t.addClass("ui-icon-carat-1-s"),e._collapseDialogContent(!0)):(e.collapsed=!1,t.hasClass("ui-icon-carat-1-s")&&t.removeClass("ui-icon-carat-1-s"),e._expandDialogContent(!0)))},_expandDialogContent:function(t){var n=this,r=n.options,i=r.expandingAnimation;n.uiDialog.height("auto"),t&&i!==null?n.contentWrapper.show(i.animated,i.options,i.duration,function(t){n.uiDialog.css("height",n._toggleHeight),e.isFunction(i.callback)&&i.callback(t),r.resizable&&n._enableDisableResizer(!1)}):(n.contentWrapper.show(),r.resizable&&n._enableDisableResizer(!1),n.uiDialog.css("height",n.toggleHeight))},_collapseDialogContent:function(e){var t=this,n=t.options,r=n.collapsingAnimation;n.resizable&&t._enableDisableResizer(!0),t._toggleHeight=t.uiDialog[0].style.height,t.uiDialog.height("auto"),e&&r!==null?t.contentWrapper.hide(r.animated,r.options,r.duration):t.contentWrapper.hide(),t._enableDisableDragger(t.isPin)},_enableDisableResizer:function(e){var t=this.uiDialog;t.resizable({disabled:e}),e&&t.removeClass("ui-state-disabled")},_enableDisableDragger:function(e){var t=this.uiDialog;if(!this.options.draggable)return;t.draggable({disabled:e}),e&&t.removeClass("ui-state-disabled")},minimize:function(){var t=this,r=t.uiDialog,i=t.options,s=null,o=e("<div></div>"),u=e("<div></div>"),a,f,l,c,h={},p,d={},v="uiDialog",m;t.minimized||(c=t.uiDialog.position(),h.width=t.uiDialog.width(),h.height=t.uiDialog.height(),m=t.getState(),t.maximized?(t.maximized=!1,t.restoreButton.remove(),e(window).unbind(".onWinResize")):(t.collapsed&&t._expandDialogContent(!1),t._saveNormalState()),t._enableDisableResizer(!0),t.collapsed&&t._collapseDialogContent(!1),o.appendTo(document.body).css({top:t.uiDialog.offset().top,left:t.uiDialog.offset().left,height:t.uiDialog.innerHeight(),width:t.uiDialog.innerWidth(),position:"absolute"}),t.contentWrapper.hide(),t.uiDialogButtonPane&&t.uiDialogButtonPane.length&&t.uiDialogButtonPane.hide(),r.height("auto"),r.width("auto"),t._doButtonAction(t.minimizeButton,"hide"),t._restoreButton(!0,t.minimizeButton,"After"),t._doButtonAction(t.pinButton,"hide"),t._doButtonAction(t.refreshButton,"hide"),t._doButtonAction(t.toggleButton,"hide"),t._doButtonAction(t.maximizeButton,"show"),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton",t.uiDialog).css("float","left"),t.innerFrame&&(v="copy",t[v]=t.uiDialog.clone(),t[v].empty(),t.uiDialogTitlebar.appendTo(t[v])),i.minimizeZoneElementId.length>0&&(s=e("#"+i.minimizeZoneElementId)),s!==null&&s.size()>0?s.append(t[v]):(a=e("."+n),a.size()===0&&(a=e('<div class="'+n+'"></div>'),e(document.body).append(a)),a.append(t[v]).css("z-index",r.css("z-index"))),t[v].css("position","static"),t[v].css("float","left"),e.browser.msie&&e.browser.version==="6.0"&&(f=e(document).scrollTop(),l=document.documentElement.clientHeight-a.height()+f,a.css({position:"absolute",left:"0px",top:l})),u.appendTo(document.body).css({top:t[v].offset().top,left:t[v].offset().left,height:t[v].innerHeight(),width:t[v].innerWidth(),position:"absolute"}),t.uiDialog.hide(),t.innerFrame&&t[v].hide(),o.effect("transfer",{to:u,className:"ui-widget-content"},100,function(){o.remove(),u.remove(),t[v].show(),t.minimized=!0,p=t.uiDialog.position(),d.width=t.uiDialog.width(),d.height=t.uiDialog.height(),t._enableDisableDragger(!0),t._trigger("resize",null,{originalPosition:c,originalSize:h,position:p,size:d}),t._trigger("stateChanged",null,{originalState:m,state:"minimized"})}))},_doButtonAction:function(e,n){e!==undefined&&(e.removeClass(t),e[n]())},maximize:function(){var t=this,n=e(window),r,i={},s,o={},u;t.maximized||(t._enableDisableDragger(!1),r=t.uiDialog.position(),i.width=t.uiDialog.width(),i.height=t.uiDialog.height(),t.minimized?t.restore():(t.collapsed&&t._expandDialogContent(!1),t._saveNormalState(),u="normal"),t.maximized=!0,t.maximizeButton!==undefined&&(t.maximizeButton.hide(),t._restoreButton(!0,t.maximizeButton,"Before")),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton").css("float",""),t._onWinResize(t,n),t.collapsed&&t._collapseDialogContent(!1),t.collapsed||t._enableDisableDragger(!0),t.uiDialog.resizable({disabled:!0}),t.uiDialog.removeClass("ui-state-disabled"),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),u==="normal"&&t._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},_bindWindowResize:function(){var t=this,n=e(window),r,i,s;n.resize(function(){t.maximized&&t._onWinResize(t,n)}),e.browser.msie&&e.browser.version==="6.0"&&n.bind("scroll.wijdialog resize.wijdialog",function(){t.minimized&&(i=e(document).scrollTop(),s=t.uiDialog.parent(),r=document.documentElement.clientHeight-s.height()+i,s.css({top:r}))})},_saveNormalState:function(){var e=this,t=e.uiDialog,n=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=n.css("height"),e.normalInnerWidth=n.css("width"),e.normalInnerMinWidth=n.css("min-width"),e.normalInnerMinHeight=n.css("min-height"))},_onWinResize:function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},_restoreButton:function(e,t,n){var r=this,i={button:"restore",info:{visible:e,click:r.restore,iconClassOn:"ui-icon-newwin"}},s=r._createCaptionButton(i,r.uiDialogTitlebar,!0);e&&(s["insert"+n](t),r.restoreButton=s)},_appendToBody:function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(document.body)},restore:function(){var t=this,n=t.uiDialog,r,i={},s,o={},u=e("<div></div>"),a=e("<div></div>"),f="uiDialog",l;t.minimized?(t.minimized=!1,t._enableDisableDragger(!1),t.innerFrame&&(f="copy",t[f]||(f="uiDialog")),r=t[f].position(),i.width=t[f].width(),i.height=t[f].height(),u.appendTo(document.body).css({top:t[f].offset().top,left:t[f].offset().left,height:t[f].innerHeight(),width:t[f].innerWidth(),position:"absolute"}),n.css("position","absolute"),n.css("float",""),t._appendToBody(n),t._enableDisableResizer(!1),t.isPin||t._enableDisableDragger(!1),t._restoreToNormal(),t.contentWrapper.show(),t.uiDialogButtonPane&&t.uiDialogButtonPane.length&&t.uiDialogButtonPane.show(),a.appendTo(document.body).css({top:t.uiDialog.offset().top,left:t.uiDialog.offset().left,height:t.uiDialog.innerHeight(),width:t.uiDialog.innerWidth(),position:"absolute"}),t.uiDialog.hide(),u.effect("transfer",{to:a,className:"ui-widget-content"},150,function(){t.uiDialog.show(),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),u.remove(),a.remove(),t.copy&&t.copy.remove(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=t.getState(),t._trigger("stateChanged",null,{originalState:"minimized",state:l})}),t.collapsed&&t._collapseDialogContent(),t._doButtonAction(t.minimizeButton,"show"),t._doButtonAction(t.restoreButton,"remove"),t._doButtonAction(t.pinButton,"show"),t._doButtonAction(t.refreshButton,"show"),t._doButtonAction(t.toggleButton,"show"),e.browser.webkit&&e(".wijmo-wijdialog-captionbutton").css("float","")):t.maximized&&(t.maximized=!1,r=t.uiDialog.position(),i.width=t.uiDialog.width(),i.height=t.uiDialog.height(),e(window).unbind(".onWinResize"),t.collapsed&&t._expandDialogContent(),t._enableDisableResizer(!1),t.isPin||t._enableDisableDragger(!1),t._restoreToNormal(),t.contentWrapper.show(),t.collapsed&&t._collapseDialogContent(),t.maximizeButton!==undefined&&(t.maximizeButton.show(),t._restoreButton(!1,t.maximizeButton,"before")),s=t.uiDialog.position(),o.width=t.uiDialog.width(),o.height=t.uiDialog.height(),t._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=t.getState(),t._trigger("stateChanged",null,{originalState:"maximized",state:l}))},getState:function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},reset:function(){var e=this;e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e._setOption("position",e.originalPosition)},open:function(){var t=this,n=t.options;(n.hide==="drop"||n.hide==="bounce")&&e.browser.msie&&t.uiDialog.css("filter","auto"),t.innerFrame?(t.innerFrame.attr("src",n.contentUrl),t.minimized?(t.uiDialogTitlebar.show(),t._isOpen=!0):e.ui.dialog.prototype.open.apply(t,arguments)):(t.minimized?(t.uiDialog.show(),t._isOpen=!0):e.ui.dialog.prototype.open.apply(t,arguments),t.uiDialog.wijTriggerVisibility()),t.collapsed&&t._collapseDialogContent(),n.disabled&&(t.disabledDiv?t.disabledDiv.show():t.disable())},close:function(){var t=this,n=t.options;e.ui.dialog.prototype.close.apply(t,arguments)&&(t.innerFrame&&(t.innerFrame.attr("src",""),t.minimized&&t.uiDialogTitlebar.hide()),t.disabledDiv&&n.disabled&&t.disabledDiv.hide())},_restoreToNormal:function(){var e=this,t=e.uiDialog,n=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),n.css("height",e.normalInnerHeight),n.css("width",e.normalInnerWidth),n.css("min-width",e.normalInnerMinWidth),n.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()}}),e.extend(e.ui.dialog.overlay,{create:function(t){e.ui.dialog.latestDlg=t,this.instances.length===0&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ&&!e.contains(e.ui.dialog.latestDlg.element[0],t.target))return!1})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},height:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"}})})(e)}),define("jquery_autogrow",["jquery"],function(e){return e.fn.autoGrow=function(){return this.each(function(){var t=function(t){return e(t).after('<div class="autogrow-textarea-mirror"></div>'),e(t).next(".autogrow-textarea-mirror")[0]},n=function(t){i.innerHTML=String(t.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />")+".<br/>.",e(t).height()!=e(i).height()&&e(t).height(e(i).height())},r=function(){n(this)},i=t(this);i.style.display="none",i.style.wordWrap="break-word",i.style.whiteSpace="normal",i.style.padding=e(this).css("padding"),i.style.width=e(this).css("width"),i.style.fontFamily=e(this).css("font-family"),i.style.fontSize=e(this).css("font-size"),i.style.lineHeight=e(this).css("line-height"),this.style.overflow="hidden",this.style.minHeight=this.rows+"em",this.onkeyup=r,n(this)})},e.fn.autoGrow}),define("jquery_scrollTo",["jquery"],function(e){return function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.speed||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f)l[p]=f[i]+(c?0:d-u.offset()[i]),s.margin&&(l[p]-=parseInt(a.css("margin"+r))||0,l[p]-=parseInt(a.css("border"+r+"Width"))||0),l[p]+=s.offset[i]||0,s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v)),!e&&s.queue&&(d!=l[p]&&h(s.onAfterFirst),delete l[p])}),h(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}}(e),e.fn.scrollTo}),define("tweenmax",["jquery"],function(e){var t="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;return(t._gsQueue||(t._gsQueue=[])).push(function(){"use strict";t._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},i=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=i.prototype.render},s=1e-10,o=n._internals,u=o.isSelector,a=o.isArray,f=i.prototype=n.to({},.1,{}),l=[];i.version="1.15.1",f.constructor=i,f.kill()._gc=!1,i.killTweensOf=i.killDelayedCallsTo=n.killTweensOf,i.getTweensOf=n.getTweensOf,i.lagSmoothing=n.lagSmoothing,i.ticker=n.ticker,i.render=n.render,f.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},f.updateTo=function(e,t){var r,i=this.ratio,s=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in e)this.vars[r]=e[r];if(this._initted||s)if(t)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0||s){this._initted=!1,this._init();for(var u,a=1/(1-i),f=this._firstPT;f;)u=f.s+f.c,f.c*=a,f.s=u-f.c,f=f._next}return this},f.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,i,u,a,f,c,h,p,d=this._dirty?this.totalDuration():this._totalDuration,v=this._time,m=this._totalTime,g=this._cycle,y=this._duration,b=this._rawPrevTime;if(e>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,i="onComplete"),0===y&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>b||b===s)&&b!==e&&(n=!0,b>s&&(i="onReverseComplete")),this._rawPrevTime=p=!t||e||b===e?e:s)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===y&&b>0&&b!==s)&&(i="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=p=!t||e||b===e?e:s)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(a=y+this._repeatDelay,this._cycle=this._totalTime/a>>0,0!==this._cycle&&this._cycle===this._totalTime/a&&this._cycle--,this._time=this._totalTime-this._cycle*a,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time),this._time>y?this._time=y:0>this._time&&(this._time=0)),this._easeType?(f=this._time/y,c=this._easeType,h=this._easePower,(1===c||3===c&&f>=.5)&&(f=1-f),3===c&&(f*=2),1===h?f*=f:2===h?f*=f*f:3===h?f*=f*f*f:4===h&&(f*=f*f*f*f),this.ratio=1===c?1-f:2===c?f:.5>this._time/y?f/2:1-f/2):this.ratio=this._ease.getRatio(this._time/y)),v===this._time&&!n&&g===this._cycle)return m!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=v,this._totalTime=m,this._rawPrevTime=b,this._cycle=g,o.lazyTweens.push(this),this._lazy=[e,t],void 0;this._time&&!r?this.ratio=this._ease.getRatio(this._time/y):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==v&&e>=0&&(this._active=!0),0===m&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===y)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l))),u=this._firstPT;u;)u.f?u.t[u.p](u.c*this.ratio+u.s):u.t[u.p]=u.c*this.ratio+u.s,u=u._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,n),t||(this._totalTime!==m||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)),this._cycle!==g&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||l)),i&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||l),0===y&&this._rawPrevTime===s&&p!==s&&(this._rawPrevTime=0))},i.to=function(e,t,n){return new i(e,t,n)},i.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new i(e,t,n)},i.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new i(e,t,r)},i.staggerTo=i.allTo=function(e,t,s,o,f,c,h){o=o||0;var p,d,v,m,g=s.delay||0,y=[],b=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),f.apply(h||this,c||l)};for(a(e)||("string"==typeof e&&(e=n.selector(e)||e),u(e)&&(e=r(e))),e=e||[],0>o&&(e=r(e),e.reverse(),o*=-1),p=e.length-1,v=0;p>=v;v++){d={};for(m in s)d[m]=s[m];d.delay=g,v===p&&f&&(d.onComplete=b),y[v]=new i(e[v],t,d),g+=o}return y},i.staggerFrom=i.allFrom=function(e,t,n,r,s,o,u){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,i.staggerTo(e,t,n,r,s,o,u)},i.staggerFromTo=i.allFromTo=function(e,t,n,r,s,o,u,a){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,i.staggerTo(e,t,r,s,o,u,a)},i.delayedCall=function(e,t,n,r,s){return new i(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:s,overwrite:0})},i.set=function(e,t){return new i(e,0,t)},i.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var c=function(e,t){for(var r=[],i=0,s=e._first;s;)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(c(s,t)),i=r.length),s=s._next;return r},h=i.getAllTweens=function(t){return c(e._rootTimeline,t).concat(c(e._rootFramesTimeline,t))};i.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var s,o,u,a=h(0!=i),f=a.length,l=n&&r&&i;for(u=0;f>u;u++)o=a[u],(l||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},i.killChildTweensOf=function(e,t){if(null!=e){var s,f,l,c,h,p=o.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),u(e)&&(e=r(e)),a(e))for(c=e.length;--c>-1;)i.killChildTweensOf(e[c],t);else{s=[];for(l in p)for(f=p[l].target.parentNode;f;)f===e&&(s=s.concat(p[l].tweens)),f=f.parentNode;for(h=s.length,c=0;h>c;c++)t&&s[c].totalTime(s[c].totalDuration()),s[c]._enabled(!1,!1)}}};var p=function(e,n,r,i){n=n!==!1,r=r!==!1,i=i!==!1;for(var s,o,u=h(i),a=n&&r&&i,f=u.length;--f>-1;)o=u[f],(a||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&o.paused(e)};return i.pauseAll=function(e,t,n){p(!0,e,t,n)},i.resumeAll=function(e,t,n){p(!1,e,t,n)},i.globalTimeScale=function(t){var r=e._rootTimeline,i=n.ticker.time;return arguments.length?(t=t||s,r._startTime=i-(i-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},f.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},f.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},f.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},f.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},f.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},f.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},f.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},f.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},i},!0),t._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,n,r){var i=function(e){n.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var t,r,i=this.vars;for(r in i)t=i[r],f(t)&&-1!==t.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(t));f(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},s=1e-10,o=r._internals,u=i._internals={},a=o.isSelector,f=o.isArray,l=o.lazyTweens,c=o.lazyRender,h=[],p=t._gsDefine.globals,d=function(e){var t,n={};for(t in e)n[t]=e[t];return n},v=u.pauseCallback=function(e,t,n,r){var i=e._timeline,s=i._totalTime;!t&&this._forcingPlayhead||i._rawPrevTime===e._startTime||(i.pause(e._startTime),t&&t.apply(r||i,n||h),this._forcingPlayhead&&i.seek(s))},m=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},g=i.prototype=new n;return i.version="1.15.1",g.constructor=i,g.kill()._gc=g._forcingPlayhead=!1,g.to=function(e,t,n,i){var s=n.repeat&&p.TweenMax||r;return t?this.add(new s(e,t,n),i):this.set(e,n,i)},g.from=function(e,t,n,i){return this.add((n.repeat&&p.TweenMax||r).from(e,t,n),i)},g.fromTo=function(e,t,n,i,s){var o=i.repeat&&p.TweenMax||r;return t?this.add(o.fromTo(e,t,n,i),s):this.set(e,i,s)},g.staggerTo=function(e,t,n,s,o,u,f,l){var c,h=new i({onComplete:u,onCompleteParams:f,onCompleteScope:l,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=r.selector(e)||e),e=e||[],a(e)&&(e=m(e)),s=s||0,0>s&&(e=m(e),e.reverse(),s*=-1),c=0;e.length>c;c++)n.startAt&&(n.startAt=d(n.startAt)),h.to(e[c],t,d(n),c*s);return this.add(h,o)},g.staggerFrom=function(e,t,n,r,i,s,o,u){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u)},g.staggerFromTo=function(e,t,n,r,i,s,o,u,a){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,i,s,o,u,a)},g.call=function(e,t,n,i){return this.add(r.delayedCall(0,e,t,n),i)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new r(e,0,t),n)},i.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var n,s,o=new i(e),u=o._timeline;for(null==t&&(t=!0),u._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=u._time,n=u._first;n;)s=n._next,t&&n instanceof r&&n.target===n.vars.onComplete||o.add(n,n._startTime-n._delay),n=s;return u.add(o,0),o},g.add=function(t,s,o,u){var a,l,c,h,p,d;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,t)),!(t instanceof e)){if(t instanceof Array||t&&t.push&&f(t)){for(o=o||"normal",u=u||0,a=s,l=t.length,c=0;l>c;c++)f(h=t[c])&&(h=new i({tweens:h})),this.add(h,a),"string"!=typeof h&&"function"!=typeof h&&("sequence"===o?a=h._startTime+h.totalDuration()/h._timeScale:"start"===o&&(h._startTime-=h.delay())),a+=u;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,s);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=r.delayedCall(0,t)}if(n.prototype.add.call(this,t,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>t._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&f(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,t){n.prototype._remove.call(this,e,t);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},g.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,i){var s=r.delayedCall(0,v,["{self}",t,n,i],this);return s.data="isPause",this.add(s,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&f(i)))for(s=i.length;--s>-1;)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s]);if("string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-this.duration():0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,i,o,u,a,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,v=this._timeScale,m=this._paused;if(e>=f?(this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(i=!0,u="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===s)&&this._rawPrevTime!==e&&this._first&&(a=!0,this._rawPrevTime>s&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,e=f+1e-4):1e-7>e?(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(u="onReverseComplete",i=this._reversed),0>e?(this._active=!1,this._rawPrevTime>=0&&this._first&&(a=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,e=0,this._initted||(a=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==p&&this._first||n||a){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=p)for(r=this._first;r&&(o=r._next,!this._paused||m);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,!this._paused||m);)(r._active||p>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;this._onUpdate&&(t||(l.length&&c(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h))),u&&(this._gc||(d===this._startTime||v!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(i&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this.vars[u].apply(this.vars[u+"Scope"]||this,this.vars[u+"Params"]||h)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof i&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,i){i=i||-9999999999;for(var s=[],o=this._first,u=0;o;)i>o._startTime||(o instanceof r?t!==!1&&(s[u++]=o):(n!==!1&&(s[u++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,n)),u=s.length))),o=o._next;return s},g.getTweensOf=function(e,t){var n,i,s=this._gc,o=[],u=0;for(s&&this._enabled(!0,!0),n=r.getTweensOf(e),i=n.length;--i>-1;)(n[i].timeline===this||t&&this._contains(n[i]))&&(o[u++]=n[i]);return s&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,n){n=n||0;for(var r,i=this._first,s=this._labels;i;)i._startTime>=n&&(i._startTime+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(e,t)&&(i=!0);return i},g.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,t){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return n.prototype._enabled.call(this,e,t)},g.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,i=this._last,s=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>s&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):s=i._startTime,0>i._startTime&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),s=0),n=i._startTime+i._totalDuration/i._timeScale,n>r&&(r=n),i=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},i},!0),t._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=1e-10,s=[],o=t._internals,u=o.lazyTweens,a=o.lazyRender,f=new n(null,null,1,0),l=r.prototype=new e;return l.constructor=r,l.kill()._gc=!1,r.version="1.15.1",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},l.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},l.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},l.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},l.tweenTo=function(e,n){n=n||{};var r,i,o,u={ease:f,useFrames:this.usesFrames(),immediateRender:!1};for(i in n)u[i]=n[i];return u.time=this._parseTimeOrLabel(e),r=Math.abs(Number(u.time)-this._time)/this._timeScale||.001,o=new t(this,r,u),u.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&r===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||o,n.onStartParams||s)},o},l.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],onCompleteScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},l.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,o,f,l,c,p,d=this._dirty?this.totalDuration():this._totalDuration,v=this._duration,m=this._time,g=this._totalTime,y=this._startTime,b=this._timeScale,w=this._rawPrevTime,E=this._paused,S=this._cycle;if(e>=d?(this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",0===this._duration&&(0===e||0>w||w===i)&&w!==e&&this._first&&(c=!0,w>i&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:i,this._yoyo&&0!==(1&this._cycle)?this._time=e=0:(this._time=v,e=v+1e-4)):1e-7>e?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===v&&w!==i&&(w>0||0>e&&w>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),0>e?(this._active=!1,w>=0&&this._first&&(c=!0),this._rawPrevTime=e):(this._rawPrevTime=v||!t||e||this._rawPrevTime===e?e:i,e=0,this._initted||(c=!0))):(0===v&&0>w&&(c=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(p=v+this._repeatDelay,this._cycle=this._totalTime/p>>0,0!==this._cycle&&this._cycle===this._totalTime/p&&this._cycle--,this._time=this._totalTime-this._cycle*p,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?(this._time=v,e=v+1e-4):0>this._time?this._time=e=0:e=this._time))),this._cycle!==S&&!this._locked){var x=this._yoyo&&0!==(1&S),T=x===(this._yoyo&&0!==(1&this._cycle)),N=this._totalTime,C=this._cycle,k=this._rawPrevTime,L=this._time;if(this._totalTime=S*v,S>this._cycle?x=!x:this._totalTime+=v,this._time=m,this._rawPrevTime=0===v?w-1e-4:w,this._cycle=S,this._locked=!0,m=x?0:v,this.render(m,t,0===v),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||s),T&&(m=x?v+1e-4:-0.0001,this.render(m,!0,!1)),this._locked=!1,this._paused&&!E)return;this._time=L,this._totalTime=N,this._cycle=C,this._rawPrevTime=k}if(!(this._time!==m&&this._first||n||c))return g!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&e>0&&(this._active=!0),0===g&&this.vars.onStart&&0!==this._totalTime&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s)),this._time>=m)for(r=this._first;r&&(f=r._next,!this._paused||E);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=f;else for(r=this._last;r&&(f=r._prev,!this._paused||E);)(r._active||m>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=f;this._onUpdate&&(t||(u.length&&a(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s))),l&&(this._locked||this._gc||(y===this._startTime||b!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(o&&(u.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||s)))},l.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,i,s=[],o=this.getChildren(e,t,n),u=0,a=o.length;for(r=0;a>r;r++)i=o[r],i.isActive()&&(s[u++]=i);return s},l.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;r>t;t++)if(n[t].time>e)return n[t].name;return null},l.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(e>t[n].time)return t[n].name;return null},l.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},l.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},l.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},l.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},l.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},l.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},l.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,n=[],r=[],i=[],s={},o=t._gsDefine.globals,u=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",f=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;return i.b=a+(e-a)/4,s.b=c+p,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(c+h)/2,o.b=h-p,u.b=l+(r-l)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]},l=function(e,t,s,o,u){var a,l,c,h,p,d,v,m,g,y,b,w,E,S=e.length-1,x=0,T=e[0].a;for(a=0;S>a;a++)p=e[x],l=p.a,c=p.d,h=e[x+1].d,u?(b=n[a],w=r[a],E=.25*(w+b)*t/(o?.5:i[a]||.5),d=c-(c-l)*(o?.5*t:0!==b?E/b:0),v=c+(h-c)*(o?.5*t:0!==w?E/w:0),m=c-(d+((v-d)*(3*b/(b+w)+.5)/4||0))):(d=c-.5*(c-l)*t,v=c+.5*(h-c)*t,m=c-(d+v)/2),d+=m,v+=m,p.c=g=d,p.b=0!==a?T:T=p.a+.6*(p.c-p.a),p.da=c-l,p.ca=g-l,p.ba=T-l,s?(y=f(l,T,g,c),e.splice(x,1,y[0],y[1],y[2],y[3]),x+=4):x++,T=v;p=e[x],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,s&&(y=f(p.a,T,p.c,p.d),e.splice(x,1,y[0],y[1],y[2],y[3]))},c=function(e,t,i,s){var o,a,f,l,c,h,p=[];if(s)for(e=[s].concat(e),a=e.length;--a>-1;)"string"==typeof (h=e[a][t])&&"="===h.charAt(1)&&(e[a][t]=s[t]+Number(h.charAt(0)+h.substr(2)));if(o=e.length-2,0>o)return p[0]=new u(e[0][t],0,0,e[-1>o?0:1][t]),p;for(a=0;o>a;a++)f=e[a][t],l=e[a+1][t],p[a]=new u(f,0,0,l),i&&(c=e[a+2][t],n[a]=(n[a]||0)+(l-f)*(l-f),r[a]=(r[a]||0)+(c-l)*(c-l));return p[a]=new u(e[a][t],0,0,e[a+1][t]),p},h=function(e,t,o,u,f,h){var p,d,v,m,g,y,b,w,E={},S=[],x=h||e[0];f="string"==typeof f?","+f+",":a,null==t&&(t=1);for(d in e[0])S.push(d);if(e.length>1){for(w=e[e.length-1],b=!0,p=S.length;--p>-1;)if(d=S[p],Math.abs(x[d]-w[d])>.05){b=!1;break}b&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}for(n.length=r.length=i.length=0,p=S.length;--p>-1;)d=S[p],s[d]=-1!==f.indexOf(","+d+","),E[d]=c(e,d,s[d],h);for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p]),r[p]=Math.sqrt(r[p]);if(!u){for(p=S.length;--p>-1;)if(s[d])for(v=E[S[p]],y=v.length-1,m=0;y>m;m++)g=v[m+1].da/r[m]+v[m].da/n[m],i[m]=(i[m]||0)+g*g;for(p=i.length;--p>-1;)i[p]=Math.sqrt(i[p])}for(p=S.length,m=o?4:1;--p>-1;)d=S[p],v=E[d],l(v,t,o,u,s[d]),b&&(v.splice(0,m),v.splice(v.length-m,m));return E},p=function(e,t,n){t=t||"soft";var r,i,s,o,a,f,l,c,h,p,d,v={},m="cubic"===t?3:2,g="soft"===t,y=[];if(g&&n&&(e=[n].concat(e)),null==e||m+1>e.length)throw"invalid Bezier data";for(h in e[0])y.push(h);for(f=y.length;--f>-1;){for(h=y[f],v[h]=a=[],p=0,c=e.length,l=0;c>l;l++)r=null==n?e[l][h]:"string"==typeof (d=e[l][h])&&"="===d.charAt(1)?n[h]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&l>1&&c-1>l&&(a[p++]=(r+a[p-2])/2),a[p++]=r;for(c=p-m+1,p=0,l=0;c>l;l+=m)r=a[l],i=a[l+1],s=a[l+2],o=2===m?0:a[l+3],a[p++]=d=3===m?new u(r,i,s,o):new u(r,(2*i+r)/3,(2*i+s)/3,s);a.length=p}return v},d=function(e,t,n){for(var r,i,s,o,u,a,f,l,c,h,p,d=1/n,v=e.length;--v>-1;)for(h=e[v],s=h.a,o=h.d-s,u=h.c-s,a=h.b-s,r=i=0,l=1;n>=l;l++)f=d*l,c=1-f,r=i-(i=(f*f*o+3*c*(f*u+c*a))*f),p=v*n+l-1,t[p]=(t[p]||0)+r*r},v=function(e,t){t=t>>0||6;var n,r,i,s,o=[],u=[],a=0,f=0,l=t-1,c=[],h=[];for(n in e)d(e[n],o,t);for(i=o.length,r=0;i>r;r++)a+=Math.sqrt(o[r]),s=r%t,h[s]=a,s===l&&(f+=a,s=r/t>>0,c[s]=h,u[s]=f,a=0,h=[]);return{length:f,lengths:u,segments:c}},m=t._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,i,s,o,u,a=t.values||[],f={},l=a[0],c=t.autoRotate||n.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(r in l)this._props.push(r);for(s=this._props.length;--s>-1;)r=this._props[s],this._overwriteProps.push(r),i=this._func[r]="function"==typeof e[r],f[r]=i?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),u||f[r]!==a[0][r]&&(u=f);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?h(a,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,u):p(a,t.type,f),this._segCount=this._beziers[r].length,this._timeRes){var d=v(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),s=c.length;--s>-1;){for(o=0;3>o;o++)r=c[s][o],this._func[r]="function"==typeof e[r]?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]:!1;r=c[s][2],this._initialRotations[s]=this._func[r]?this._func[r].call(this._target):this._target[r]}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,r,i,s,o,u,a,f,l,c,h=this._segCount,p=this._func,d=this._target,v=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,c=this._curSeg,t*=this._length,i=this._li,t>this._l2&&h-1>i){for(f=h-1;f>i&&t>=(this._l2=l[++i]););this._l1=l[i-1],this._li=i,this._curSeg=c=this._segments[i],this._s2=c[this._s1=this._si=0]}else if(this._l1>t&&i>0){for(;i>0&&(this._l1=l[--i])>=t;);0===i&&this._l1>t?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=c=this._segments[i],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(n=i,t-=this._l1,i=this._si,t>this._s2&&c.length-1>i){for(f=c.length-1;f>i&&t>=(this._s2=c[++i]););this._s1=c[i-1],this._si=i}else if(this._s1>t&&i>0){for(;i>0&&(this._s1=c[--i])>=t;);0===i&&this._s1>t?this._s1=0:i++,this._s2=c[i],this._si=i}u=(i+(t-this._s1)/(this._s2-this._s1))*this._prec}else n=0>t?0:t>=1?h-1:h*t>>0,u=(t-n*(1/h))*h;for(r=1-u,i=this._props.length;--i>-1;)s=this._props[i],o=this._beziers[s][n],a=(u*u*o.da+3*r*(u*o.ca+r*o.ba))*u+o.a,this._round[s]&&(a=Math.round(a)),p[s]?d[s](a):d[s]=a;if(this._autoRotate){var m,g,y,b,w,E,S,x=this._autoRotate;for(i=x.length;--i>-1;)s=x[i][2],E=x[i][3]||0,S=x[i][4]===!0?1:e,o=this._beziers[x[i][0]],m=this._beziers[x[i][1]],o&&m&&(o=o[n],m=m[n],g=o.a+(o.b-o.a)*u,b=o.b+(o.c-o.b)*u,g+=(b-g)*u,b+=(o.c+(o.d-o.c)*u-b)*u,y=m.a+(m.b-m.a)*u,w=m.b+(m.c-m.b)*u,y+=(w-y)*u,w+=(m.c+(m.d-m.c)*u-w)*u,a=v?Math.atan2(w-y,b-g)*S+E:this._initialRotations[i],p[s]?d[s](a):d[s]=a)}}}),g=m.prototype;m.bezierThrough=h,m.cubicToQuadratic=f,m._autoCSS=!0,m.quadraticToCubic=function(e,t,n){return new u(e,(2*t+e)/3,(2*t+n)/3,n)},m._cssRegister=function(){var e=o.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,i=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,o,u,a){t instanceof Array&&(t={values:t}),a=new m;var f,l,c,h=t.values,p=h.length-1,d=[],v={};if(0>p)return u;for(f=0;p>=f;f++)c=n(e,h[f],o,u,a,p!==f),d[f]=c.end;for(l in t)v[l]=t[l];return v.values=d,u=new i(e,"bezier",0,0,c.pt,2),u.data=c,u.plugin=a,u.setRatio=r,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(f=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=c.end.left?[["left","top","rotation",f,!1]]:null!=c.end.x?[["x","y","rotation",f,!1]]:!1),v.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform),a._onInitTween(c.proxy,v,o._tween),u}})}},g._roundProps=function(e,t){for(var n=this._overwriteProps,r=n.length;--r>-1;)(e[n[r]]||e.bezier||e.bezierThrough)&&(this._round[n[r]]=t)},g._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);return this._super._kill.call(this,e)}}(),t._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,n){var r,i,s,o,u=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=u.prototype.setRatio},a=t._gsDefine.globals,f={},l=u.prototype=new e("css");l.constructor=u,u.version="1.15.1",u.API=2,u.defaultTransformPerspective=0,u.defaultSkewType="compensated",l="px",u.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var c,h,p,d,v,m,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,N=/^(rgb|hsl)/,C=/([A-Z])/g,k=/-([a-z])/gi,L=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},O=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,_=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,P=Math.PI/180,H=180/Math.PI,B={},j=document,F=function(e){return j.createElementNS?j.createElementNS("http://www.w3.org/1999/xhtml",e):j.createElement(e)},I=F("div"),q=F("img"),R=u._internals={_specialProps:f},U=navigator.userAgent,z=function(){var e=U.indexOf("Android"),t=F("a");return p=-1!==U.indexOf("Safari")&&-1===U.indexOf("Chrome")&&(-1===e||Number(U.substr(e+8,1))>3),v=p&&6>Number(U.substr(U.indexOf("Version/")+8,1)),d=-1!==U.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U))&&(m=parseFloat(RegExp.$1)),t?(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity)):!1}(),W=function(e){return S.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(e){window.console&&console.log(e)},V="",$="",J=function(e,t){t=t||I;var n,r,i=t.style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?($=3===r?"ms":n[r],V="-"+$.toLowerCase()+"-",$+e):null},K=j.defaultView?j.defaultView.getComputedStyle:function(){},Q=u.getStyle=function(e,t,n,r,i){var s;return z||"opacity"!==t?(!r&&e.style[t]?s=e.style[t]:(n=n||K(e))?s=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(C,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==i||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:i):W(e)},G=R.convertToPixels=function(e,t,r,i,s){if("px"===i||!i)return r;if("auto"===i||!r)return 0;var o,a,f,l=O.test(t),c=e,h=I.style,p=0>r;if(p&&(r=-r),"%"===i&&-1!==t.indexOf("border"))o=r/100*(l?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+Q(e,"position")+";line-height:0;","%"!==i&&c.appendChild)h[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(c=e.parentNode||j.body,a=c._gsCache,f=n.ticker.frame,a&&l&&a.time===f)return a.width*r/100;h[l?"width":"height"]=r+i}c.appendChild(I),o=parseFloat(I[l?"offsetWidth":"offsetHeight"]),c.removeChild(I),l&&"%"===i&&u.cacheWidths!==!1&&(a=c._gsCache=c._gsCache||{},a.time=f,a.width=100*(o/r)),0!==o||s||(o=G(e,t,r,i,!0))}return p?-o:o},Y=R.calculateOffset=function(e,t,n){if("absolute"!==Q(e,"position",n))return 0;var r="left"===t?"Left":"Top",i=Q(e,"margin"+r,n);return e["offset"+r]-(G(e,t,parseFloat(i),i.replace(E,""))||0)},Z=function(e,t){var n,r,i={};if(t=t||K(e,null))for(n in t)(-1===n.indexOf("Transform")||xt===n)&&(i[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===i[n]&&(i[n.replace(k,A)]=t[n]);return z||(i.opacity=W(e)),r=Dt(e,t,!1),i.rotation=r.rotation,i.skewX=r.skewX,i.scaleX=r.scaleX,i.scaleY=r.scaleY,i.x=r.x,i.y=r.y,Ct&&(i.z=r.z,i.rotationX=r.rotationX,i.rotationY=r.rotationY,i.scaleZ=r.scaleZ),i.filters&&delete i.filters,i},et=function(e,t,n,r,i){var s,o,u,a={},f=e.style;for(o in n)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(s=n[o])||i&&i[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(a[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[o]||""===t[o].replace(w,"")?s:0:Y(e,o),void 0!==f[o]&&(u=new dt(f,o,f[o],u)));if(r)for(o in r)"className"!==o&&(a[o]=r[o]);return{difs:a,firstMPT:u}},tt={width:["Left","Right"],height:["Top","Bottom"]},nt=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(e,t,n){var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=tt[t],s=i.length;for(n=n||K(e,null);--s>-1;)r-=parseFloat(Q(e,"padding"+i[s],n,!0))||0,r-=parseFloat(Q(e,"border"+i[s]+"Width",n,!0))||0;return r},it=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var n=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],i=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];return null==i?i="center"===r?"50%":"0":"center"===i&&(i="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==i.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===i.charAt(1),t.ox=parseFloat(r.replace(w,"")),t.oy=parseFloat(i.replace(w,""))),r+" "+i+(n.length>2?" "+n[2]:"")},st=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ot=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},ut=function(e,t,n,r){var i,s,o,u,a,f=1e-6;return null==e?u=t:"number"==typeof e?u=e:(i=360,s=e.split("_"),a="="===e.charAt(1),o=(a?parseInt(e.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===e.indexOf("rad")?1:H)-(a?0:t),s.length&&(r&&(r[n]=t+o),-1!==e.indexOf("short")&&(o%=i,o!==o%(i/2)&&(o=0>o?o+i:o-i)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*i)%i-(0|o/i)*i:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*i)%i-(0|o/i)*i)),u=t+o),f>u&&u>-f&&(u=0),u},at={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(e,t,n){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(n-t)*e:.5>e?n:2>3*e?t+6*(n-t)*(2/3-e):t)+.5},lt=u.parseColor=function(e){var t,n,r,i,s,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),at[e]?at[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+t+t+n+n+r+r),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(g),i=Number(e[0])%360/360,s=Number(e[1])/100,o=Number(e[2])/100,n=.5>=o?o*(s+1):o+s-o*s,t=2*o-n,e.length>3&&(e[3]=Number(e[3])),e[0]=ft(i+1/3,t,n),e[1]=ft(i,t,n),e[2]=ft(i-1/3,t,n),e):(e=e.match(g)||at.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):at.black},ct="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in at)ct+="|"+l+"\\b";ct=RegExp(ct+")","gi");var ht=function(e,t,n,r){if(null==e)return function(e){return e};var i,s=t?(e.match(ct)||[""])[0]:"",o=e.split(s).join("").match(b)||[],u=e.substr(0,e.indexOf(o[0])),a=")"===e.charAt(e.length-1)?")":"",f=-1!==e.indexOf(" ")?" ":",",l=o.length,c=l>0?o[0].replace(g,""):"";return l?i=t?function(e){var t,h,p,d;if("number"==typeof e)e+=c;else if(r&&D.test(e)){for(d=e.replace(D,"|").split("|"),p=0;d.length>p;p++)d[p]=i(d[p]);return d.join(",")}if(t=(e.match(ct)||[s])[0],h=e.split(t).join("").match(b)||[],p=h.length,l>p--)for(;l>++p;)h[p]=n?h[0|(p-1)/2]:o[p];return u+h.join(f)+f+t+a+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,h;if("number"==typeof e)e+=c;else if(r&&D.test(e)){for(s=e.replace(D,"|").split("|"),h=0;s.length>h;h++)s[h]=i(s[h]);return s.join(",")}if(t=e.match(b)||[],h=t.length,l>h--)for(;l>++h;)t[h]=n?t[0|(h-1)/2]:o[h];return u+t.join(f)+a}:function(e){return e}},pt=function(e){return e=e.split(","),function(t,n,r,i,s,o,u){var a,f=(n+"").split(" ");for(u={},a=0;4>a;a++)u[e[a]]=f[a]=f[a]||f[(a-1)/2>>0];return i.parse(t,u,s,o)}},dt=(R._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,s=this.data,o=s.proxy,u=s.firstMPT,a=1e-6;u;)t=o[u.v],u.r?t=Math.round(t):a>t&&t>-a&&(t=0),u.t[u.p]=t,u=u._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===e)for(u=s.firstMPT;u;){if(n=u.t,n.type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.e=i}}else n.e=n.s+n.xs0;u=u._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),vt=(R._parseToProxy=function(e,t,n,r,i,s){var o,u,a,f,l,c=r,h={},p={},d=n._transform,v=B;for(n._transform=null,B=t,r=l=n.parse(e,t,r,i),B=v,s&&(n._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(1>=r.type&&(u=r.p,p[u]=r.s+r.c,h[u]=r.s,s||(f=new dt(r,"s",u,f,r.r),r.c=0),1===r.type))for(o=r.l;--o>0;)a="xn"+o,u=r.p+"_"+a,p[u]=r.data[a],h[u]=r[a],s||(f=new dt(r,a,u,f,r.rxp[a]));r=r._next}return{proxy:h,end:p,firstMPT:f,pt:l}},R.CSSPropTween=function(e,t,n,i,s,u,a,f,l,c,h){this.t=e,this.p=t,this.s=n,this.c=i,this.n=a||t,e instanceof vt||o.push(this.n),this.r=f,this.type=u||0,l&&(this.pr=l,r=!0),this.b=void 0===c?n:c,this.e=void 0===h?n+i:h,s&&(this._next=s,s._prev=this)}),mt=u.parseComplex=function(e,t,n,r,i,s,o,u,a,f){n=n||s||"",o=new vt(e,t,0,0,o,f?2:1,null,!1,u,n,r),r+="";var l,h,p,d,v,m,b,w,E,S,x,T,C=n.split(", ").join(",").split(" "),k=r.split(", ").join(",").split(" "),L=C.length,A=c!==!1;for((-1!==r.indexOf(",")||-1!==n.indexOf(","))&&(C=C.join(" ").replace(D,", ").split(" "),k=k.join(" ").replace(D,", ").split(" "),L=C.length),L!==k.length&&(C=(s||"").split(" "),L=C.length),o.plugin=a,o.setRatio=f,l=0;L>l;l++)if(d=C[l],v=k[l],w=parseFloat(d),w||0===w)o.appendXtra("",w,st(v,w),v.replace(y,""),A&&-1!==v.indexOf("px"),!0);else if(i&&("#"===d.charAt(0)||at[d]||N.test(d)))T=","===v.charAt(v.length-1)?"),":")",d=lt(d),v=lt(v),E=d.length+v.length>6,E&&!z&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(k[l]).join("transparent")):(z||(E=!1),o.appendXtra(E?"rgba(":"rgb(",d[0],v[0]-d[0],",",!0,!0).appendXtra("",d[1],v[1]-d[1],",",!0).appendXtra("",d[2],v[2]-d[2],E?",":T,!0),E&&(d=4>d.length?1:d[3],o.appendXtra("",d,(4>v.length?1:v[3])-d,T,!1)));else if(m=d.match(g)){if(b=v.match(y),!b||b.length!==m.length)return o;for(p=0,h=0;m.length>h;h++)x=m[h],S=d.indexOf(x,p),o.appendXtra(d.substr(p,S-p),Number(x),st(b[h],x),"",A&&"px"===d.substr(S+x.length,2),0===h),p=S+x.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l?" "+d:d;if(-1!==r.indexOf("=")&&o.data){for(T=o.xs0+o.data.s,l=1;o.l>l;l++)T+=o["xs"+l]+o.data["xn"+l];o.e=T+o["xs"+l]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},gt=9;for(l=vt.prototype,l.l=l.pr=0;--gt>0;)l["xn"+gt]=0,l["xs"+gt]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;return o["xs"+u]+=s&&u?" "+e:e||"",n||0===u||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",u>0?(o.data["xn"+u]=t+n,o.rxp["xn"+u]=i,o["xn"+u]=t,o.plugin||(o.xfirst=new vt(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=i,o)):(o["xs"+u]+=t+(r||""),o)};var yt=function(e,t){t=t||{},this.p=t.prefix?J(e)||e:e,f[e]=f[this.p]=this,this.format=t.formatter||ht(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},bt=R._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,i,s=e.split(","),o=t.defaultValue;for(n=n||[o],r=0;s.length>r;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||o,i=new yt(s[r],t)},wt=function(e){if(!f[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";bt(e,{parser:function(e,n,r,i,s,o,u){var l=a.com.greensock.plugins[t];return l?(l._cssRegister(),f[r].parse(e,n,r,i,s,o,u)):(X("Error: "+t+" js file not loaded."),s)}})}};l=yt.prototype,l.parseComplex=function(e,t,n,r,i,s){var o,u,a,f,l,c,h=this.keyword;if(this.multi&&(D.test(n)||D.test(t)?(u=t.replace(D,"|").split("|"),a=n.replace(D,"|").split("|")):h&&(u=[t],a=[n])),a){for(f=a.length>u.length?a.length:u.length,o=0;f>o;o++)t=u[o]=u[o]||this.dflt,n=a[o]=a[o]||this.dflt,h&&(l=t.indexOf(h),c=n.indexOf(h),l!==c&&(n=-1===c?a:u,n[o]+=" "+h));t=u.join(", "),n=a.join(", ")}return mt(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)},l.parse=function(e,t,n,r,i,o){return this.parseComplex(e.style,this.format(Q(e,this.p,s,!1,this.dflt)),this.format(t),i,o)},u.registerSpecialProp=function(e,t,n){bt(e,{parser:function(e,r,i,s,o,u){var a=new vt(e,i,0,0,o,2,i,!1,n);return a.plugin=u,a.setRatio=t(e,r,s._tween,i),a},priority:n})};var Et,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),xt=J("transform"),Tt=V+"transform",Nt=J("transformOrigin"),Ct=null!==J("perspective"),kt=R.Transform=function(){this.perspective=parseFloat(u.defaultTransformPerspective)||0,this.force3D=u.defaultForce3D!==!1&&Ct?u.defaultForce3D||"auto":!1},Lt=window.SVGElement,At=function(e,t,n){var r,i=j.createElementNS("http://www.w3.org/2000/svg",e),s=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),n[r]);return t.appendChild(i),i},Ot=document.documentElement,Mt=function(){var e,t,n,r=m||/Android/i.test(U)&&!window.chrome;return j.createElementNS&&!r&&(e=At("svg",Ot),t=At("rect",e,{width:100,height:50,x:100}),n=t.getBoundingClientRect().width,t.style[Nt]="50% 50%",t.style[xt]="scaleX(0.5)",r=n===t.getBoundingClientRect().width&&(!d||!Ct),Ot.removeChild(e)),r}(),_t=function(e,t,n){var r=e.getBBox();t=it(t).split(" "),n.xOrigin=(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*r.width:parseFloat(t[0]))+r.x,n.yOrigin=(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*r.height:parseFloat(t[1]))+r.y},Dt=R.getTransform=function(e,t,n,r){if(e._gsTransform&&n&&!r)return e._gsTransform;var i,o,a,f,l,c,h,p,d,v,m=n?e._gsTransform||new kt:new kt,g=0>m.scaleX,y=2e-5,b=1e5,w=Ct?parseFloat(Q(e,Nt,t,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,E=parseFloat(u.defaultTransformPerspective)||0;if(xt?o=Q(e,Tt,t,!0):e.currentStyle&&(o=e.currentStyle.filter.match(M),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),m.x||0,m.y||0].join(","):""),i=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,m.svg=!!(Lt&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM)),m.svg&&(_t(e,Q(e,Nt,s,!1,"50% 50%")+"",m),Et=u.useSVGTransformAttr||Mt,a=e.getAttribute("transform"),i&&a&&-1!==a.indexOf("matrix")&&(o=a,i=0)),!i){for(a=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],f=a.length;--f>-1;)l=Number(a[f]),a[f]=(c=l-(l|=0))?(0|c*b+(0>c?-0.5:.5))/b+l:l;if(16===a.length){var S,x,T,N,C,k=a[0],L=a[1],A=a[2],O=a[3],_=a[4],D=a[5],P=a[6],B=a[7],j=a[8],F=a[9],I=a[10],q=a[12],R=a[13],U=a[14],z=a[11],W=Math.atan2(P,I);m.zOrigin&&(U=-m.zOrigin,q=j*U-a[12],R=F*U-a[13],U=I*U+m.zOrigin-a[14]),m.rotationX=W*H,W&&(N=Math.cos(-W),C=Math.sin(-W),S=_*N+j*C,x=D*N+F*C,T=P*N+I*C,j=_*-C+j*N,F=D*-C+F*N,I=P*-C+I*N,z=B*-C+z*N,_=S,D=x,P=T),W=Math.atan2(j,I),m.rotationY=W*H,W&&(N=Math.cos(-W),C=Math.sin(-W),S=k*N-j*C,x=L*N-F*C,T=A*N-I*C,F=L*C+F*N,I=A*C+I*N,z=O*C+z*N,k=S,L=x,A=T),W=Math.atan2(L,k),m.rotation=W*H,W&&(N=Math.cos(-W),C=Math.sin(-W),k=k*N+_*C,x=L*N+D*C,D=L*-C+D*N,P=A*-C+P*N,L=x),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(0|Math.sqrt(k*k+L*L)*b+.5)/b,m.scaleY=(0|Math.sqrt(D*D+F*F)*b+.5)/b,m.scaleZ=(0|Math.sqrt(P*P+I*I)*b+.5)/b,m.skewX=0,m.perspective=z?1/(0>z?-z:z):0,m.x=q,m.y=R,m.z=U}else if(!(Ct&&!r&&a.length&&m.x===a[4]&&m.y===a[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===Q(e,"display",t))){var X=a.length>=6,V=X?a[0]:1,$=a[1]||0,J=a[2]||0,K=X?a[3]:1;m.x=a[4]||0,m.y=a[5]||0,h=Math.sqrt(V*V+$*$),p=Math.sqrt(K*K+J*J),d=V||$?Math.atan2($,V)*H:m.rotation||0,v=J||K?Math.atan2(J,K)*H+d:m.skewX||0,Math.abs(v)>90&&270>Math.abs(v)&&(g?(h*=-1,v+=0>=d?180:-180,d+=0>=d?180:-180):(p*=-1,v+=0>=v?180:-180)),m.scaleX=h,m.scaleY=p,m.rotation=d,m.skewX=v,Ct&&(m.rotationX=m.rotationY=m.z=0,m.perspective=E,m.scaleZ=1)}m.zOrigin=w;for(f in m)y>m[f]&&m[f]>-y&&(m[f]=0)}return n&&(e._gsTransform=m),m},Pt=function(e){var t,n,r=this.data,i=-r.rotation*P,s=i+r.skewX*P,o=1e5,u=(0|Math.cos(i)*r.scaleX*o)/o,a=(0|Math.sin(i)*r.scaleX*o)/o,f=(0|Math.sin(s)*-r.scaleY*o)/o,l=(0|Math.cos(s)*r.scaleY*o)/o,c=this.t.style,h=this.t.currentStyle;if(h){n=a,a=-f,f=-n,t=h.filter,c.filter="";var p,d,v=this.t.offsetWidth,g=this.t.offsetHeight,y="absolute"!==h.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+u+", M12="+a+", M21="+f+", M22="+l,w=r.x+v*r.xPercent/100,x=r.y+g*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?.01*v*r.ox:r.ox)-v/2,d=(r.oyp?.01*g*r.oy:r.oy)-g/2,w+=p-(p*u+d*a),x+=d-(p*f+d*l)),y?(p=v/2,d=g/2,b+=", Dx="+(p-(p*u+d*a)+w)+", Dy="+(d-(p*f+d*l)+x)+")"):b+=", sizingMethod='auto expand')",c.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(_,b):b+" "+t,(0===e||1===e)&&1===u&&0===a&&0===f&&1===l&&(y&&-1===b.indexOf("Dx=0, Dy=0")||S.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&c.removeAttribute("filter")),!y){var T,N,C,k=8>m?1:-1;for(p=r.ieOffsetX||0,d=r.ieOffsetY||0,r.ieOffsetX=Math.round((v-((0>u?-u:u)*v+(0>a?-a:a)*g))/2+w),r.ieOffsetY=Math.round((g-((0>l?-l:l)*g+(0>f?-f:f)*v))/2+x),gt=0;4>gt;gt++)N=nt[gt],T=h[N],n=-1!==T.indexOf("px")?parseFloat(T):G(this.t,N,parseFloat(T),T.replace(E,""))||0,C=n!==r[N]?2>gt?-r.ieOffsetX:-r.ieOffsetY:2>gt?p-r.ieOffsetX:d-r.ieOffsetY,c[N]=(r[N]=Math.round(n-C*(0===gt||2===gt?1:k)))+"px"}}},Ht=R.set3DTransformRatio=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,v,m,g,y,b,w,E,S,x=this.data,T=this.t.style,N=x.rotation*P,C=x.scaleX,k=x.scaleY,L=x.scaleZ,A=x.x,O=x.y,M=x.z,_=x.perspective;if(!(1!==e&&0!==e&&x.force3D||x.force3D===!0||x.rotationY||x.rotationX||1!==L||_||M))return Bt.call(this,e),void 0;if(d&&(v=1e-4,v>C&&C>-v&&(C=L=2e-5),v>k&&k>-v&&(k=L=2e-5),!_||x.z||x.rotationX||x.rotationY||(_=0)),N||x.skewX)m=t=Math.cos(N),g=i=Math.sin(N),x.skewX&&(N-=x.skewX*P,m=Math.cos(N),g=Math.sin(N),"simple"===x.skewType&&(y=Math.tan(x.skewX*P),y=Math.sqrt(1+y*y),m*=y,g*=y)),n=-g,s=m;else{if(!(x.rotationY||x.rotationX||1!==L||_||x.svg))return T[xt]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) translate3d(":"translate3d(")+A+"px,"+O+"px,"+M+"px)"+(1!==C||1!==k?" scale("+C+","+k+")":""),void 0;t=s=1,n=i=0}f=1,r=o=u=a=l=c=0,h=_?-1/_:0,p=x.zOrigin,v=1e-6,E=",",S="0",N=x.rotationY*P,N&&(m=Math.cos(N),g=Math.sin(N),u=-g,l=h*-g,r=t*g,o=i*g,f=m,h*=m,t*=m,i*=m),N=x.rotationX*P,N&&(m=Math.cos(N),g=Math.sin(N),y=n*m+r*g,b=s*m+o*g,a=f*g,c=h*g,r=n*-g+r*m,o=s*-g+o*m,f*=m,h*=m,n=y,s=b),1!==L&&(r*=L,o*=L,f*=L,h*=L),1!==k&&(n*=k,s*=k,a*=k,c*=k),1!==C&&(t*=C,i*=C,u*=C,l*=C),(p||x.svg)&&(p&&(A+=r*-p,O+=o*-p,M+=f*-p+p),x.svg&&(A+=x.xOrigin-(x.xOrigin*t+x.yOrigin*n),O+=x.yOrigin-(x.xOrigin*i+x.yOrigin*s)),v>A&&A>-v&&(A=S),v>O&&O>-v&&(O=S),v>M&&M>-v&&(M=0)),w=x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix3d(":"matrix3d(",w+=(v>t&&t>-v?S:t)+E+(v>i&&i>-v?S:i)+E+(v>u&&u>-v?S:u),w+=E+(v>l&&l>-v?S:l)+E+(v>n&&n>-v?S:n)+E+(v>s&&s>-v?S:s),x.rotationX||x.rotationY?(w+=E+(v>a&&a>-v?S:a)+E+(v>c&&c>-v?S:c)+E+(v>r&&r>-v?S:r),w+=E+(v>o&&o>-v?S:o)+E+(v>f&&f>-v?S:f)+E+(v>h&&h>-v?S:h)+E):w+=",0,0,0,0,1,0,",w+=A+E+O+E+M+E+(_?1+ -M/_:1)+")",T[xt]=w},Bt=R.set2DTransformRatio=function(e){var t,n,r,i,s,o,u,a,f,l,c,h=this.data,p=this.t,d=p.style,v=h.x,m=h.y;return!(h.rotationX||h.rotationY||h.z||h.force3D===!0||"auto"===h.force3D&&1!==e&&0!==e)||h.svg&&Et||!Ct?(i=h.scaleX,s=h.scaleY,h.rotation||h.skewX||h.svg?(t=h.rotation*P,n=t-h.skewX*P,r=1e5,o=Math.cos(t)*i,u=Math.sin(t)*i,a=Math.sin(n)*-s,f=Math.cos(n)*s,h.svg&&(v+=h.xOrigin-(h.xOrigin*o+h.yOrigin*a),m+=h.yOrigin-(h.xOrigin*u+h.yOrigin*f),c=1e-6,c>v&&v>-c&&(v=0),c>m&&m>-c&&(m=0)),l=(0|o*r)/r+","+(0|u*r)/r+","+(0|a*r)/r+","+(0|f*r)/r+","+v+","+m+")",h.svg&&Et?p.setAttribute("transform","matrix("+l):d[xt]=(h.xPercent||h.yPercent?"translate("+h.xPercent+"%,"+h.yPercent+"%) matrix(":"matrix(")+l):d[xt]=(h.xPercent||h.yPercent?"translate("+h.xPercent+"%,"+h.yPercent+"%) matrix(":"matrix(")+i+",0,0,"+s+","+v+","+m+")",void 0):(this.setRatio=Ht,Ht.call(this,e),void 0)};l=kt.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=0,l.scaleX=l.scaleY=l.scaleZ=1,bt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(e,t,n,r,i,o,a){if(r._lastParsedTransform===a)return i;r._lastParsedTransform=a;var f,l,c,h,p,d,v,m=r._transform=Dt(e,s,!0,a.parseTransform),g=e.style,y=1e-6,b=St.length,w=a,E={};if("string"==typeof w.transform&&xt)c=I.style,c[xt]=w.transform,c.display="block",c.position="absolute",j.body.appendChild(I),f=Dt(I,null,!1),j.body.removeChild(I);else if("object"==typeof w){if(f={scaleX:ot(null!=w.scaleX?w.scaleX:w.scale,m.scaleX),scaleY:ot(null!=w.scaleY?w.scaleY:w.scale,m.scaleY),scaleZ:ot(w.scaleZ,m.scaleZ),x:ot(w.x,m.x),y:ot(w.y,m.y),z:ot(w.z,m.z),xPercent:ot(w.xPercent,m.xPercent),yPercent:ot(w.yPercent,m.yPercent),perspective:ot(w.transformPerspective,m.perspective)},v=w.directionalRotation,null!=v)if("object"==typeof v)for(c in v)w[c]=v[c];else w.rotation=v;"string"==typeof w.x&&-1!==w.x.indexOf("%")&&(f.x=0,f.xPercent=ot(w.x,m.xPercent)),"string"==typeof w.y&&-1!==w.y.indexOf("%")&&(f.y=0,f.yPercent=ot(w.y,m.yPercent)),f.rotation=ut("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:m.rotation,m.rotation,"rotation",E),Ct&&(f.rotationX=ut("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",E),f.rotationY=ut("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",E)),f.skewX=null==w.skewX?m.skewX:ut(w.skewX,m.skewX),f.skewY=null==w.skewY?m.skewY:ut(w.skewY,m.skewY),(l=f.skewY-m.skewY)&&(f.skewX+=l,f.rotation+=l)}for(Ct&&null!=w.force3D&&(m.force3D=w.force3D,d=!0),m.skewType=w.skewType||m.skewType||u.defaultSkewType,p=m.force3D||m.z||m.rotationX||m.rotationY||f.z||f.rotationX||f.rotationY||f.perspective,p||null==w.scale||(f.scaleZ=1);--b>-1;)n=St[b],h=f[n]-m[n],(h>y||-y>h||null!=w[n]||null!=B[n])&&(d=!0,i=new vt(m,n,m[n],h,i),n in E&&(i.e=E[n]),i.xs0=0,i.plugin=o,r._overwriteProps.push(i.n));return h=w.transformOrigin,h&&m.svg&&(_t(e,it(h),f),i=new vt(m,"xOrigin",m.xOrigin,f.xOrigin-m.xOrigin,i,-1,"transformOrigin"),i.b=m.xOrigin,i.e=i.xs0=f.xOrigin,i=new vt(m,"yOrigin",m.yOrigin,f.yOrigin-m.yOrigin,i,-1,"transformOrigin"),i.b=m.yOrigin,i.e=i.xs0=f.yOrigin,h="0px 0px"),(h||Ct&&p&&m.zOrigin)&&(xt?(d=!0,n=Nt,h=(h||Q(e,n,s,!1,"50% 50%"))+"",i=new vt(g,n,0,0,i,-1,"transformOrigin"),i.b=g[n],i.plugin=o,Ct?(c=m.zOrigin,h=h.split(" "),m.zOrigin=(h.length>2&&(0===c||"0px"!==h[2])?parseFloat(h[2]):c)||0,i.xs0=i.e=h[0]+" "+(h[1]||"50%")+" 0px",i=new vt(m,"zOrigin",0,0,i,-1,i.n),i.b=c,i.xs0=i.e=m.zOrigin):i.xs0=i.e=h):it(h+"",m)),d&&(r._transformType=m.svg&&Et||!p&&3!==this._transformType?2:3),i},prefix:!0}),bt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),bt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,o){t=this.format(t);var u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),u=t.split(" "),a=0;x.length>a;a++)this.p.indexOf("border")&&(x[a]=J(x[a])),c=l=Q(e,x[a],s,!1,"0px"),-1!==c.indexOf(" ")&&(l=c.split(" "),c=l[0],l=l[1]),h=f=u[a],p=parseFloat(c),y=c.substr((p+"").length),b="="===h.charAt(1),b?(d=parseInt(h.charAt(0)+"1",10),h=h.substr(2),d*=parseFloat(h),g=h.substr((d+"").length-(0>d?1:0))||""):(d=parseFloat(h),g=h.substr((d+"").length)),""===g&&(g=i[n]||y),g!==y&&(w=G(e,"borderLeft",p,y),E=G(e,"borderTop",p,y),"%"===g?(c=100*(w/v)+"%",l=100*(E/m)+"%"):"em"===g?(S=G(e,"borderLeft",1,"em"),c=w/S+"em",l=E/S+"em"):(c=w+"px",l=E+"px"),b&&(h=parseFloat(c)+d+g,f=parseFloat(l)+d+g)),o=mt(T,x[a],c+" "+l,h+" "+f,!1,"0px",o);return o},prefix:!0,formatter:ht("0px 0px 0px 0px",!1,!0)}),bt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,i,o){var u,a,f,l,c,h,p="background-position",d=s||K(e,null),v=this.format((d?m?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),g=this.format(t);if(-1!==v.indexOf("%")!=(-1!==g.indexOf("%"))&&(h=Q(e,"backgroundImage").replace(L,""),h&&"none"!==h)){for(u=v.split(" "),a=g.split(" "),q.setAttribute("src",h),f=2;--f>-1;)v=u[f],l=-1!==v.indexOf("%"),l!==(-1!==a[f].indexOf("%"))&&(c=0===f?e.offsetWidth-q.width:e.offsetHeight-q.height,u[f]=l?parseFloat(v)/100*c+"px":100*(parseFloat(v)/c)+"%");v=u.join(" ")}return this.parseComplex(e.style,v,g,i,o)},formatter:it}),bt("backgroundSize",{defaultValue:"0 0",formatter:it}),bt("perspective",{defaultValue:"0px",prefix:!0}),bt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),bt("transformStyle",{prefix:!0}),bt("backfaceVisibility",{prefix:!0}),bt("userSelect",{prefix:!0}),bt("margin",{parser:pt("marginTop,marginRight,marginBottom,marginLeft")}),bt("padding",{parser:pt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),bt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,i,o){var u,a,f;return 9>m?(a=e.currentStyle,f=8>m?" ":",",u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")",t=this.format(t).split(",").join(f)):(u=this.format(Q(e,this.p,s,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,u,t,i,o)}}),bt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),bt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),bt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,i,o){return this.parseComplex(e.style,this.format(Q(e,"borderTopWidth",s,!1,"0px")+" "+Q(e,"borderTopStyle",s,!1,"solid")+" "+Q(e,"borderTopColor",s,!1,"#000")),this.format(t),i,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ct)||["#000"])[0]}}),bt("borderWidth",{parser:pt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),bt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new vt(s,o,0,0,i,-1,n,!1,0,s[o],t)}});var jt=function(e){var t,n=this.t,r=n.filter||Q(this.data,"filter")||"",i=0|this.s+this.c*e;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!Q(this.data,"filter")):(n.filter=r.replace(T,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(S,"opacity="+i))};bt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,i,o){var u=parseFloat(Q(e,"opacity",s,!1,"1")),a=e.style,f="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+u),f&&1===u&&"hidden"===Q(e,"visibility",s)&&0!==t&&(u=0),z?i=new vt(a,"opacity",u,t-u,i):(i=new vt(a,"opacity",100*u,100*(t-u),i),i.xn1=f?1:0,a.zoom=1,i.type=2,i.b="alpha(opacity="+i.s+")",i.e="alpha(opacity="+(i.s+i.c)+")",i.data=e,i.plugin=o,i.setRatio=jt),f&&(i=new vt(a,"visibility",0,0,i,-1,null,!1,0,0!==u?"inherit":"hidden",0===t?"hidden":"inherit"),i.xs0="inherit",r._overwriteProps.push(i.n),r._overwriteProps.push(n)),i}});var Ft=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(C,"-$1").toLowerCase())):e.removeAttribute(t))},It=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Ft(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};bt("className",{parser:function(e,t,n,i,o,u,a){var f,l,c,h,p,d=e.getAttribute("class")||"",v=e.style.cssText;if(o=i._classNamePT=new vt(e,n,0,0,o,2),o.setRatio=It,o.pr=-11,r=!0,o.b=d,l=Z(e,s),c=e._gsClassPT){for(h={},p=c.data;p;)h[p.p]=1,p=p._next;c.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:d.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),i._tween._duration&&(e.setAttribute("class",o.e),f=et(e,l,Z(e),a,h),e.setAttribute("class",d),o.data=f.firstMPT,e.style.cssText=v,o=o.xfirst=i.parse(e,f.difs,o,u)),o}});var qt=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,i,s=this.t.style,o=f.transform.parse;if("all"===this.e)s.cssText="",i=!0;else for(t=this.e.split(" ").join("").split(","),r=t.length;--r>-1;)n=t[r],f[n]&&(f[n].parse===o?i=!0:n="transformOrigin"===n?Nt:f[n].p),Ft(s,n);i&&(Ft(s,xt),this.t._gsTransform&&delete this.t._gsTransform)}};for(bt("clearProps",{parser:function(e,t,n,i,s){return s=new vt(e,n,0,0,s,2),s.setRatio=qt,s.e=t,s.pr=-10,s.data=i._tween,r=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),gt=l.length;gt--;)wt(l[gt]);l=u.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(e,t,n){if(!e.nodeType)return!1;this._target=e,this._tween=n,this._vars=t,c=t.autoRound,r=!1,i=t.suffixMap||u.suffixMap,s=K(e,""),o=this._overwriteProps;var a,f,l,d,m,g,y,b,w,E=e.style;if(h&&""===E.zIndex&&(a=Q(e,"zIndex",s),("auto"===a||""===a)&&this._addLazySet(E,"zIndex",0)),"string"==typeof t&&(d=E.cssText,a=Z(e,s),E.cssText=d+";"+t,a=et(e,a,Z(e)).difs,!z&&x.test(t)&&(a.opacity=parseFloat(RegExp.$1)),t=a,E.cssText=d),this._firstPT=f=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,xt?p&&(h=!0,""===E.zIndex&&(y=Q(e,"zIndex",s),("auto"===y||""===y)&&this._addLazySet(E,"zIndex",0)),v&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):E.zoom=1,l=f;l&&l._next;)l=l._next;b=new vt(e,"transform",0,0,null,2),this._linkCSSP(b,null,l),b.setRatio=w&&Ct?Ht:xt?Bt:Pt,b.data=this._transform||Dt(e,s,!0),o.pop()}if(r){for(;f;){for(g=f._next,l=d;l&&l.pr>f.pr;)l=l._next;(f._prev=l?l._prev:m)?f._prev._next=f:d=f,(f._next=l)?l._prev=f:m=f,f=g}this._firstPT=d}return!0},l.parse=function(e,t,n,r){var o,u,a,l,h,p,d,v,m,g,y=e.style;for(o in t)p=t[o],u=f[o],u?n=u.parse(e,p,o,this,n,r,t):(h=Q(e,o,s)+"",m="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&N.test(p)?(m||(p=lt(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=mt(y,o,h,p,!0,"transparent",n,0,r)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(a=parseFloat(h),d=a||0===a?h.substr((a+"").length):"",(""===h||"auto"===h)&&("width"===o||"height"===o?(a=rt(e,o,s),d="px"):"left"===o||"top"===o?(a=Y(e,o,s),d="px"):(a="opacity"!==o?0:1,d="")),g=m&&"="===p.charAt(1),g?(l=parseInt(p.charAt(0)+"1",10),p=p.substr(2),l*=parseFloat(p),v=p.replace(E,"")):(l=parseFloat(p),v=m?p.replace(E,""):""),""===v&&(v=o in i?i[o]:d),p=l||0===l?(g?l+a:l)+v:t[o],d!==v&&""!==v&&(l||0===l)&&a&&(a=G(e,o,a,d),"%"===v?(a/=G(e,o,100,"%")/100,t.strictUnits!==!0&&(h=a+"%")):"em"===v?a/=G(e,o,1,"em"):"px"!==v&&(l=G(e,o,l,v),v="px"),g&&(l||0===l)&&(p=l+a+v)),g&&(l+=a),!a&&0!==a||!l&&0!==l?void 0!==y[o]&&(p||"NaN"!=p+""&&null!=p)?(n=new vt(y,o,l||a||0,0,n,-1,o,!1,0,h,p),n.xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:h):X("invalid "+o+" tween value: "+t[o]):(n=new vt(y,o,a,l-a,n,0,o,c!==!1&&("px"===v||"zIndex"===o),0,h,p),n.xs0=v)):n=mt(y,o,h,p,!0,null,n,0,r)),r&&n&&!n.plugin&&(n.plugin=r);return n},l.setRatio=function(e){var t,n,r,i=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-0.000001)for(;i;){if(t=i.c*e+i.s,i.r?t=Math.round(t):s>t&&t>-s&&(t=0),i.type)if(1===i.type)if(r=i.l,2===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;)2!==i.type?i.t[i.p]=i.e:i.setRatio(e),i=i._next},l._enableTransforms=function(e){this._transform=this._transform||Dt(this._target,s,!0),this._transformType=this._transform.svg&&Et||!e&&3!==this._transformType?2:3};var Rt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(e,t,n){var r=this._firstPT=new vt(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Rt,r.data=this},l._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},l._kill=function(t){var n,r,i,s=t;if(t.autoAlpha||t.alpha){s={};for(r in t)s[r]=t[r];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(n=this._classNamePT)&&(i=n.xfirst,i&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),e.prototype._kill.call(this,s)};var Ut=function(e,t,n){var r,i,s,o;if(e.slice)for(i=e.length;--i>-1;)Ut(e[i],t,n);else for(r=e.childNodes,i=r.length;--i>-1;)s=r[i],o=s.type,s.style&&(t.push(Z(s)),n&&n.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Ut(s,t,n)};return u.cascadeTo=function(e,t,r){var i,s,o,u=n.to(e,t,r),a=[u],f=[],l=[],c=[],h=n._internals.reservedProps;for(e=u._targets||u.target,Ut(e,f,c),u.render(t,!0),Ut(e,l),u.render(0,!0),u._enabled(!0),i=c.length;--i>-1;)if(s=et(c[i],f[i],l[i]),s.firstMPT){s=s.difs;for(o in r)h[o]&&(s[o]=r[o]);a.push(n.to(c[i],t,s))}return a},e.activate([u]),u},!0),function(){var e=t._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),n=e.prototype;n._onInitAllProps=function(){for(var e,t,n,r=this._tween,i=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),s=i.length,o={},u=r._propLookup.roundProps;--s>-1;)o[i[s]]=1;for(s=i.length;--s>-1;)for(e=i[s],t=r._firstPT;t;)n=t._next,t.pg?t.t._roundProps(o,!0):t.n===e&&(this._add(t.t,e,t.s,t.c),n&&(n._prev=t._prev),t._prev?t._prev._next=n:r._firstPT===t&&(r._firstPT=n),t._next=t._prev=null,r._propLookup[e]=u),t=n;return!1},n._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)}}(),t._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(e,t){var n,r,i;if("function"!=typeof e.setAttribute)return!1;this._target=e,this._proxy={},this._start={},this._end={};for(n in t)this._start[n]=this._proxy[n]=r=e.getAttribute(n),i=this._addTween(this._proxy,n,parseFloat(r),t[n],n),this._end[n]=i?i.s+i.c:t[n],this._overwriteProps.push(n);return!0},set:function(e){this._super.setRatio.call(this,e);for(var t,n=this._overwriteProps,r=n.length,i=1===e?this._end:e?this._proxy:this._start;--r>-1;)t=n[r],this._target.setAttribute(t,i[t]+"")}}),t._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var n,r,i,s,o,u,a=t.useRadians===!0?2*Math.PI:360,f=1e-6;for(n in t)"useRadians"!==n&&(u=(t[n]+"").split("_"),r=u[0],i=parseFloat("function"!=typeof e[n]?e[n]:e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]()),s=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?i+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,o=s-i,u.length&&(r=u.join("_"),-1!==r.indexOf("short")&&(o%=a,o!==o%(a/2)&&(o=0>o?o+a:o-a)),-1!==r.indexOf("_cw")&&0>o?o=(o+9999999999*a)%a-(0|o/a)*a:-1!==r.indexOf("ccw")&&o>0&&(o=(o-9999999999*a)%a-(0|o/a)*a)),(o>f||-f>o)&&(this._addTween(e,n,i,i+o,n),this._overwriteProps.push(n)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,t._gsDefine("easing.Back",["easing.Ease"],function(e){var n,r,i,s=t.GreenSockGlobals||t,o=s.com.greensock,u=2*Math.PI,a=Math.PI/2,f=o._class,l=function(t,n){var r=f("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},c=e.register||function(){},h=function(e,t,n,r){var i=f("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return c(i,e),i},p=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},d=function(t,n){var r=f("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},v=h("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=f("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,n){return new m(e,t,n)},n=f("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=n.prototype=new e,g.constructor=n,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=n.config=function(e){return new n(e)},r=f("easing.RoughEase",function(t){t=t||{};for(var n,r,i,s,o,u,a=t.taper||"none",f=[],l=0,c=0|(t.points||20),h=c,d=t.randomize!==!1,v=t.clamp===!0,m=t.template instanceof e?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--h>-1;)n=d?Math.random():1/c*h,r=m?m.getRatio(n):n,"none"===a?i=g:"out"===a?(s=1-n,i=s*s*g):"in"===a?i=n*n*g:.5>n?(s=2*n,i=.5*s*s*g):(s=2*(1-n),i=.5*s*s*g),d?r+=Math.random()*i-.5*i:h%2?r+=.5*i:r-=.5*i,v&&(r>1?r=1:0>r&&(r=0)),f[l++]={x:n,y:r};for(f.sort(function(e,t){return e.x-t.x}),u=new p(1,1,null),h=c;--h>-1;)o=f[h],u=new p(o.x,o.y,u);this._prev=new p(0,0,0!==u.t?u:u.next)},!0),g=r.prototype=new e,g.constructor=r,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new r(e)},r.ease=new r,h("Bounce",l("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),l("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),l("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",l("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),l("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),l("CircInOut",function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),i=function(t,n,r){var i=f("easing."+t,function(e,t){this._p1=e||1,this._p2=t||r,this._p3=this._p2/u*(Math.asin(1/this._p1)||0)},!0),s=i.prototype=new e;return s.constructor=i,s.getRatio=n,s.config=function(e,t){return new i(e,t)},i},h("Elastic",i("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*u/this._p2)+1},.3),i("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*u/this._p2))},.3),i("ElasticInOut",function(e){return 1>(e*=2)?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*u/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*u/this._p2)+1},.45)),h("Expo",l("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),l("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),l("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",l("SineOut",function(e){return Math.sin(e*a)}),l("SineIn",function(e){return-Math.cos(e*a)+1}),l("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)})),f("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(s.SlowMo,"SlowMo","ease,"),c(r,"RoughEase","ease,"),c(n,"SteppedEase","ease,"),v},!0)}),t._gsDefine&&t._gsQueue.pop()(),function(e,t){"use strict";var n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!n.TweenLite){var r,i,s,o,u,a=function(e){var t,r=e.split("."),i=n;for(t=0;r.length>t;t++)i[r[t]]=i=i[r[t]]||{};return i},f=a("com.greensock"),l=1e-10,c=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},h=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),d={},v=function(r,i,s,o){this.sc=d[r]?d[r].sc:[],d[r]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(f){for(var l,c,h,p,m=i.length,g=m;--m>-1;)(l=d[i[m]]||new v(i[m],[])).gsClass?(u[m]=l.gsClass,g--):f&&l.sc.push(this);if(0===g&&s)for(c=("com.greensock."+r).split("."),h=c.pop(),p=a(c.join("."))[h]=this.gsClass=s.apply(s,u),o&&(n[h]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return p}):r===t&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},m=e._gsDefine=function(e,t,n,r){return new v(e,t,n,r)},g=f._class=function(e,t,n){return t=t||function(){},m(e,[],function(){return t},n),t};m.globals=n;var y=[0,0,1,1],b=[],w=g("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?y.concat(t):y},!0),E=w.map={},S=w.register=function(e,t,n,r){for(var i,s,o,u,a=t.split(","),l=a.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=a[l],i=r?g("easing."+s,null,!0):f.easing[s]||{},o=c.length;--o>-1;)u=c[o],E[s+"."+u]=E[u+s]=i[u]=e.getRatio?e:e[u]||new e};for(s=w.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=r.length;--i>-1;)s=r[i]+",Power"+i,S(new w(null,null,1,i),s,"easeOut",!0),S(new w(null,null,2,i),s,"easeIn"+(0===i?",easeNone":"")),S(new w(null,null,3,i),s,"easeInOut");E.linear=f.easing.Linear.easeIn,E.swing=f.easing.Quad.easeInOut;var x=g("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});s=x.prototype,s.addEventListener=function(e,t,n,r,i){i=i||0;var s,a,f=this._listeners[e],l=0;for(null==f&&(this._listeners[e]=f=[]),a=f.length;--a>-1;)s=f[a],s.c===t&&s.s===n?f.splice(a,1):0===l&&i>s.pr&&(l=a+1);f.splice(l,0,{c:t,s:n,up:r,pr:i}),this!==o||u||o.wake()},s.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return r.splice(n,1),void 0},s.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(t=i.length,n=this._eventTarget;--t>-1;)r=i[t],r&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var T=e.requestAnimationFrame,N=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},k=C();for(r=["ms","moz","webkit","o"],i=r.length;--i>-1&&!T;)T=e[r[i]+"RequestAnimationFrame"],N=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];g("Ticker",function(e,t){var n,r,i,s,a,f=this,c=C(),p=t!==!1&&T,d=500,v=33,m="tick",g=function(e){var t,o,u=C()-k;u>d&&(c+=u-v),k+=u,f.time=(k-c)/1e3,t=f.time-a,(!n||t>0||e===!0)&&(f.frame++,a+=t+(t>=s?.004:s-t),o=!0),e!==!0&&(i=r(g)),o&&f.dispatchEvent(m)};x.call(f),f.time=f.frame=0,f.tick=function(){g(!0)},f.lagSmoothing=function(e,t){d=e||1/l,v=Math.min(t,d,0)},f.sleep=function(){null!=i&&(p&&N?N(i):clearTimeout(i),r=h,i=null,f===o&&(u=!1))},f.wake=function(){null!==i?f.sleep():f.frame>10&&(k=C()-d+5),r=0===n?h:p&&T?T:function(e){return setTimeout(e,0|1e3*(a-f.time)+1)},f===o&&(u=!0),g(2)},f.fps=function(e){return arguments.length?(n=e,s=1/(n||60),a=this.time+s,f.wake(),void 0):n},f.useRAF=function(e){return arguments.length?(f.sleep(),p=e,f.fps(n),void 0):p},f.fps(e),setTimeout(function(){p&&(!i||5>f.frame)&&f.useRAF(!1)},1500)}),s=f.Ticker.prototype=new f.events.EventDispatcher,s.constructor=f.Ticker;var L=g("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,z){u||o.wake();var n=this.vars.useFrames?U:z;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});o=L.ticker=new f.Ticker,s=L.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var A=function(){u&&C()-k>2e3&&o.wake(),setTimeout(A,2e3)};A(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=n&&n+this.totalDuration()/this._timeScale>e},s._enabled=function(e,t){return u||o.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},s.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=p(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,n){if(u||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),P.length&&W())}return this},s.progress=s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||l,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){u||e||o.wake();var t=this._timeline,n=t.rawTime(),r=n-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=e?n:null,this._paused=e,this._active=this.isActive(),!e&&0!==r&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(n-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var O=g("core.SimpleTimeline",function(e){L.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});s=O.prototype=new L,s.constructor=O,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t){var n,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),n=this._last,this._sortChildren)for(r=e._startTime;n&&n._startTime>r;)n=n._prev;return n?(e._next=n._next,n._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=n,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},s.rawTime=function(){return u||o.wake(),this._totalTime};var M=g("TweenLite",function(t,n,r){if(L.call(this,n,r),this.render=M.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:M.selector(t)||t;var i,s,o,u=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?R[M.defaultOverwrite]:"number"==typeof a?a>>0:R[a],(u||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=o=c(t),this._propLookup=[],this._siblings=[],i=0;o.length>i;i++)s=o[i],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(i--,1),this._targets=o=o.concat(c(s))):(this._siblings[i]=X(s,this,!1),1===a&&this._siblings[i].length>1&&$(s,this,null,1,this._siblings[i])):(s=o[i--]=M.selector(s),"string"==typeof s&&o.splice(i+1,1)):o.splice(i--,1);else this._propLookup={},this._siblings=X(t,this,!1),1===a&&this._siblings.length>1&&$(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-l,this.render(-this._delay))},!0),_=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var n,r={};for(n in e)q[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!j[n]||j[n]&&j[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r};s=M.prototype=new L,s.constructor=M,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,M.version="1.15.1",M.defaultEase=s._ease=new w(null,null,1,1),M.defaultOverwrite="auto",M.ticker=o,M.autoSleep=!0,M.lagSmoothing=function(e,t){o.lagSmoothing(e,t)},M.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(M.selector=n,n(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var P=[],H={},B=M._internals={isArray:p,isSelector:_,lazyTweens:P},j=M._plugins={},F=B.tweenLookup={},I=0,q=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},R={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},U=L._rootFramesTimeline=new O,z=L._rootTimeline=new O,W=B.lazyRender=function(){var e,t=P.length;for(H={};--t>-1;)e=P[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);P.length=0};z._startTime=o.time,U._startTime=o.frame,z._active=U._active=!0,setTimeout(W,1),L._updateRoot=M.render=function(){var e,t,n;if(P.length&&W(),z.render((o.time-z._startTime)*z._timeScale,!1,!1),U.render((o.frame-U._startTime)*U._timeScale,!1,!1),P.length&&W(),!(o.frame%120)){for(n in F){for(t=F[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete F[n]}if(n=z._first,(!n||n._paused)&&M.autoSleep&&!U._first&&1===o._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||o.sleep()}}},o.addEventListener("tick",L._updateRoot);var X=function(e,t,n){var r,i,s=e._gsTweenID;if(F[s||(e._gsTweenID=s="t"+I++)]||(F[s]={target:e,tweens:[]}),t&&(r=F[s].tweens,r[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return F[s].tweens},V=function(e,t,n,r){var i,s,o=e.vars.onOverwrite;return o&&(i=o(e,t,n,r)),o=M.onOverwrite,o&&(s=o(e,t,n,r)),i!==!1&&s!==!1},$=function(e,t,n,r,i){var s,o,u,a;if(1===r||r>=4){for(a=i.length,s=0;a>s;s++)if((u=i[s])!==t)u._gc||V(u,t)&&u._enabled(!1,!1)&&(o=!0);else if(5===r)break;return o}var f,c=t._startTime+l,h=[],p=0,d=0===t._duration;for(s=i.length;--s>-1;)(u=i[s])===t||u._gc||u._paused||(u._timeline!==t._timeline?(f=f||J(t,0,d),0===J(u,f,d)&&(h[p++]=u)):c>=u._startTime&&u._startTime+u.totalDuration()/u._timeScale>c&&((d||!u._initted)&&2e-10>=c-u._startTime||(h[p++]=u)));for(s=p;--s>-1;)if(u=h[s],2===r&&u._kill(n,e,t)&&(o=!0),2!==r||!u._firstPT&&u._initted){if(2!==r&&!V(u,t))continue;u._enabled(!1,!1)&&(o=!0)}return o},J=function(e,t,n){for(var r=e._timeline,i=r._timeScale,s=e._startTime;r._timeline;){if(s+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return s/=i,s>t?s-t:n&&s===t||!e._initted&&2*l>s-t?l:(s+=e.totalDuration()/e._timeScale/i)>t+l?0:s-t-l};s._init=function(){var e,t,n,r,i,s=this.vars,o=this._overwrittenProps,u=this._duration,a=!!s.immediateRender,f=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in s.startAt)i[r]=s.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=a&&s.lazy!==!1,i.startAt=i.delay=null,this._startAt=M.to(this.target,0,i),a)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(s.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(a=!1),n={};for(r in s)q[r]&&"autoCSS"!==r||(n[r]=s[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=a&&s.lazy!==!1,n.immediateRender=a,this._startAt=M.to(this.target,0,n),a){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=f=f?f instanceof w?f:"function"==typeof f?new w(f,s.easeParams):E[f]||M.defaultEase:M.defaultEase,s.easeParams instanceof Array&&f.config&&(this._ease=f.config.apply(f,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],o?o[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,o);if(t&&M._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(t,n,r,i){var s,o,u,a,f,l;if(null==t)return!1;H[t._gsTweenID]&&W(),this.vars.css||t.style&&t!==e&&t.nodeType&&j.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(s in this.vars){if(l=this.vars[s],q[s])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[s]=l=this._swapSelfInParams(l,this));else if(j[s]&&(a=new j[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=f={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:a._priority},o=a._overwriteProps.length;--o>-1;)n[a._overwriteProps[o]]=this._firstPT;(a._priority||a._onInitAllProps)&&(u=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=n[s]=f={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},f.s=f.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),f.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-f.s||0;f&&f._next&&(f._next._prev=f)}return i&&this._kill(i,t)?this._initProps(t,n,r,i):this._overwrite>1&&this._firstPT&&r.length>1&&$(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,i)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(H[t._gsTweenID]=!0),u)},s.render=function(e,t,n){var r,i,s,o,u=this._time,a=this._duration,f=this._rawPrevTime;if(e>=a)this._totalTime=this._time=a,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete"),0===a&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>f||f===l&&"isPause"!==this.data)&&f!==e&&(n=!0,f>l&&(i="onReverseComplete")),this._rawPrevTime=o=!t||e||f===e?e:l);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==u||0===a&&f>0&&f!==l)&&(i="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===a&&(this._initted||!this.vars.lazy||n)&&(f>=0&&(f!==l||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=o=!t||e||f===e?e:l)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/a,h=this._easeType,p=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:.5>e/a?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/a);if(this._time!==u||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=u,this._rawPrevTime=f,P.push(this),this._lazy=[e,t],void 0;this._time&&!r?this.ratio=this._ease.getRatio(this._time/a):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==u&&e>=0&&(this._active=!0),0===u&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===a)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&e!==-0.0001&&this._startAt.render(e,t,n),t||(this._time!==u||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),i&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-0.0001&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||b),0===a&&this._rawPrevTime===l&&o!==l&&(this._rawPrevTime=0))}},s._kill=function(e,t,n){if("all"===e&&(e=null),null!=e||null!=t&&t!==this.target){t="string"!=typeof t?t||this._targets||this.target:M.selector(t)||t;var r,i,s,o,u,a,f,l,c;if((p(t)||_(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r])&&(a=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){u=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;u=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(u){if(f=e||u,l=e!==i&&"all"!==i&&e!==u&&("object"!=typeof e||!e._tempKill),n&&(M.onOverwrite||this.vars.onOverwrite)){for(s in f)u[s]&&(c||(c=[]),c.push(s));if(!V(this,n,t,c))return!1}for(s in f)(o=u[s])&&(o.pg&&o.t._kill(f)&&(a=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete u[s]),l&&(i[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a}return this._lazy=!1,this._enabled(!1,!1)},s.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-l,this.render(-this._delay)),this},s._enabled=function(e,t){if(u||o.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=X(r[n],this,!0);else this._siblings=X(this.target,this,!0)}return L.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?M._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},M.to=function(e,t,n){return new M(e,t,n)},M.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new M(e,t,n)},M.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new M(e,t,r)},M.delayedCall=function(e,t,n,r,i){return new M(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},M.set=function(e,t){return new M(e,0,t)},M.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:M.selector(e)||e;var n,r,i,s;if((p(e)||_(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(M.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(s=r[n],i=n;--i>-1;)s===r[i]&&r.splice(n,1)}else for(r=X(e).concat(),n=r.length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r},M.killTweensOf=M.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=M.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var K=g("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=K.prototype},!0);if(s=K.prototype,K.version="1.10.1",K.API=2,s._firstPT=null,s._addTween=function(e,t,n,r,i,s){var o,u;return null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=u={_next:this._firstPT,t:e,p:t,s:n,c:o,f:"function"==typeof e[t],n:i||t,r:s},u._next&&(u._next._prev=u),u):void 0},s.setRatio=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.c*e+n.s,n.r?t=Math.round(t):r>t&&t>-r&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next},s._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},s._roundProps=function(e,t){for(var n=this._firstPT;n;)(e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&(n.r=t),n=n._next},M._onPluginEvent=function(e,t){var n,r,i,s,o,u=t._firstPT;if("_onInitAllProps"===e){for(;u;){for(o=u._next,r=i;r&&r.pr>u.pr;)r=r._next;(u._prev=r?r._prev:s)?u._prev._next=u:i=u,(u._next=r)?r._prev=u:s=u,u=o}u=t._firstPT=i}for(;u;)u.pg&&"function"==typeof u.t[e]&&u.t[e]()&&(n=!0),u=u._next;return n},K.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===K.API&&(j[(new e[t])._propName]=e[t]);return!0},m.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=g("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){K.call(this,n,r),this._overwriteProps=i||[]},e.global===!0),u=o.prototype=new K(n);u.constructor=o,o.API=e.API;for(t in s)"function"==typeof e[t]&&(u[s[t]]=e[t]);return o.version=e.version,K.activate([o]),o},r=e._gsQueue){for(i=0;r.length>i;i++)r[i]();for(s in d)d[s].func||e.console.log("GSAP encountered missing dependency: com.greensock."+s)}u=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),window.TweenMax}),define("im",["jquery","underscore","backbone","jquery_xmpp","jquery_migrate","jqueryui","wijmo","tinysort","tinysort_open","contextmenu","linkify","wijdialog","jquery_autogrow","material","tweenmax"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){(function(e){var t=function(){var e=0,n="",r=8,i=function(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535},s=function(e,t){return e<<t|e>>>32-t},o=function(e){var t=[],n=(1<<r)-1;for(var i=0;i<e.length*r;i+=r)t[i>>5]|=(e.charCodeAt(i/r)&n)<<i%32;return t},u=function(e){var t="",n=(1<<r)-1;for(var i=0;i<e.length*32;i+=r)t+=String.fromCharCode(e[i>>5]>>>i%32&n);return t},a=function(t){var n=e?"0123456789ABCDEF":"0123456789abcdef",r="";for(var i=0;i<t.length*4;i++)r+=n.charAt(t[i>>2]>>i%4*8+4&15)+n.charAt(t[i>>2]>>i%4*8&15);return r},f=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i,s;for(var o=0;o<e.length*4;o+=3){i=(e[o>>2]>>8*(o%4)&255)<<16|(e[o+1>>2]>>8*((o+1)%4)&255)<<8|e[o+2>>2]>>8*((o+2)%4)&255;for(s=0;s<4;s++)o*8+s*6>e.length*32?r+=n:r+=t.charAt(i>>6*(3-s)&63)}return r},l=function(e,t,n,r,o,u){return i(s(i(i(t,e),i(r,u)),o),n)},c=function(e,t,n,r,i,s,o){return l(t&n|~t&r,e,t,i,s,o)},h=function(e,t,n,r,i,s,o){return l(t&r|n&~r,e,t,i,s,o)},p=function(e,t,n,r,i,s,o){return l(t^n^r,e,t,i,s,o)},d=function(e,t,n,r,i,s,o){return l(n^(t|~r),e,t,i,s,o)},v=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,s=-1732584194,o=271733878,u,a,f,l;for(var v=0;v<e.length;v+=16)u=n,a=r,f=s,l=o,n=c(n,r,s,o,e[v+0],7,-680876936),o=c(o,n,r,s,e[v+1],12,-389564586),s=c(s,o,n,r,e[v+2],17,606105819),r=c(r,s,o,n,e[v+3],22,-1044525330),n=c(n,r,s,o,e[v+4],7,-176418897),o=c(o,n,r,s,e[v+5],12,1200080426),s=c(s,o,n,r,e[v+6],17,-1473231341),r=c(r,s,o,n,e[v+7],22,-45705983),n=c(n,r,s,o,e[v+8],7,1770035416),o=c(o,n,r,s,e[v+9],12,-1958414417),s=c(s,o,n,r,e[v+10],17,-42063),r=c(r,s,o,n,e[v+11],22,-1990404162),n=c(n,r,s,o,e[v+12],7,1804603682),o=c(o,n,r,s,e[v+13],12,-40341101),s=c(s,o,n,r,e[v+14],17,-1502002290),r=c(r,s,o,n,e[v+15],22,1236535329),n=h(n,r,s,o,e[v+1],5,-165796510),o=h(o,n,r,s,e[v+6],9,-1069501632),s=h(s,o,n,r,e[v+11],14,643717713),r=h(r,s,o,n,e[v+0],20,-373897302),n=h(n,r,s,o,e[v+5],5,-701558691),o=h(o,n,r,s,e[v+10],9,38016083),s=h(s,o,n,r,e[v+15],14,-660478335),r=h(r,s,o,n,e[v+4],20,-405537848),n=h(n,r,s,o,e[v+9],5,568446438),o=h(o,n,r,s,e[v+14],9,-1019803690),s=h(s,o,n,r,e[v+3],14,-187363961),r=h(r,s,o,n,e[v+8],20,1163531501),n=h(n,r,s,o,e[v+13],5,-1444681467),o=h(o,n,r,s,e[v+2],9,-51403784),s=h(s,o,n,r,e[v+7],14,1735328473),r=h(r,s,o,n,e[v+12],20,-1926607734),n=p(n,r,s,o,e[v+5],4,-378558),o=p(o,n,r,s,e[v+8],11,-2022574463),s=p(s,o,n,r,e[v+11],16,1839030562),r=p(r,s,o,n,e[v+14],23,-35309556),n=p(n,r,s,o,e[v+1],4,-1530992060),o=p(o,n,r,s,e[v+4],11,1272893353),s=p(s,o,n,r,e[v+7],16,-155497632),r=p(r,s,o,n,e[v+10],23,-1094730640),n=p(n,r,s,o,e[v+13],4,681279174),o=p(o,n,r,s,e[v+0],11,-358537222),s=p(s,o,n,r,e[v+3],16,-722521979),r=p(r,s,o,n,e[v+6],23,76029189),n=p(n,r,s,o,e[v+9],4,-640364487),o=p(o,n,r,s,e[v+12],11,-421815835),s=p(s,o,n,r,e[v+15],16,530742520),r=p(r,s,o,n,e[v+2],23,-995338651),n=d(n,r,s,o,e[v+0],6,-198630844),o=d(o,n,r,s,e[v+7],10,1126891415),s=d(s,o,n,r,e[v+14],15,-1416354905),r=d(r,s,o,n,e[v+5],21,-57434055),n=d(n,r,s,o,e[v+12],6,1700485571),o=d(o,n,r,s,e[v+3],10,-1894986606),s=d(s,o,n,r,e[v+10],15,-1051523),r=d(r,s,o,n,e[v+1],21,-2054922799),n=d(n,r,s,o,e[v+8],6,1873313359),o=d(o,n,r,s,e[v+15],10,-30611744),s=d(s,o,n,r,e[v+6],15,-1560198380),r=d(r,s,o,n,e[v+13],21,1309151649),n=d(n,r,s,o,e[v+4],6,-145523070),o=d(o,n,r,s,e[v+11],10,-1120210379),s=d(s,o,n,r,e[v+2],15,718787259),r=d(r,s,o,n,e[v+9],21,-343485551),n=i(n,u),r=i(r,a),s=i(s,f),o=i(o,l);return[n,r,s,o]},m=function(e,t){var n=o(e);n.length>16&&(n=v(n,e.length*r));var i=new Array(16),s=new Array(16);for(var u=0;u<16;u++)i[u]=n[u]^909522486,s[u]=n[u]^1549556828;var a=v(i.concat(o(t)),512+t.length*r);return v(s.concat(a),640)},g={hexdigest:function(e){return a(v(o(e),e.length*r))},b64digest:function(e){return f(v(o(e),e.length*r))},hash:function(e){return u(v(o(e),e.length*r))},hmac_hexdigest:function(e,t){return a(m(e,t))},hmac_b64digest:function(e,t){return f(m(e,t))},hmac_hash:function(e,t){return u(m(e,t))},test:function(){return t.hexdigest("abc")==="900150983cd24fb0d6963f7d28e17f72"}};return g}(),n={pt_br:{ADD:"Adicionar",ADD_CONTACT:"Adicionar contato",AN_ERROR_HAS_OCURRED:"Ocorreu um erro",AUTHORIZE:"Autorizar",AWAY:"Ausente",BLOCK:"Bloquear",BUSY:"Ocupado",CANCEL:"Cancelar",CLICK_TO_START_A_CONVERSATION_WITH:"Clique para iniciar uma conversa com",CHANGE_YOUR_STATUS:"Mude seu status",CONTACT_LIST:"Lista de contatos",DELETE:"Excluir",DOUBLE_CLICK_TO_EDIT:"Duplo clique para editar",EDIT_CONTACT:"Editar Contato",EDIT:"Editar",ENTER_A_JID:"Digite um JID (Jabber ID)",ENTER_A_NAME:"Digite um nome",GONE:"saiu",IS_TYPING:"est&aacute digitando",JID:"JID",ME:"Eu",NAME:"Nome",NEW_MESSAGE:"Nova Mensagem",QUIT:"Sair",ONLINE:"Dispon&iacute;vel",OFFLINE:"Indispon&iacute;vel",SEEN:"Ativo",STOPPED_TYPING:"parou a digita&ccedil;&atilde;o",UPDATE:"Atualizar",WRITE_YOUR_MESSAGE_HERE:"Escreva sua mensagem aqui",YOUR_MESSAGE_TODAY:"Sua mensagem de hoje"}};e.fn.im=function(r){function g(){s.autoStatusMessenger&&clearTimeout(s.autoStatusMessenger);if(e.xmpp.getMyPresence()=="available"||e.xmpp.getMyPresence()=="null")e.xmpp.setPresence({show:"away"}),e("span.chat-status").removeClass(l).addClass(s.awayClass);s.autoStatusMessenger=setTimeout(function(){g()},s.autoStatusTime)}function y(t,r){s.debug&&H("Preparing");var i=e("<div/>").addClass("chat-title chat-me").appendTo(t),o=e("<div/>").css({"margin-top":"4px",position:"absolute","margin-left":"200px"}).appendTo(i);e("<span/>").addClass("chat-status").attr("title",n.pt_br.CHANGE_YOUR_STATUS).attr("alt",n.pt_br.CHANGE_YOUR_STATUS).addClass(s.loadClass).appendTo(o),s.addContact;var u="";e("<input/>").addClass("chat-description-input").attr({type:"text",value:n.pt_br.YOUR_MESSAGE_TODAY,readonly:"readonly",title:n.pt_br.DOUBLE_CLICK_TO_EDIT,alt:n.pt_br.DOUBLE_CLICK_TO_EDIT}).wijtextbox().dblclick(function(){e.xmpp.isConnected()&&(u=e(this).val(),e(this).removeAttr("readonly"))}).keydown(function(t){t.which==e.ui.keyCode.ENTER&&!t.shiftKey?(e.trim(e(this).val())!=""&&(e.xmpp.setPresence({status:e(this).val()}),u=e(this).val()),e(this).attr("readonly","readonly")):t.which==e.ui.keyCode.ESCAPE&&(e(this).val(u),e(this).attr("readonly","readonly"))}).focusout(function(){e(this).focus(),e(this).val(u),e(this).attr("readonly","readonly")}),e("<div/>").addClass("chat-list-title").html(n.pt_br.CONTACT_LIST).appendTo(t);var a=e("<input/>").addClass("chat-search-input").attr("placeholder","Type your search").keydown(function(t){t.which==e.ui.keyCode.ENTER&&!t.shiftKey&&e(this).parent().find("ul").toggle()});e("<div/>").addClass("chat-list").addClass(s.chatClass).append(s.loadArea).append().append("<ul/>").append("<ul class='chat-search-result' style='display:none;'/>").appendTo(t);var f="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='800' style='display: none;'><defs><filter id='goo'><feGaussianBlur in='SourceGraphic' stdDeviation='10' result='blur' /><feColorMatrix in='blur' mode='matrix' values='1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9' result='goo' /><feComposite in='SourceGraphic' in2='goo' /></filter></defs></svg>";t.prepend(f),p.upgradeDom(),s.minimizeZone||e("<div/>").addClass("footer-conversation-bar").attr("id","conversation-bar-container").appendTo("#messenger-conversation-bar-container"),s.debug&&H("Prepared")}function b(t,r,i){if(!e.xmpp.isConnected())return!1;var s;i?s=e(i).offset():s=e(this).offset();var o=e("<div/>").addClass("chat-add-contact");e("<span>").html(n.pt_br.NAME+": ").appendTo(o),e("<input type='text'>").attr({name:"name",placeholder:n.pt_br.ENTER_A_NAME}).appendTo(o).val(r?r.name:""),e("<br/>").appendTo(o),e("<span>").html(n.pt_br.JID+": ").appendTo(o);var u={name:"to",placeholder:n.pt_br.ENTER_A_JID};r&&(u.disabled="disabled"),e("<input type='text'>").attr(u).appendTo(o).val(r?r.jid:""),e(o).find("input").wijtextbox();var a=r;o.wijdialog({autoOpen:!0,title:r?n.pt_br.EDIT_CONTACT:n.pt_br.ADD_CONTACT,draggable:!0,dialogClass:"add-contact-dialog",captionButtons:{pin:{visible:!1},refresh:{visible:!1},toggle:{visible:!1},minimize:{visible:!1},maximize:{visible:!1}},resizable:!1,position:[s.left,s.top],buttons:[{text:r?n.pt_br.EDIT:n.pt_br.ADD,click:function(){if(!a){var t={};e.each(e(this).find("input"),function(n,r){t[e(r).attr("name")]=e(r).val()}),t.type="subscribe",e.xmpp.addContact(t),e.xmpp.subscription(t)}else a=e.extend({},a,{name:e(this).find("input:first").val()}),e.xmpp.updateContact(a);e(this).wijdialog("destroy")}},{text:n.pt_br.CANCEL,click:function(){e(this).wijdialog("destroy")}}],close:function(){e(this).wijdialog("destroy")}})}function w(t,n){var r="";if(n=="unavailable")r=n;else{if(t.subscription="none")r="subscribe";t.subscription=="from"&&(r="subscribe")}e.xmpp.subscription({to:t.jid,type:r})}function E(e){if(s.contactList.length)for(var t in s.contactList)S(t,e)}function S(r,i){s.debug&&H("Generating contact in the list");var o=t.hexdigest(r[s.contactNameIndex]),u=e("#"+o),a=s.offlineClass,f=r[s.contactNameIndex].split("@")[0];if(!u.length){var l=e("<li/>").attr("title",n.pt_br.CLICK_TO_START_A_CONVERSATION_WITH+" "+f).attr("id",o).addClass(s.contactClass);e("<div/>").addClass("chat-status").addClass(a).appendTo(l),e("<span/>").addClass("chat-contact-name").html(f).appendTo(l),l.click(function(){var t=o+"_chat",n=e("#"+t);n.length==0?(conversationDialog=D({title:f,from:r[s.contactNameIndex],id:t,md5_id:o}),conversationDialog.parent().find(".ui-dialog-titlebar").prepend(status.clone().removeClass("chatting"))):(n.wijdialog("restore"),n.wijdialog("show"))}),i.append(l)}s.debug&&H("Generated contact in the list")}function x(e){var t="<li class='chat-message chat-message-friend'><div class='chat-message-bubble'>"+e+"</div></li>";return t}function T(e){var t="<div id='chat-input-bar-"+e+"' class='chat-input-bar'><div id='chat-info-container-"+e+"' class='chat-info-container'></div><div id='chat-effect-container-"+e+"' class='chat-effect-container'><div id='chat-effect-bar-"+e+"' class='chat-effect-bar'></div></div><div id='chat-input-wrapper-"+e+"' class='chat-input-wrapper'><div id='chat-input-"+e+"' class='chat-input' contenteditable></div><button id='chat-send-"+e+"' class='chat-send'><i class='material-icons'>send</i></button></div></div>";return t}function N(t,n){var r="";n!=undefined&&(r=x(n));var i="<div id='chat-messages-"+t+"' class='chat-messages'><div class='chat-messages-list-margin'><ol id='chat-messages-list-"+t+"' class='chat-messages-list'>"+r+"</ol></div></div>"+T(t),s=document.getElementById("chat-window-"+t);return s==undefined||s==null?s=e("<div/>",{id:"chat-window-"+t}).addClass("chat-window").append(i):s=e("#chat-window-"+t),s}function C(t,n,r){var i=e("#chat-messages-list-"+t),s=e("#chat-messages-"+t),o=e("<li/>").addClass("chat-message "+(r?"chat-message-self":"chat-message-friend")).appendTo(i),u=e("<div/>").addClass("chat-message-bubble").appendTo(o);u.text(n);var a=s.scrollTop();s.scrollTop(9999999);var f=s.scrollTop(),l=f-a;return d.fromTo(i,.4,{y:l},{y:0,ease:Quint.easeOut}),{$container:o,$bubble:u}}function k(t,n){var r=e("#chat-messages-"+t),i=C(t,n,!1),s=i.$container,o=i.$bubble;d.set(o,{transformOrigin:"60px 50%"}),d.from(o,.4,{scale:0,force3D:!0,ease:Back.easeOut}),d.from(o,.4,{x:-100,force3D:!0,ease:Quint.easeOut})}function L(e){O("url(#goo)",e)}function A(e){O("none",e)}function O(t,n){e("#chat-effect-container-"+n).css({webkitFilter:t,mozFilter:t,filter:t})}function M(t,r){var i=e("#chat-input-"+t),s=i.text();s=B(s),e.xmpp.sendMessage({body:s,to:r.from,resource:"Chat",otherAttr:"value"},"<error>Ocorreu um erro</error>");var o=e("#chat-messages-list-"+t),u=e("#chat-messages-"+t),a=e("#chat-effect-container-"+t),f=e("#chat-send-"+t),l=100;if(s=="")return;lastMessage=s;var c=C(t,s,!0),h=c.$container,p=c.$bubble,v=e(".chat-input-bar").height();i.text(""),_(t);var m=e(".chat-input-bar").height(),g=m-v,y=e("<div/>").addClass("chat-message-effect").append(p.clone()).appendTo(a).css({left:i.position().left-12,top:i.position().top+l+g}),b=p.offset(),w=y.offset(),E={x:b.left-w.left,y:b.top-w.top},S=f.children("i");d.to(S,.15,{x:30,y:-30,force3D:!0,ease:Quad.easeOut,onComplete:function(){d.fromTo(S,.15,{x:-30,y:30},{x:0,y:0,force3D:!0,ease:Quad.easeOut})}}),L(),d.from(p,.8,{y:-E.y,ease:Sine.easeInOut,force3D:!0});var x=u.scrollTop(),T=0,N,k=function(e,t,n){return d.to(y,t,{y:e,ease:n,force3D:!0,onUpdate:function(){var e=u.scrollTop(),t=e-x;if(t>0){T+=t,x=e;var n=N.time();N.kill(),N=k(E.y-T,.8-n,Sine.easeOut)}}})};N=k(E.y,.8,Sine.easeInOut),d.from(p,.6,{delay:.2,x:-E.x,ease:Quad.easeInOut,force3D:!0}),d.to(y,.6,{delay:.2,x:E.x,ease:Quad.easeInOut,force3D:!0}),d.from(p,.2,{delay:.65,opacity:0,ease:Quad.easeInOut,onComplete:function(){d.killTweensOf(y),y.remove()}}),n++}function _(t){e("#chat-messages-"+t).css({height:280-e(".chat-input-bar").height()})}function D(t){if(e.fn.wijdialog){s.debug&&H("Generating Dialog to "+t.title);var n=t.md5_id,r=N(n,t.message);r.attr({title:t.title}),r.append('<audio controls id="new_message_sound" style="display:none;"><source src="/js/libs/messenger/'+s.soundName+'.mp3" type="audio/mpeg"/><source src="/js/libs/messenger/'+s.soundName+'.ogg" type="audio/ogg"/></audio>');var i=e(r).find(".chat-status"),o,u=!0;s.debug&&H("Generated Dialog to "+t.title);var a=r.wijdialog({autoOpen:!0,captionButtons:{pin:{visible:!1},refresh:{visible:!1},toggle:{visible:!1},minimize:{visible:!0},maximize:{visible:!1}},dialogClass:"chat-conversation-dialog",resizable:!1,minimizeZoneElementId:s.minimizeZone?s.minimizeZone:"conversation-bar-container",open:function(t){i.addClass("chatting"),e(this).parent().find(".ui-dialog-titlebar").off("click").on("click",function(){e(this).parent().find(".ui-dialog-titlebar").css({background:"rgb(68, 138, 255) none repeat scroll 0 0",border:"0px","box-shadow":"0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)"}),document.title=s.defaultTitle})},close:function(n){i.removeClass("chatting"),e.xmpp.isWriting({isWriting:"gone",to:t.from})},focus:function(n){document.title=s.defaultTitle,e(this).parent().find(".ui-dialog-titlebar").css({background:"rgb(68, 138, 255) none repeat scroll 0 0",border:"0px","box-shadow":"0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)"}),document.title=s.defaultTitle,clearTimeout(o),e.xmpp.isWriting({isWriting:"active",to:t.from})},blur:function(n){o=setTimeout(function(){e.xmpp.isWriting({isWriting:"inactive",to:t.from})},3e3)}}),f=13;e("#chat-input-"+n).keydown(function(r){if(r.keyCode==f){r.preventDefault(),u&&(e.xmpp.isWriting({isWriting:"composing",to:t.from}),u=!1),M(n,t),u=!0,clearTimeout(o);return}clearTimeout(o),o=setTimeout(function(){e("#chat-input-"+n).text()!=""?e.xmpp.isWriting({isWriting:"paused",to:t.from}):e.xmpp.isWriting({isWriting:"inactive",to:t.from}),u=!0},5e3)});var l=e("#chat-send-"+n);return l.click(function(e){e.preventDefault(),M(n,t)}),l.on("touchstart",function(e){e.preventDefault(),M(n,t)}),e("#chat-input-"+n).on("input",function(){_(n)}),a}s.debug&&H("wijmo not found")}function P(t,n){var r=n.find(".chat-status");l=s.onlineClass+" "+s.awayClass+" "+s.busyClass+" "+s.offlineClass,t.empty();var i=function(t){r.unbind("click",i).addClass("chat-status loading-chat"),t.preventDefault(),e.xmpp.connect(o)};r.removeClass(l).removeClass("chat-status loading-chat").addClass("retry").click(i),e(".chat-conversation-dialog textarea").attr("disabled","disabled"),e("#messenger").html("")}function H(e){window.console&&window.console.log&&window.console.log(e)}function B(e){var t=e;t=window.linkify(t,{callback:function(e,t){return t?'<a style="color:blue;" href="'+t+'" title="'+t+'" target="_blank">'+e+"</a>":e}});if(s.emotions)for(var n in s.emotions)t=t.replace(s.emotions[n].emotion,"<span class='emotion "+s.emotions[n].emotionClass+"'/>");return t}var i={contactClass:"chat-contact",onlineClass:"online",awayClass:"away",offlineClass:"offline",busyClass:"busy",overColor:"#DEE8F0",jid:"",password:"",url:"localhost",resource:"Chat",beforeConnect:undefined,afterConnect:undefined,errorFunction:undefined,chatClass:"chat-container",chatListClass:"chat-list",loadClass:"loading-chatss",loadArea:"<div id='chat-loading-area' class='expresso-loading-spacer'><div class='mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active'></div></div>",defaultStatus:null,debug:!1,contactList:[],contactNameIndex:"from",title:"## NOVA MENSAGEM ##",defaultTitle:document.title,afterMessage:undefined,afterIq:undefined,soundPath:"/js/libs/messenger/",soundName:"pop",minimizeZone:undefined,autoStatusTime:12e4,autoStatusMessenger:null,emotions:[{emotion:/:\)/g,emotionClass:"smile"},{emotion:/:D/ig,emotionClass:"happy"},{emotion:/:p/ig,emotionClass:"tongue"},{emotion:/:\(/g,emotionClass:"sad"},{emotion:/:o/ig,emotionClass:"surprised"},{emotion:/\(l\)/ig,emotionClass:"heart"},{emotion:/\(y\)/ig,emotionClass:"thumb_up"},{emotion:/;\)/g,emotionClass:"wink"},{emotion:/\(n\)/ig,emotionClass:"thumb_down"}],addContact:!0},s={},o={};s=e.extend({},i,r);var u=this,a=e(this).parent(),f=e("<div/>"),l=s.onlineClass+" "+s.awayClass+" "+s.busyClass+" "+s.offlineClass,c=null,h=s.username;contacts=[],y(u,h);var v=u.find("ul:first").addClass(s.chatListClass),m=function(){};return s.height&&s.height>0&&v.css("height",s.height).css("overflow-x","hidden").css("overflow-y","scroll"),E(v),e.contextMenu({selector:".chat-title.chat-me .chat-status."+s.onlineClass+",.chat-title.chat-me .chat-status."+s.busyClass+",.chat-title.chat-me .chat-status."+s.awayClass+",.chat-title.chat-me .chat-status."+s.offlineClass,className:"chat-status-context-menu",trigger:"left",autoHide:!0,events:{show:function(t){e(".chat-status-context-menu").css({"list-style":"none","list-style-image":"none"})}},items:{online:{name:n.pt_br.ONLINE,icon:s.onlineClass,callback:function(t,n){e.xmpp.setPresence({show:null}),e(n.selector).removeClass(l).addClass(s.onlineClass)}},busy:{name:n.pt_br.BUSY,icon:s.busyClass,callback:function(t,n){e.xmpp.setPresence({show:"dnd"}),e(n.selector).removeClass(l).addClass(s.busyClass)}},away:{name:n.pt_br.AWAY,icon:s.awayClass,callback:function(t,n){e.xmpp.setPresence({show:"away"}),e(n.selector).removeClass(l).addClass(s.awayClass)}},sep1:"---------",quit:{name:n.pt_br.QUIT,icon:"quit",callback:function(t,n){e.xmpp.disconnect()}}}}),e.contextMenu({selector:"."+s.chatListClass+" ."+s.contactClass,className:"chat-contact-context-menu",autoHide:!0,events:{show:function(t){e(".chat-contact-context-menu").css({"list-style":"none","list-style-image":"none"})}},items:{authorize:{name:n.pt_br.AUTHORIZE,icon:"question",callback:function(t,n){w(contacts[e(this).attr("id")],null)}},block:{name:n.pt_br.BLOCK,icon:"block",callback:function(t,n){w(contacts[e(this).attr("id")],"unavailable")}},update:{name:n.pt_br.UPDATE,icon:"edit",callback:function(t,n){b(null,contacts[e(this).attr("id")],e(this))}},"delete":{name:n.pt_br.DELETE,icon:"delete",callback:function(t,n){e.xmpp.deleteContact({to:contacts[e(this).attr("id")].jid}),e(this).remove()}}}}),s.debug&&H("Executing beforeConnect()"),typeof s.beforeConnect=="function"&&s.beforeConnect(),s.debug&&H("Executed beforeConnect()"),e.xmpp?(s.debug&&H("Connecting to xmpp"),o={resource:s.resource,username:s.username,password:s.password,url:s.url,domain:s.domain,onDisconnect:function(){P(v,u)},onConnect:function(t){s.debug&&H("Connected to xmpp"),e.xmpp.getRoster(),e.xmpp.setPresence(s.defaultStatus),e("#chat-loading-area").remove();var n=s.defaultStatus?s.defaultStatus==="offline"?s.offlineClass:s.defaultStatus==="dnd"?s.busyClass:s.awayClass:s.onlineClass;e(".chat-conversation-dialog textarea").removeAttr("disabled"),u.find(".chat-status").addClass(n),s.debug&&H("Executing afterConnect()"),typeof s.afterConnect=="function"&&s.afterConnect(),s.debug&&H("Executed afterConnect()"),s.autoStatusMessenger=setTimeout(function(){g()},s.autoStatusTime),e(document).on("mousemove",function(){e.xmpp.getMyPresence()=="away"&&(e.xmpp.setPresence({show:"null"}),e("span.chat-status").removeClass(l).addClass(s.onlineClass))}),e(document).on("keypress",function(){e.xmpp.getMyPresence()=="away"&&(e.xmpp.setPresence({show:"null"}),e("span.chat-status").removeClass(l).addClass(s.onlineClass))})},onIq:function(n){s.debug&&H("onIQ : "+n);var r=e(n).find("own-message").attr("to");r=r.match(/^[\w\W][^\/]+[^\/]/g)[0];var i=t.hexdigest(r),o=e("#"+i+"_chat");o.length==0?(o=D({title:contacts[i].from,from:r,id:i+"_chat",md5_id:i}),o.parent().find(".ui-dialog-titlebar").prepend(e("#"+i).find(".chat-status").clone().removeClass("chatting"))):o.wijdialog("open");var u=o.find(".chat-conversation-box"),a="<span style='font-size:9px;'>("+(new Date).toString("HH:mm")+")</span>";e("<div/>").addClass("chat-conversation-box-me").html(a+"<strong> Me: </strong>"+B(e(n).find("div").html())).appendTo(u),u.scrollTo("div:last"),u.next().html("")},onMessage:function(n){s.debug&&H("onMessage : "+n),n.from=n.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var r=n.from.split("/");H(r);var i=t.hexdigest(n.from);H(i);var o=e("#"+i+"_chat");H(o),H(n.body),n.body&&(console.log("hasBody"),o.length==0?(console.log("openChat:"+n.from),o=D({title:contacts[i]?contacts[i].from:n.from,from:n.from,id:i+"_chat",md5_id:i,message:n.body})):(console.log("openWijDialog"),o.wijdialog("open")));var u=o.find(".chat-conversation-box"),a="<span style='font-size:9px;'>("+(new Date).toString("HH:mm")+")</span>";a="",n.body&&(k(i,B(n.body)),u.scrollTo("div:last").next().html(""),o.parent().find(".ui-dialog-titlebar").css({background:"rgb(68, 138, 255) none repeat scroll 0 0","border-color":"rgb(68, 138, 255) none repeat scroll 0 0"}),document.title=s.title,document.getElementById("new_message_sound").play(),noty({text:"<strong>"+contacts[i].from+" say:</strong><br/>"+(n.body.length>20?n.body.substr(0,17)+"...":n.body),type:"warning",timeout:3e3,layout:"bottomRight",callback:{onCloseClick:function(t){e("#"+i).click()}}})),s.afterMessage&&afterMessage(n)},onPresence:function(n){s.debug&&H("onPresence : "+n),n.from=n.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var r=t.hexdigest(n.from),i=e("#"+r),o=n.show!=="available"?n.show==="unavailable"?s.offlineClass:n.show==="dnd"?s.busyClass:n.show==="away"?s.awayClass:s.onlineClass:s.onlineClass,u=n.from.split("@")[0],a=e("#"+r+"_chat");i.length&&(i.find(".chat-contact-description").html(n.status?" (...) ":"").attr("title",n.status).attr("alt",n.status),i.find("div.chat-status").removeClass(l).addClass(o),a.length&&(e("#"+r).addClass("chatting"),a.parent().find("div.chat-status").removeClass(l).addClass(o))),o==s.onlineClass&&noty({text:"<strong>"+contacts[r].from+"</strong><br/>is online now",type:"success",timeout:3e3,layout:"bottomRight",callback:{onCloseClick:function(t){console.log(t),e(i).click()}}}),clearTimeout(m),m=setTimeout(function(){v.find("li").tsort("."+s.onlineClass,"span.chat-contact-name",{charOrder:"a[����]c[�]e[����]i[����]o[����]u[����]"}),v.find("li").tsort("."+s.busyClass,"span.chat-contact-name",{charOrder:"a[����]c[�]e[����]i[����]o[����]u[����]"}),v.find("li").tsort("."+s.awayClass,"span.chat-contact-name",{charOrder:"a[����]c[�]e[����]i[����]o[����]u[����]"}),v.find("li").tsort("."+s.offlineClass,"span.chat-contact-name",{charOrder:"a[����]c[�]e[����]i[����]o[����]u[����]"})},1e3)},onError:function(e){s.debug&&H("onError :"+e),s.errorFunction&&s.errorFunction(e),P(v,u)},onComposing:function(n){var r=!1,i=function(t){console.log("friendIsTyping");if(r)return;r=!0;var n=e("#chat-info-container-"+t),i=e("#chat-effect-container-"+t),s=100,u=e("<div/>").addClass("chat-effect-dots").css({top:-30+s,left:10}).appendTo(i);for(var a=0;a<3;a++){var f=e("<div/>").addClass("chat-effect-dot").css({left:a*20}).appendTo(u);d.to(f,.3,{delay:-a*.1,y:30,yoyo:!0,repeat:-1,ease:Quad.easeInOut})}var l=e("<div/>").addClass("chat-info-typing").text("Seu amigo está digitando...").css({transform:"translate3d(0,30px,0)"}).appendTo(n);d.to(l,.3,{y:0,force3D:!0}),o(t)},o=function(e){a("url(#goo)",e)},u=function(e){a("none",e)},a=function(t,n){e("#chat-effect-container-"+n).css({webkitFilter:t,mozFilter:t,filter:t})},f=function(t){var n=e("#chat-info-container-"+t),i=e("#chat-effect-container-"+t);r=!1;var s=100,o=i.find(".chat-effect-dots");d.to(o,.3,{y:40,force3D:!0,ease:Quad.easeIn});var a=n.find(".chat-info-typing");d.to(a,.3,{y:30,force3D:!0,ease:Quad.easeIn,onComplete:function(){o.remove(),a.remove(),u(t)}})};n.from=n.from.match(/^[\w\W][^\/]+[^\/]/g)[0];var l=t.hexdigest(n.from),c=(new Date).toString("HH:mm");switch(n.state){case"active":f(l);break;case"composing":i(l);break;case"gone":f(l);break;case"paused":f(l);break;default:f(l)}s.debug&&H("onComposing : "+n)},onRoster:function(r){s.debug&&H("onRoster : "+r);var i=r.jid;i=i.match(/^[\w\W][^\/]+[^\/]/g)[0];var o=t.hexdigest(i),u=e("#"+o),a=r.name?r.name:i;contacts[o]=r,contacts[o].from=a;if(!u.length){var f=e("<li/>").attr("title",n.pt_br.CLICK_TO_START_A_CONVERSATION_WITH+" "+a).attr("id",o).addClass(s.contactClass),l=e("<div/>").addClass("chat-status").addClass(s.offlineClass).appendTo(f);e("<span/>").addClass("chat-contact-name").html(a).appendTo(f),e("<span/>").addClass("chat-contact-description").appendTo(f),f.click(function(){var t=o+"_chat",n=e("#"+t);n.length==0?(conversationDialog=D({title:a,from:i,id:t,md5_id:o}),conversationDialog.parent().find(".ui-dialog-titlebar").prepend(l.clone().removeClass("chatting"))):(n.wijdialog("restore"),n.wijdialog("open"))}),v.append(f),e.trim(r.subscription)=="from"&&w(contacts[o],null)}else u.find(".chat-contact-name").html(a)}},e.xmpp.connect(o)):s.debug&&H("xmpp plugin not found"),this.each(function(){s.debug&&H(this)})}})(jQuery)}),define("views/home/HomeView",["jquery","underscore","backbone","shared","collections/mail/MessagesCollection","collections/home/ServersCollection","views/mail/MessagesListView","views/mail/DetailMessageView","views/home/MenuView","views/mail/PullToActionView","text!templates/home/homeTemplate.html","material","jquery_migrate","jqueryui","wijmo","tinysort","tinysort_open","contextmenu","linkify","im"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b){var w=n.View.extend({folderID:"INBOX",msgID:"0",search:"",page:"1",profile:null,menuView:null,menuOpen:!1,initialize:function(){e(window).on("resize",this.refreshWindow);var t=new a;this.menuView=t,r.menuView=t},remove:function(){e(window).off("resize",this.refreshWindow),n.View.prototype.remove.apply(this,arguments)},render:function(){var n={_:t,Shared:r},i=t.template(l,n);this.$el.html(i),this.$el.css("width","100%"),this.$el.css("height","100%"),e("#mainAppPageContent").empty().append(this.$el),c.upgradeDom();var s=this;r.api.getLocalStorageValue("expresso",function(t){if(t!=null){r.profile=t.profile;var n=t.username,i=r.password;r.api.phoneGap(t.phoneGap),t.phoneGap?r.api.context(t.serverAPI).crossdomain(t.serverAPI):r.api.context(r.context).crossdomain(t.serverAPI)}r.userHasModule("chat")&&r.api.resource("Services/Chat").params({}).done(function(t){r.im_resource=t.A,r.im_url=t.B,r.im_domain=t.C;var n=t.D,i=t.E+"==";r.isDesktop()?e("#chatDesktop").im({resource:"JABBER_IM_PR",url:r.im_url,domain:r.im_domain,username:n,password:i,debug:!1,soundPath:"libs/messenger/",height:e("#chatContactsWindow").height()-e(".chat-title").height()-30,minimizeZone:"minimizedWindows"}):(r.im.resource("EXPRESSO_MOBILE").url(r.im_url).domain(r.im_domain),r.im.username(n).password(i).connect())}).execute(),r.api.resource("ExpressoVersion").params({}).done(function(t){r.apiVersion=t.apiVersion,r.expressoVersion=t.expressoVersion,r.refreshSettings(),s.menuView=new a({el:e("#scrollerMenu")}),s.menuView.profile=s.profile,s.menuView.render(),r.isDesktop()&&s.refreshWindow(),r.setDefaultIMListeners(),r.BlinkWindowTitle(),r.gotoRoute==0?r.userHasModule("mail")?r.isSmartPhoneResolution()&&r.newMessageIntent==1?(r.newMessageIntent=!1,r.router.navigate("/Mail/Message/New",{trigger:!0})):(s.menuView.selectMenu(1),s.loadMessagesInFolder(s.folderID,s.search,"","1"),s.loaded()):r.userHasModule("calendar")?(s.menuView.selectMenu(2),r.router.navigate("/Calendar",{trigger:!0})):r.userHasModule("catalog")?(s.menuView.selectMenu(3),r.router.navigate("/Contacts/Personal",{trigger:!0})):r.userHasModule("chat")?(s.menuView.selectMenu(4),r.router.navigate("/Chat",{trigger:!0})):(s.menuView.selectMenu(5),r.router.navigate("/Settings",{trigger:!0})):s.loaded(),r.scheduleCheckForNewMessages()}).execute()})},loadMessagesInFolder:function(e,t,n,i){this.msgID=n,r.menuView.setMailBadge(0);var s=new o({folderID:e,search:t,page:this.page,msgID:n});s.folderID=e,s.msgID=n,s.forceReload=i,s.render()},events:{"click #chat_toggleRoster":"toggleChat","click .menuLink":"selectMenuItem","click .listItemLink":"selectListItem"},selectListItem:function(t){t.preventDefault(),parent=e(t.target).parent(),e("#scroller li").each(function(){e(this).removeClass("selected")}),parent.hasClass("listItemLink")&&(parent=parent.parent());var n=t.currentTarget.getAttribute("rowid");console.log(n),n!=undefined&&e("#"+n).addClass("selected"),r.router.navigate(t.currentTarget.getAttribute("href"),{trigger:!0})},selectMenuItem:function(e){e.preventDefault(),r.router.navigate(e.currentTarget.getAttribute("href"),{trigger:!0})},selectFolderItem:function(e){e.preventDefault(),r.router.navigate(e.currentTarget.getAttribute("href"),{trigger:!0})},toggleMenuDesktop:function(e){e!=undefined&&e.preventDefault()},toggleMenu:function(e){e!=undefined&&e.preventDefault()},toggleContextMenu:function(){this.menuView.context.toggleMenu()},toggleChat:function(t){t!=undefined&&t.preventDefault();var n=250,r=0;e("#mainPage").hasClass("is-small-screen")||(r=e("#menu").width());var i=e(window).width()-r;e("#chatContactsWindow").width()!=0?(e("#chatContactsWindow").animate({width:"0px"},200),e("#pageContent").animate({width:i},200),e(".expresso-fab-button").animate({right:"16px"},200)):(i-=n,e("#chatContactsWindow").animate({width:n+"px"},200),e("#pageContent").animate({width:i},200),e(".expresso-fab-button").animate({right:"266px"},200))},refreshWindow:function(){var t=this,n=function(){var t=0;e("#mainPage").hasClass("is-small-screen")||(t=e("#menu").width());var n=e(window).width()-t,i=250;r.isSmartPhoneResolution()?e("#contentDetail").addClass("hidden"):e("#contentDetail").removeClass("hidden"),r.isDesktop()?e("#chatContactsWindow").width()==0?(e("#chatContactsWindow").animate({width:"0px"},200),e("#pageContent").animate({width:n},200),e(".expresso-fab-button").animate({right:"16px"},200)):(n-=i,e("#chatContactsWindow").animate({width:i+"px"},200),e("#pageContent").animate({width:n},200),e(".expresso-fab-button").animate({right:"266px"},200)):(e("#chatContactsWindow").animate({width:"0px"},200),e("#pageContent").animate({width:n},200),e(".expresso-fab-button").animate({right:"16px"},200))};clearTimeout(this.idResize),this.idResize=setTimeout(n,500)},loaded:function(){r.gotoRoute!=0&&(r.router.navigate(r.gotoRoute,{trigger:!0}),r.gotoRoute=!1)}});return w}),define("localstorage",["underscore","jquery","backbone"],function(e,t,n){function r(){return((1+Math.random())*65536|0).toString(16).substring(1)}function i(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}var s=function(e){this.name=e;var t=localStorage.getItem(this.name);this.data=t&&JSON.parse(t)||{}};return e.extend(s.prototype,{save:function(){localStorage.setItem(this.name,JSON.stringify(this.data))},create:function(e){return e.id||(e.id=e.attributes.id=i()),this.data[e.id]=e,this.save(),e},update:function(e){return this.data[e.id]=e,this.save(),e},find:function(e){return this.data[e.id]},findAll:function(){return e.values(this.data)},destroy:function(e){return delete this.data[e.id],this.save(),e}}),n.sync=function(e,t,n){var r,i=t.localStorage||t.collection.localStorage;switch(e){case"read":r=t.id?i.find(t):i.findAll();break;case"create":r=i.create(t);break;case"update":r=i.update(t);break;case"delete":r=i.destroy(t)}r?n.success(r):n.error("Record not found")},s}),define("models/home/ExpressoModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{auth:"",profile:{}},initialize:function(){}});return r}),define("collections/home/ExpressoCollection",["underscore","backbone","localstorage","models/home/ExpressoModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,localStorage:new n("Expresso")});return new i}),define("text!templates/settings/settingsFaqListTemplate.html",[],function(){return'<% if (elementID == "#mainAppPageContent") { %>\n<div id="page" class="left">\n    <div id="pageSwipe" style=""></div>\n    <header id="pageHeader" class="topHeader">\n      <div id="pageMessage"></div>\n      <ul class="left topButtons" style="margin: 10px;">\n      	<li><input id="btn-back" type="button" value="Voltar" class="btn btn-primary" style=""></li>\n      </ul> \n      \n      <div id="rightMenu">\n        \n      </div>\n\n    </header>\n\n    <div class="main">\n\n      <div id="content" class="left" style="width: 100%;">\n        \n\n\n<% } %>\n\n<!-- <h2 class="font-big">Perguntas Frequentes</h2> -->\n<div class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Perguntas Frequentes</h2>\n        </div>\n		<article id="wrapperDetail" class="contentScroll">\n			<div id="scrollerDetail">\n\n				<dl id="aboutExpresso">\n\n		<!-- 			<div class="login-center" style="width: 245px; margin-top: 50px; margin-bottom: 50px;">\n					      <div class="product-logo"></div>\n					</div> -->\n\n					<!-- <br>- Qual servidor devo escolher?\n					<br>- Posso configurar o Aplicativo com meu usuário de outro serviço de Emails (GMAIL, YAHOO, etc)?\n					<br>- Como faço para criar uma conta do Expresso?\n					<br>- Como posso usar na minha Empresa/Instituição?\n					<br>- Já possuo o Expresso Livre instalado em minha empresa, porque meu servidor não aparece na lista de Servidores?\n					<br>- Em qual versão do Expresso Livre meu servidor deverá estar?\n					<br>- Em qual versão do iOS meu dispositivo deverá estar?\n					<br>- Em qual versão do Android meu dispositivo deverá estar?\n					<br>- Quais são os dispositivos suportados?\n					<br><br> -->\n					<br><br>\n					<dt>Qual servidor devo escolher?</dt>\n					<dd>\n					Você deve escolher o servidor de sua organização/instituição. Somente aparecem nesta lista servidores homologados a utilizar o aplicativo. Caso seu servidor não esteja sendo exibido na lista, entre em contato com o administrador do seu ambiente expresso, para que ele possa solicitar a liberação do seu servidor na lista de servidores homologados.\n					</dd>\n\n					<dt>Posso configurar o aplicativo com meu usuário de outro serviço de Emails (GMAIL, YAHOO, etc)?</dt>\n					<dd>Não, o aplicativo foi desenvolvido para acessar somente servidores homologados do Expresso.</dd>\n\n					<dt>Como faço para criar uma conta do Expresso?</dt>\n					<dd>\n					A criação de contas do expresso é responsabilidade do administrador de cada empresa/instituição que utiliza o Expresso. Caso você pertença a uma empresa que utiliza o Expresso e não tem uma conta, entre em contato com o administrador de sua organização.\n					</dd>\n\n					<dt>Como posso usar na minha Empresa/Instituição?</dt>\n					<dd>\n					Para que sua empresa/instituição possa utilizar o Expresso Mobile, o Expresso Livre deverá ser instalado em um servidor de emails da sua empresa/instituição. Siga o procedimento de instalação no site da comunidade: http://www.expressolivre.org/\n					</dd>\n\n					<dt>Já possuo o Expresso Livre instalado em minha empresa. Porque meu servidor não aparece na lista de Servidores?</dt>\n					<dd>\n					Para que você possa usar este aplicativo em sua empresa/instituição, Foi desenvolvido um módulo para o Expresso Livre que deverá ser adicionado à sua instalação do Expresso. Esse módulo deve ser homologado/autorizado pelos administradores da comunidade Expresso. Somente após essa autorização seu servidor será cadastrado para aparecer na lista de servidores. Caso você já possua este módulo instalado em seu ambiente clique aqui e entre em contato solicitando a liberação do seu servidor.\n					</dd>\n\n					<dt>Em qual versão do iOS meu dispositivo deverá estar?</dt>\n					<dd>\n						O Expresso para iOS é suportado a partir da versão 7.0 do iOS.\n					</dd>\n\n					<dt>Em qual versão do Android meu dispositivo deverá estar?</dt>\n					<dd>\n						O Expresso para Android é homologado para a versão 4.0 ou superior do Android.\n					</dd>\n\n					<dt>O Aplicativo é compatível com o Expresso V3?</dt>\n					<dd>\n						Não, o Expresso V3 não possui a API para dispositivos móveis, portanto não é compatível com este aplicativo.\n					</dd>\n\n					<% if (Shared.isIDevice()) { %>\n					<dt>Porque não recebo notificações de novos emails? (NOTIFICAÇÕES POR PUSH)</dt>\n					<dd>\n						As notificações de email ocorrem por um processo chamado de "Notificações por Push", e devido a algumas restrições da Apple o Expresso ainda não possui notificações por Push.<br>Obs: Nós entendemos que esta é uma funcionalidade essencial, e assim que estas restrições não existirem mais implementaremos essa funcionalidade.\n					</dd>\n					<% } %>\n\n					<dt>Quais são os dispositivos suportados?</dt>\n					<dd>\n						<ul>\n							<li>Smartphones com iOS a partir do iPhone 4S.</li>\n							<li>Smartphones com Android a partir do 4.0</li>\n							<li>Tablets com iOS a partir do iPad 2.</li>\n							<li>Tablets com Android a partir do 4.0</li>\n						</ul>\n						<!-- <br><br>\n						<br><br>\n						<br><br>\n						<br><br>\n						<br><br> -->\n					</dd>\n\n				</dl>\n		  	</div>\n		</article>\n</div>\n\n<% if (elementID == "#mainAppPageContent") { %>\n      </div>\n    </div>\n  </div>\n<% } %>'}),define("views/settings/SettingsFaqListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsFaqListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({elementID:"#content",render:function(){var n=this,s={_:t,elementID:this.elementID,Shared:r},o=t.template(i,s);this.$el.html(o),this.$el.css("width","100%"),this.$el.css("height","100%"),e(this.elementID).empty().append(this.$el)},events:{"click #btn-back":"backButton"},backButton:function(e){e!=undefined&&e.preventDefault(),r.router.navigate("/",{trigger:!0})}});return s}),define("views/login/LoginView",["jquery","underscore","backbone","shared","models/mail/MessagesModel","collections/mail/MessagesCollection","text!templates/login/loginTemplate.html","views/home/LoadingView","views/home/HomeView","expressoIM","collections/home/ExpressoCollection","collections/home/ServersCollection","views/settings/SettingsFaqListView","material"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d=n.View.extend({errors:!1,render:function(){var n=new c,i=this;n.done(function(n){var s={servers:n.models,Shared:r,_:t},u=t.template(o,s);i.$el.html(u),e("#mainAppPageContent").empty().append(i.$el),p.upgradeDom(),r.betaVersion&&e("#beta").removeClass("hidden"),r.isAndroid()&&r.isPhonegap()&&r.forceLogout==0&&window.plugins.expresso!=null&&window.plugins.expresso.getAccounts("",function(e){r.automaticLoginAccounts=JSON.parse(e);var t=r.automaticLoginAccounts;if(r.automaticLoginAccounts.accounts.length>=1){if(r.forceAutomaticLoginInAccountName==0||r.automaticLoginAccounts.accounts.length==1)r.forceAutomaticLoginInAccountName=t.accounts[0].accountName;for(var n=0;n<t.accounts.length;n++)t.accounts[n]!=undefined&&r.forceAutomaticLoginInAccountName==t.accounts[n].accountName&&i.automaticLogin(t.accounts[n])}},function(){})}).fail(function(e){r.handleErrors(e)}).getServers()},events:{"click #btn-login":"login","keydown #username":"keydownUserName","keydown #password":"keydownPassword","click #helpLink":"showHelp"},showHelp:function(e){var t=new h({});t.elementID="#mainAppPageContent",t.render()},keydownUserName:function(t){t.which==13&&!t.shiftKey&&e("#password").focus()},keydownPassword:function(e){e.which==13&&!e.shiftKey&&this.login()},automaticLogin:function(e){this.loginUser(e.accountName,e.accountPassword,e.accountAPIURL)},login:function(t){var n=e("#username").val().toLowerCase(),r=e("#password").val(),i=e("#serverURL").val();this.loginUser(n,r,i)},loginUser:function(t,n,i){var s=r.api.phoneGap();s?r.api.context(i).crossdomain(i):r.api.context(r.context).crossdomain(i),this.errors=!1,n==""&&(r.showMessage({type:"error",icon:"icon-expresso",title:"Senha não informada/inválida!",description:"",elementID:"#pageMessage"}),this.errors=!0),t==""&&(r.showMessage({type:"error",icon:"icon-expresso",title:"Usuário não informado/inválido!",description:"",elementID:"#pageMessage"}),this.errors=!0);if(r.betaVersion){var o=!1;if(r.betaTesters.length>0){for(var f in r.betaTesters)t==r.betaTesters[f]&&(o=!0);o||(r.showMessage({type:"error",icon:"icon-expresso",title:"Este usuário não possui acesso a versão BETA!",description:"",elementID:"#pageMessage"}),this.errors=!0)}}var l=this;l.userName=t,l.serverURL=i;if(!l.errors){var c=new u({el:e("#login-loading")});c.render(),r.api.resource("Login").params({user:t,password:n}).done(function(o){if(o.profile[0].contactApps.length!=0){var u={auth:r.api.auth(),profile:o.profile[0],username:t,phoneGap:s,serverAPI:i};return r.password=n,r.profile=u.profile,r.api.setLocalStorageValue("expresso",u),r.isAndroid()&&r.isPhonegap()&&(r.service!=undefined?(r.service.setConfig(i,r.api.auth(),t,n),r.service.startService(),setTimeout(function(){r.service.setConfig(i,r.api.auth(),t,n),r.service.enableTimer()},1e4)):console.log("undefined service"),window.plugins!=undefined&&window.plugins.expresso.createAccount({accountName:t,accountPassword:n,accountAuthToken:r.api.auth(),accountAPIURL:i},function(e){},function(e){})),e("#login-loading").empty(),e("#login-loading").addClass("animation-big-scale"),setTimeout(function(){var e=new a;e.profile=o.profile[0],e.render()},1e3),!1}r.showMessage({type:"error",icon:"icon-expresso",title:"Este usuário não possui acesso a nenhum módulo neste servidor!",description:"",timeout:0,elementID:"#pageMessage"}),setTimeout(function(){r.router.navigate("",{trigger:!0})},2e3)}).fail(function(e){return e.error.code==5?r.showMessage({type:"error",icon:"icon-expresso",title:"Usuário ou senha inválidos!",description:"",timeout:0,elementID:"#pageMessage"}):r.showMessage({type:"error",icon:"icon-expresso",title:"Não foi possível efetuar o Login!",description:"",timeout:0,elementID:"#pageMessage"}),setTimeout(function(){r.router.navigate("",{trigger:!0})},2e3),!1}),r.api.ignoreCache(!0);var h=function(e){e!=undefined&&e.username!=undefined&&(e.username!=l.userName||e.serverAPI!=l.serverURL)&&r.api.setLocalStorageValue("expressoCache",[]),r.api.execute()};r.api.getLocalStorageValue("expresso",h,h)}return!1},logoutUser:function(t){e("#mainAppPageContent").empty();var n=new u({el:e("#mainAppPageContent")});n.render(),t==undefined&&(t=!0),r.forceLogout=t,r.api.resource("Logout").done(function(e){}).fail(function(e){r.handleErrors(e)}).execute(),r.scrollMenu=null,r.stopBlinkWindowTitle(),r.api.getLocalStorageValue("expresso",function(e){var t=r.api.phoneGap();e.auth="",e.profile="",e.username="",e.password="",e.phoneGap=t,e.serverAPI="",r.isAndroid()&&(r.service.disableTimer(),r.service.stopService()),r.api.setLocalStorageValue("expresso",e)}),r.router.navigate("Login",!0)}});return d}),define("text!templates/home/offlineTemplate.html",[],function(){return'  <div class="login-center" style="width: 245px; margin-top: 70px;">\n      <div class="product-logo"></div>\n      <br>\n      <br><br>\n      <span style="color: #000; font-size: 14px;">\n      A versão mobile está temporariamente indisponível.<br><br>\n    </span>\n  </div>'}),define("views/home/OfflineView",["jquery","underscore","backbone","shared","text!templates/home/offlineTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#mainAppPageContent"),render:function(){var e={_:t},n=t.template(i,e);this.$el.html(n)}});return s}),define("autocomplete",["jquery","backbone"],function(e,t){(function(e){var t={collection:null,attr:null,noCase:!1,scrollable_ancestor_em:null,onselect:null,ul_class:"autocomplete",ul_css:null,li_class:null,li_css:null,width:null,max_results:null,attrID:"contactID"},n={init:function(r){return r||(r={}),this.each(function(){var i=e(this);i.data("autocomplete")&&n.destroy.apply(i);var s=i.attr("autocomplete");i.attr("autocomplete","off");var o=e("<ul>").addClass(r.ul_class||t.ul_class).hide().insertBefore(i);i.bind("focus.autocomplete",function(e){i.bind("blur.autocomplete",function(e){return i.unbind("blur.autocomplete"),i.unbind("keydown.autocomplete"),i.unbind("keyup.autocomplete"),o.hide(),!0}),i.bind("keydown.autocomplete",function(e){return n._inputKeydown.apply(i,[e])}),i.bind("keyup.autocomplete",function(e){return n._inputKeyup.apply(i,[e])})}),i.data("autocomplete",{target:i,oldAutocomplete:s,oldValue:null,list_em:o,options:e.extend({},t,r)})})},destroy:function(){return this.each(function(){var t=e(this),n=t.data("autocomplete");n.list_em.remove(),t.attr("autocomplete",n.oldAutocomplete),t.removeData("autocomplete")})},show:function(){var n=this,r=n.data("autocomplete"),i=r.options,s=i.collection,o=i.attr,u=r.list_em,a=e.trim(n.val()),f=a.toLowerCase(),l=[];s.each(function(e){var t=e.getSearchString(),n=e.getFirstEmailAddress();(t.indexOf(a)==0||i.noCase&&t.toLowerCase().indexOf(f)==0||n.indexOf(a)==0||i.noCase&&n.toLowerCase().indexOf(f)==0)&&l.push(e)});if(l.length==0)return u.hide(),this;i.max_results&&!isNaN(i.max_results)&&(l=l.slice(0,i.max_results)),u.empty();if(!u.is(":visible")){var c=n.position(),h=0,p=e(i.scrollable_ancestor_em);p.length&&(h=p.scrollTop());var d=c.left,v=c.top+h+n.outerHeight(!0);u.css({left:"10px",top:v}),i.ul_css&&u.css(i.ul_css),i.width?u.width(i.width):u.width(n.outerWidth(!0)+5),u.show()}for(var m=0;m<l.length;m++){var g=l[m],y=g.getSearchString(),b='<span class="emailInfo">&lt;'+g.getFirstEmailAddress()+"&gt;</span>"+g.get("contactFirstName")+" "+g.get("contactLastName"),w=e("<li>"+b+"</li>");w.mouseover(function(){e(this).addClass("selected").siblings(".selected").removeClass("selected")}),w.mouseleave(function(){e(this).removeClass("selected")}),w.mousedown(function(){var t=e(this).attr("model_id");return g=s.getContactByID(t),i.onselect?i.onselect(g):n.val(g.getFirstEmailAddress()),n.blur(),!1}),w.addClass(i.li_class).attr("model_id",g.get(t.attrID)),i.li_class&&w.addClass(li_class),i.li_css&&w.css(i.li_css),u.append(w)}return this},_inputKeydown:function(e){var t=this,n=t.data("autocomplete"),r=n.options,i=r.collection,s=n.list_em;if(e.keyCode==27)return e.preventDefault(),t.blur(),!1;if(e.keyCode==13||e.keyCode==9){var o=s.children("li.selected");o.length==0&&(s.children("li:first").addClass("selected"),o=s.children("li.selected"));if(o.length){var u=o.attr("model_id");model=i.getContactByID(u),r.onselect?(r.onselect(model),s.empty()):(this.val(model.getFirstEmailAddress()),s.empty())}return s.hide(),!0}if(e.keyCode==40){e.preventDefault();var o=s.children("li.selected");return o.length==0?s.children("li:first").addClass("selected"):o==s.children("li:last")?o.removeClass("selected"):o.removeClass("selected").next("li").addClass("selected"),!1}if(e.keyCode==38){e.preventDefault();var o=s.children("li.selected");return o.length==0?s.children("li:last").addClass("selected"):o==s.children("li:first")?o.removeClass("selected"):o.removeClass("selected").prev("li").addClass("selected"),!1}return!0},_inputKeyup:function(e){if(e.keyCode==27||e.keyCode==13||e.keyCode==9)return!0;var t=this,r=t.data("autocomplete"),i=r.list_em;if(r.oldValue==t.val())return!0;r.oldValue=t.val(),t.val().length==0?i.hide():n.show.apply(t);var s=i.children("li.selected");return s.length==0&&i.children("li:first").addClass("selected"),!1}};e.fn.autocomplete=function(t){if(n[t])return n[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return n.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.autocomplete")}})(jQuery)}),define("models/contacts/ContactModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{contactID:"",contactMails:[],contactPhones:[],contactAlias:"",contactFirstName:"",contactLastName:"",contactFullName:"",contactBirthDate:"",contactNotes:"",contactHasImagePicture:0,contactImagePicture:""},initialize:function(){this.api=n.api,this.readResource="/Catalog/Contacts",this.updateResource="",this.createResource="",this.deleteResource=""},getSearchString:function(){var e=this.get("contactFirstName")+" "+this.get("contactLastName")+" &lt;"+this.getFirstEmailAddress()+"&gt;";return e},getEmailString:function(){var e='"'+this.get("contactFirstName")+" "+this.get("contactLastName")+'"'+" <"+this.getFirstEmailAddress()+"> ,";return e},route:function(){return"/Contacts"},execute:function(){return this.api.execute()},done:function(e){return this.done=e,this},fail:function(e){return this.fail=e,this},getPersonalContact:function(e){var t=this;return this.api.resource("Catalog/Contacts").params({contactID:e,contactType:"1"}).done(function(e){var n=new r(e.contacts[0]);t.set(n),t.done&&t.done(n)}).fail(function(e){t.fail&&t.fail(e)}).execute(),t},getFirstEmailAddress:function(){return this.get("contactMails")[0]},addContact:function(e){var t=this;return this.api.resource("Catalog/ContactAdd").params(e).done(function(e){t.done&&t.done(e)}).fail(function(e){t.fail&&t.fail(e)}).execute(),t},deleteContact:function(e){var t=this;return this.api.resource("Catalog/ContactDelete").params(e).done(function(e){t.done&&t.done(e)}).fail(function(e){t.fail&&t.fail(e)}).execute(),t}});return r}),define("collections/contacts/DetailsContactCollection",["underscore","backbone","shared","models/contacts/ContactModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},_functions:{},done:function(e){return this._functions.done=e,this},fail:function(e){return this._functions.fail=e,this},initialize:function(e,t){this.api=n.api,this.model=r,this._functions={}},getPersonalContactDetails:function(e){var t=this;t._data={};var n=r,i=this._data;return this.api.resource("Catalog/Contacts").params({contactID:e,contactType:"1"}).done(function(e){for(var r in e.contacts){var i=new n(e.contacts[r]);t.add(i)}t._functions.done&&t._functions.done(t)}).fail(function(e){t._functions.fail&&t._functions.fail(e)}).execute(),t},getGeneralContactDetails:function(e){var t=this;t._data={};var n=r,i=this._data;return this.api.resource("Catalog/Contacts").params({search:"",contactID:e,contactType:"2"}).done(function(e){for(var r in e.contacts){var i=new n(e.contacts[r]);t.add(i)}t._functions.done&&t._functions.done(t)}).fail(function(e){t._functions.fail&&t._functions.fail(e)}).execute(),t},execute:function(){return this.api.execute()}});return i}),define("models/calendar/EventModel",["underscore","backbone","shared","models/contacts/ContactModel","collections/contacts/DetailsContactCollection"],function(e,t,n,r,i){var s=t.Model.extend({defaults:{eventID:"",eventDate:"",eventName:"",eventDescription:"",eventLocation:"",eventParticipants:[],eventParticipantsLdap:[],eventStartDate:"",eventEndDate:"",eventAllDay:"0",eventExParticipants:"",eventCategoryID:"",eventDateEnd:"",eventDateStart:"",eventDescription:"",eventOwner:"",eventOwnerIsParticipant:"",eventPriority:"",eventTimeEnd:"",eventTimeStart:"",eventType:""},initialize:function(){this.api=n.api,this.readResource="/Calendar/Events",this.updateResource="",this.createResource="",this.deleteResource=""},route:function(){return"/Calendar"},done:function(e){return this.done=e,this},fail:function(e){return this.fail=e,this},getEvent:function(e){var t=this;return this.api.resource("Calendar/Event").params({eventID:e}).done(function(e){t.set(e.events[0]),t.getEventOwner()}).fail(function(e){t.fail&&t.fail(e)}).execute(),t},getPriority:function(){var e=["-","Baixa","Normal","Alta"];return e[this.get("eventPriority")]},getEventParticipants:function(e){var t=this.get("eventParticipants"),n=[],r=this;for(var s in t)n.push(parseInt(t[s].contactUIDNumber));var o=JSON.stringify(n),u=new i;u.done(function(e){r.set({eventParticipantsLdap:e.models}),r.done&&r.done(r)}).fail(function(e){r.fail&&r.fail(e)}).getGeneralContactDetails(o)},getEventOwner:function(e){var t=this,n=new i;n.done(function(e){t.set({eventOwner:e.models[0]}),t.getEventParticipants()}).fail(function(e){t.fail&&t.fail(e)}).getGeneralContactDetails(this.get("eventOwner"))},saveEvent:function(e){var t=this;return this.api.ignoreCache(!0),this.api.resource("Calendar/AddEvent").params(e).done(function(e){var n=new s(e.events[0]);t.done&&t.done(n)}).fail(function(e){t.fail&&t.fail(e)}).execute(),t},deleteEvent:function(e){var t=this;return this.api.ignoreCache(!0),this.api.resource("Calendar/DelEvent").params({eventID:e}).done(function(e){t.done&&t.done(e)}).fail(function(e){t.fail&&t.fail(e)}).execute(),t},execute:function(){return this.api.execute()}});return s}),define("text!templates/master/detailContentTemplate.html",[],function(){return'<!-- <h2 id="contentDetailTitle"></h2> -->\n\n<!-- <div class="searchArea">\n	<input type="text" class="searchField" value="" placeholder="Procurar Por:" />\n</div>\n -->\n<div id="messageDetail"></div>\n\n<div id="wrapperDetail" class="contentScroll">\n	<div id="scrollerDetail"></div>\n</div>'}),define("text!templates/master/primaryContentTemplate.html",[],function(){return'<!--<h2 id="contentTitle" class="font-big icon-mainmenu"  style="padding-left: 50px; background-position: 10px;"></h2>\n\n<div class="searchArea">\n	<input type="text" class="searchField" value="" placeholder="Procurar Por:" />\n</div>\n-->\n<div id="message"></div>\n\n<div id="wrapper" class="contentScroll">\n	<div id="scroller"></div>\n</div>'}),define("text!templates/calendar/calendarEditEventAddParticipantsTemplate.html",[],function(){return"<% if (typeof(contacts) != 'undefined' && contacts.length > 0) { %>\n\n	<dl id=\"participantsList\">\n\n		<% var summaryLetter = _.first(contacts).get('contactFirstName').charAt(0).toUpperCase(); %>\n\n		<dt><%=summaryLetter%></dt>\n		<dd>\n			<ul>\n				<% _.each(contacts, function(c) { %>\n\n					<% if (!_.isEqual(summaryLetter, c.get('contactFirstName').charAt(0).toUpperCase())) { %>\n					\n						<% summaryLetter = c.get('contactFirstName').charAt(0).toUpperCase(); %>\n						\n						</ul>\n							</dd>\n							<dt><%=summaryLetter%></dt>\n							<dd>\n								<ul>\n\n					<% } %>\n\n					<%\n						var checked = _.contains(listParticipants, c.get('contactUIDNumber')) ? \"checked='checked'\" : '';\n						var selected = _.contains(listParticipants, c.get('contactUIDNumber')) ? \" class='selected'\" : '';\n					%>\n\n					<li<%= checked %>>\n						\n\n						<input type=\"checkbox\" class=\"check css-checkbox\" <%= checked %> name=\"<%= c.get('contactUIDNumber') %>\" id=\"<%= c.get('contactUIDNumber') %>\" data-name=\"<%=c.get('contactFullName')%>\" data-mail=\"<%=c.get('contactMails')[0]%>\" value=\"<%= c.get('contactUIDNumber') %>\" />\n						<label class=\"css-label\" for=\"<%= c.get('contactUIDNumber') %>\"><%=c.get('contactFullName')%><br><%=c.get('contactMails')[0]%></label>\n					</li>					\n\n				<% }); %>\n\n			</ul>\n		</dd>\n	</dl>\n\n<% } else { %>\n\n	<% if (!_.isObject(error)) { %>\n\n		<p class=\"erro\">Nenhum registro encontrado</p>\n		\n	<% } %>\n\n<% } %>"}),define("collections/contacts/ContactsListCollection",["underscore","backbone","shared","models/contacts/ContactModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},_functions:{},done:function(e){return this._functions.done=e,this},fail:function(e){return this._functions.fail=e,this},initialize:function(e,t){this.api=n.api,this.model=r,this._functions={}},getContactByID:function(e){var t=!1;for(var n in this.models)this.models[n].get("contactID")==e&&(t=this.models[n]);return t},getContacts:function(e,t,i){var s=this;s._data={};var o=r,u=this._data;return n.api.resource("Catalog/Contacts").params({search:e,contactType:t}),i&&(console.log("ignoreCache"),n.api.ignoreCache(i)),n.api.done(function(e){for(var t in e.contacts){var n=new o(e.contacts[t]);s.add(n)}s._functions.done&&s._functions.done(s)}).fail(function(e){s._functions.fail&&s._functions.fail(e)}).execute(),s},getContactImagePicture:function(t,n){this.api.resource("Catalog/ContactPicture").params({contactID:this.pContactID,contactType:"2"}).done(function(t){n(e.first(t.contacts).contactImagePicture)}).fail(function(e){n("")}).execute()},execute:function(){return this.api.execute()}});return i}),define("views/calendar/CalendarEditEventAddParticipantsView",["jquery","underscore","backbone","shared","models/calendar/EventModel","views/home/LoadingView","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html","text!templates/calendar/calendarEditEventAddParticipantsTemplate.html","collections/contacts/ContactsListCollection"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({model:i,listParticipants:[],senderName:"calendar",events:{"keypress .searchField":"searchGeneralContacts","click .css-checkbox":"addParticipant"},render:function(){this.listGeneralContacts("")},listGeneralContacts:function(n){var i=this,f,l,c;r.isSmartPhoneResolution()?(this.$el.html(t.template(u)),e("#content").empty().append(this.$el),f=e("#contentTitle"),l=e("#scroller"),c="#message"):(this.$el.html(t.template(o)),e("#contentDetail").empty().append(this.$el),f=e("#contentDetailTitle"),l=e("#scrollerDetail"),c="#messageDetail");var h=new s({el:l});h.render(),f.text("Adicionar participantes");var p=function(e){e.error==undefined?l.empty().append(t.template(a,e)):(e.error.code=="1001"&&r.showMessage({type:"chat-message",icon:"icon-contacts",title:"Sua busca deve ser específica.",route:"",description:"Procure pelo nome e sobrenome.<br>Nenhum resultado será exibido caso a sua busca retorne mais do que 200 contatos.",timeout:0,animate:!1,elementID:c}),e.error.code=="1019"&&r.showMessage({type:"error",icon:"icon-contacts",title:"Nenhum Resultado Encontrado.",route:"",description:"Procure pelo nome e sobrenome.<br>Nenhum resultado será exibido caso a sua busca retorne mais do que 200 contatos.",timeout:0,animate:!1,elementID:c}),l.empty()),i.setElement(i.$el),i.loaded()};this.listContacts(n,"2",p,p)},listContacts:function(e,n,r,i){var s=this,o=new f;o.done(function(n){r({contacts:n.models,search:e,listParticipants:s.model.get("eventParticipants"),_:t})}).fail(function(e){i({error:e.error,_:t})}).getContacts(e,n)},searchGeneralContacts:function(t){if(t.keyCode==13){var n=e(".searchField").val(),r="";n.length>=3?r=n:r="",(r.length>=3||this.searchLength>=3)&&this.listGeneralContacts(r),this.searchLength=n.length}},loaded:function(){var t=e(".topHeader").outerHeight(!0),n=e(".searchArea").outerHeight(true)==null?0:e(".searchArea").outerHeight(!0);r.isSmartPhoneResolution()?e("#wrapper").css("top",t+n):e("#wrapperDetail").css("top",t+n),r.scrollerRefresh();var i={};i.saveCallBack=this.backToEditEvent,i.parentCallBack=this,r.menuView.renderContextMenu("calendarAddEventParticipant",i)},initialize:function(e){this.listParticipants=e.listParticipants,this.model=e.model,this.view=e.view},backToEditEvent:function(e){e.target&&(e.preventDefault(),e=this),e.senderName=="compose"?e.view.addContactToField({model:e.model,listParticipants:e.listParticipants}):e.view.render({model:e.model,listParticipants:e.listParticipants})},addParticipant:function(n){var r=this.model.get("eventParticipants"),i=this.listParticipants,s=e(n.target).val(),o=e(n.target).attr("data-name"),u=e(n.target).attr("data-mail"),a=t.isEmpty(r)?-1:t.indexOf(r,s),f=a;t.each(i,function(e,t){e.participantID==s&&e.participantName==o&&(f=t)}),e(n.target).is(":checked")?a==-1&&(r.push(s),i.push({participantID:s,participantName:o,participantMail:u})):a!=-1&&(r.splice(a,1),i.splice(f,1)),this.model.set({eventParticipants:r}),this.listParticipants=i}});return l}),define("text!templates/mail/composeMessageTemplate.html",[],function(){return'<!--<h2 id="msgSubjectTitle" class="font-big"><% if (message.get("msgSubject") != "") { %><%=message.get("msgSubject")%><% } else { %>Nova Mensagem<% } %></h2>-->\n<div class="expresso-cards mdl-card">\n<article id="wrapperDetail" class="contentScroll" style="width: 100%">\n	<div id="scrollerDetail">\n		<table id="messageDetails"> \n	        <tr id="msgToRow detailRow">\n		        <td class="item detailCol">\n		          Para:\n		        </td>\n		        <td class="descriptionCompose detailCol">\n		        	<% if (Shared.userHasModule("catalog")) { %>\n		        		<% if (Shared.apiVersion != "1.0") { %>\n		        		<div id="addMsgToField" class=\'icon-add\'></div>\n		        		<% } %>\n		        	<% } %>\n		        	<div id="msgToRecipients">\n						<% if (message.get("msgTo")) {  %>\n		                  	<% _.each(message.get("msgTo"), function(msgRecipient){ %>\n		                  		<div class="recipientmsgTo" data-mail="<%=msgRecipient.mailAddress%>">\n				                    <span class="badge badge-write-message">\n				                    <% if ($.trim(msgRecipient.fullName) != \'\') { %> \n				                      <%=$.trim(msgRecipient.fullName)%>\n				                    <% } else { %>\n				                      <%=msgRecipient.mailAddress%>\n				                    <% } %>\n				                    </span>\n				                    <input type="text" class="msgToInput hidden" value=\'<%=message.getEmailStringForMessageRecipient(msgRecipient)%>\'>\n			                	</div>\n		                  	<% }); %>\n		                <% } %>\n	            	</div>\n	                <input type="text" id="msgToInput" name="msgToInput" class="inputMessage" value="">\n	                <div class="clear"></div>\n		        </td>\n	    	</tr>\n		    <tr id="msgCcRow" class="detailRow <% if (message.get("msgCc").length == 0) {  %>hidden<% } %>">\n		        <td class="item detailCol">\n		          Cc:\n		        </td>\n		        <td class="descriptionCompose detailCol">\n		        	<% if (Shared.userHasModule("catalog")) { %>\n		        		<% if (Shared.apiVersion != "1.0") { %>\n		        			<div id="addMsgCcField" class=\'icon-add\'></div>\n		        		<% } %>\n		        	<% } %>\n		        	<div id="msgCcRecipients">\n						<% if (message.get("msgCc")) {  %>\n		                  	<% _.each(message.get("msgCc"), function(msgRecipient){ %>\n		                  		<div class="recipientmsgCc" data-mail="<%=msgRecipient.mailAddress%>">\n				                    <span class="badge badge-write-message">\n				                    <% if ($.trim(msgRecipient.fullName) != \'\') { %> \n				                      <%=$.trim(msgRecipient.fullName)%>\n				                    <% } else { %>\n				                      <%=msgRecipient.mailAddress%>\n				                    <% } %>\n				                    </span>\n				                    <input type="text" class="msgCcInput hidden" value=\'<%=message.getEmailStringForMessageRecipient(msgRecipient)%>\'>\n			                	</div>\n		                  	<% }); %>\n\n		                <% } %>\n	            	</div>\n	                <input type="text" id="msgCcInput" name="msgCcInput" class="inputMessage">\n	                <div class="clear"></div>\n		        </td>\n	    	</tr>\n	    	<tr id="msgBccRow" <% if (message.get("msgBcc").length == 0) {  %>class="hidden"<% } %>>\n		        <td class="item detailCol">\n		          Bcc:\n		        </td>\n		        <td class="descriptionCompose detailCol">\n		        	<% if (Shared.userHasModule("catalog")) { %>\n		        		<% if (Shared.apiVersion != "1.0") { %>\n		        			<div id="addMsgBccField" class=\'icon-add\'></div>\n		        		<% } %>\n		        	<% } %>\n		        	<div id="msgBccRecipients">\n						<% if (message.get("msgBcc")) {  %>\n		                  	<% _.each(message.get("msgBcc"), function(msgRecipient){ %>\n		                  		<div class="recipientmsgBcc" data-mail="<%=msgRecipient.mailAddress%>">\n				                    <span class="badge badge-write-message">\n				                    <% if ($.trim(msgRecipient.fullName) != \'\') { %> \n				                      <%=$.trim(msgRecipient.fullName)%>\n				                    <% } else { %>\n				                      <%=msgRecipient.mailAddress%>\n				                    <% } %>\n				                    </span>\n				                    <input type="text" class="msgBccInput hidden" value=\'<%=message.getEmailStringForMessageRecipient(msgRecipient)%>\'>\n			                	</div>\n		                  	<% }); %>\n		                <% } %>\n	            	</div>\n\n	                <input type="text" id="msgBccInput" name="msgBccInput" class="inputMessage">\n	                <div class="clear"></div>\n		        </td>\n	    	</tr>\n	    	<tr id="msgSubjectRow">\n		        <td class="item detailCol">\n		          Assunto:\n		        </td>\n		        <td class="descriptionCompose detailCol">\n		        	<input type="text" id="msgSubjectInput" name="msgSubject" class="inputMessage" value="<%=message.get("msgSubject")%>" autocorrect="off" autocapitalize="off" style="width: 70%;">\n		        </td>\n	    	</tr>\n	    	<tr id="msgAttachmentsRow" class="hidden detailRow">\n		        <td class="item detailCol">\n		          Anexos:\n		          <input type="file" id="attachment_input" name="attachment_input_temp" class="hidden">\n		        </td>\n		        <td class="descriptionCompose detailCol">\n		        	\n		        	<div id="msgAttachmentsRecipients">\n		        		\n		        		<% if (isDesktop) { %>\n		        		<div class="clear"></div>\n		        		<div id="add_attachment" class="icon-add-attachment"></div>\n						<div id="drop_zone_text">\n							Arraste e solte os arquivos aqui...\n						</div>\n						<% } %>\n						\n	            	</div>\n		        </td>\n	    	</tr>\n\n	    	\n	    	<tr id="msgBodyRow detailRow">\n	    		<td class="itemBody detailCol" colspan="2">\n	    			<div id="msgBodyInput" class="messageBodyInput" style="width: 100%;" contenteditable="true"><%=message.getMessageBody(withSignature,msgType,msgOriginal)%></div>\n	    		</td>\n	    	</tr>\n	    </table>\n	</div>\n</article>\n</div>'}),define("views/mail/ComposeMessageView",["jquery","underscore","backbone","shared","autocomplete","views/calendar/CalendarEditEventAddParticipantsView","text!templates/mail/composeMessageTemplate.html","models/mail/MessagesModel","collections/mail/MessagesCollection","collections/home/ContextMenuCollection","views/mail/PreviewAttachmentMessageView","views/home/LoadingView","collections/contacts/ContactsListCollection"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.View.extend({secondViewName:"",emailTo:"",msgID:"",folderID:"",currentMessage:"",addContactToField:function(e){for(var t=0,n;participant=e.listParticipants[t];t++)e.model.addRecipient(e.model.get("currentField"),participant.participantMail,participant.participantName);this.renderComposeMessage(e.model,!1)},renderComposeMessage:function(n,i,s,u){var a="#contentDetail";r.isSmartPhoneResolution()&&(a="#content");var f=!0;i==0&&(f=!1);var l={_:t,message:n,isDesktop:r.isDesktop(),withSignature:f,msgType:s,msgOriginal:u,Shared:r},c=t.template(o,l);this.$el.html(""),this.$el.html(c);var h=!1;h||e(a).empty().append(this.$el);if(r.isDesktop()){var p=this,d=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},v=function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files,n=r.currentDraftMessage.getQtdFiles();for(var i=0,s;s=t[i];i++)p.prependAttachmentImage(n,s.name,s.size,"binary",t[i]),r.currentDraftMessage.addBinaryFile(n,escape(s.name),t[i]),n+=1;p.updateBody()},m=document.getElementById("msgAttachmentsRecipients");e(m).addClass("drop_zone"),e("#msgAttachmentsRow").removeClass("hidden"),m.addEventListener("dragover",d,!1),m.addEventListener("drop",v,!1),this.setupAutoComplete()}this.renderContextMenu(),this.loaded()},renderAttachments:function(e){this.showAttachments(),r.currentDraftMessage.clearFiles();if(e!=undefined){var t=e.get("msgAttachments");for(var n in t){var i=t[n],s=new l;s.fileID=i.attachmentID,s.fileName=i.attachmentName,s.fileSize=i.attachmentSize,s.fileEncoding=i.attachmentEncoding,s.fileIndex=i.attachmentIndex,s.msgID=e.get("msgID"),s.folderID=e.get("folderID"),s.fileData="",s.previewType="compose";var o=function(e,t,n,i){r.currentDraftMessage.addFile(e,t,n,i)};s.forceDownloadFile=o,s.render()}}},setupAutoComplete:function(){if(r.userHasModule("catalog")){var t=this,n=new h;n.done(function(n){var r=t,i=function(t){var n="msgTo";e("#"+n+"Input").val(""),r.prependEmailRecipientBadgeToDiv(n,"#"+n+"Recipients",t.getEmailString(),t.get("contactFirstName")+" "+t.get("contactLastName"))},s=function(t){var n="msgCc";e("#"+n+"Input").val(""),r.prependEmailRecipientBadgeToDiv(n,"#"+n+"Recipients",t.getEmailString(),t.get("contactFirstName")+" "+t.get("contactLastName"))},o=function(t){var n="msgBcc";e("#"+n+"Input").val(""),r.prependEmailRecipientBadgeToDiv(n,"#"+n+"Recipients",t.getEmailString(),t.get("contactFirstName")+" "+t.get("contactLastName"))};e("#msgToInput").autocomplete({collection:n,attr:"contactSearchString",attrID:"contactID",noCase:!0,width:"95%",onselect:i,ul_class:"autocomplete shadow",ul_css:{"z-index":1234},max_results:10}),e("#msgCcInput").autocomplete({collection:n,attr:"contactSearchString",attrID:"contactID",noCase:!0,width:"95%",onselect:s,ul_class:"autocomplete shadow",ul_css:{"z-index":1234},max_results:10}),e("#msgBccInput").autocomplete({collection:n,attr:"contactSearchString",attrID:"contactID",noCase:!0,width:"95%",onselect:o,ul_class:"autocomplete shadow",ul_css:{"z-index":1234},max_results:10})}).fail(function(e){}).getContacts("","1")}},getContextMenuParams:function(){var e={};return e.sendCallBack=this.sendMessage,e.addCcBccCallBack=this.addCcBcc,e.removeCcBccCallBack=this.removeCcBcc,e.takePictureCallBack=this.takePicture,e.selectAttachmentFileCallBack=this.selectAttachmentFile,e.selectPictureCallBack=this.selectPicture,e.parentCallBack=this,e},renderContextMenu:function(){var t=this.getContextMenuParams();e("#msgCcRow").hasClass("hidden")?r.menuView.renderContextMenu("newMessage",t):r.menuView.renderContextMenu("newMessageWithCc",t)},sendMessage:function(t){var n=t,i="#contentDetail";r.isSmartPhoneResolution()&&(i="#content");var s=function(e){var t=JSON.parse(e);if(t.error==undefined)var n={type:"success",icon:"icon-email",title:"Mensagem enviada com sucesso!",description:"",elementID:"#pageMessage"};else var n={type:"error",icon:"icon-email",title:"Sua Mensagem não pode ser enviada!",description:"",elementID:"#pageMessage"};r.showMessage(n),r.router.navigate("/Mail/Messages/1/0/INBOX",{trigger:!0})},o=function(e){var t={type:"error",icon:"icon-email",title:"Ocorreu um erro ao enviar a mensagem!",description:e.message,elementID:"#pageMessage"};r.showMessage(t),r.router.navigate("/Mail/Messages/1/0/INBOX",{trigger:!0})},u=t.getNewMessageModel(),a=t.getMessageStringForRecipient("msgTo"),f=!1;if(a==""){var l={type:"error",icon:"icon-email",title:"Campo 'Para:' Não informado/Inválido!",description:"",elementID:"#pageMessage"};r.showMessage(l),f=!0}var h=u.checkAttachments(!1);if(h!=1){var l={type:"error",icon:"icon-email",title:h,description:"",elementID:"#pageMessage"};r.showMessage(l),f=!0}if(!f){var p=new c({el:e(i)});p.render(),u.send(s,o)}},onFailUploadPicture:function(e){r.showMessage({type:"warning",icon:"icon-email",title:"Não foi possível adicionar a foto aos anexos!",description:"",elementID:"#pageMessage"})},uploadPicture:function(e){var t=r.currentView;t.showAttachments();var n=r.currentDraftMessage.getQtdFiles();t.prependAttachmentImage(n,"Foto "+n+".png","","base64",e),r.currentDraftMessage.addFile(n,e,"Foto "+n+".png","base64"),t.renderContextMenu()},selectPicture:function(e){r.isPhonegap()&&navigator.camera!=undefined?(r.currentView=e,navigator.camera.getPicture(e.uploadPicture,e.onFailUploadPicture,{quality:60,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY})):r.showMessage({type:"error",icon:"icon-email",title:"Seu dispositivo não possui câmera!",description:"",elementID:"#pageMessage"})},takePicture:function(e){r.isPhonegap()&&navigator.camera!=undefined?(r.currentView=e,navigator.camera.getPicture(e.uploadPicture,e.onFailUploadPicture,{quality:60,destinationType:Camera.DestinationType.DATA_URL})):r.showMessage({type:"error",icon:"icon-email",title:"Seu dispositivo não possui câmera!",description:"",elementID:"#pageMessage"})},selectAttachmentFile:function(t){r.currentView=t,e("#attachment_input").click(),t.renderContextMenu()},addAttachmentFile:function(t){t.stopPropagation(),t.preventDefault(),e("#msgAttachmentsRow").removeClass("hidden");var n=this,i=t.target.files;for(var s=0,o;o=i[s];s++){var u=r.currentDraftMessage.getQtdFiles();n.prependAttachmentImage(u,o.name,o.size,"binary",i[s]),r.currentDraftMessage.addBinaryFile(u,escape(o.name),i[s])}var a=e("#attachment_input");a.replaceWith(a=a.clone(!0))},render:function(){var t="#contentDetail",n=this;r.isSmartPhoneResolution()&&(t="#content");if(this.secondViewName=="New"){var i=new u;i.set("msgSubject",""),i.set("msgTo",[]),i.set("msgCc",[]),i.set("msgBcc",[]),i.set("msgBody",""),i.clearFiles(),e.trim(this.emailTo)!=""&&i.addRecipient("msgTo",this.emailTo,"");var n=this;n.renderComposeMessage(i,!0,"new"),e("#msgAttachmentsRow").removeClass("hidden");var s=function(t){r.currentDraftMessage=t;var i=r.currentDraftMessage.get("files");r.isDesktop()||e("#msgAttachmentsRecipients").empty();for(var s=0,o;o=i[s];s++)n.prependAttachmentImage(o.fileID,o.filename,o.fileSize,o.dataType,o.src)};i.addNewMessageFiles(s)}if(this.secondViewName=="DelMessage"){var o=new c({el:e(t)});o.render();var n=this,f=function(){r.showMessage({type:"success",icon:"icon-email",title:"Mensagem apagada com sucesso!",description:"",elementID:"#pageMessage"});var t={msgID:n.msgID,folderID:n.folderID},i=new u(t);r.isTabletResolution()?e("#"+i.listItemID()).animate({opacity:.25,height:"toggle"},1e3,function(){e("#"+i.listItemID()).remove(),e("#scrollerList li:first").addClass("selected"),e("#"+i.listItemID()).animate({opacity:1},1e3,function(){});var t=0,s=0;if(e("#scrollerList li:first").length!==0){var o=e("#scrollerList li:first").attr("id").split("_");t=o[o.length-1]}t==undefined&&(t=0,s=1),r.router.navigate("/Mail/Messages/"+s+"/"+t+"/"+n.folderID,{trigger:!0})}):r.router.navigate("/Mail/Messages/1/0/"+n.folderID,{trigger:!0})},l=function(){r.showMessage({type:"error",icon:"icon-email",title:"Não foi possível apagar a mensagem selecionada!",description:"",elementID:"#pageMessage"}),r.router.navigate("/Mail/Messages/1/0/"+n.folderID+"#",{trigger:!0})},h={msgID:this.msgID,folderID:this.folderID},p=new u(h);p.delete(f,l)}if(this.secondViewName=="ReplyToAll"){var d=function(e){var t=e.models[0],i=new u,s=t.get("msgFrom"),o=t.get("msgTo"),a=t.get("msgCC"),f=t.get("msgBcc"),l=r.profile.contactMails[0];i.set("msgTo",[]),i.set("msgCc",[]),i.set("msgBcc",[]),i.addRecipient("msgTo",s.mailAddress,s.fullName);for(var c in o)o[c].mailAddress!=s.mailAddress&&o[c].mailAddress!=l&&i.addRecipient("msgCc",o[c].mailAddress,o[c].fullName);for(var c in a)i.addRecipient("msgCc",a[c].mailAddress,a[c].fullName);i.set("msgSubject","Re: "+t.get("msgSubject")),r.currentDraftMessage=i,n.renderComposeMessage(i,!0,"reply",t)},v=function(){},o=new c({el:e(t)});o.render();var m=new a;m.getMessageByID(this.folderID,this.msgID).done(d).fail(v).execute()}if(this.secondViewName=="ReplyMessage"){var d=function(e){var t=e.models[0],i=new u,s=t.get("msgFrom");i.set("msgTo",[]),i.addRecipient("msgTo",s.mailAddress,s.fullName),i.set("msgSubject","Re: "+t.get("msgSubject")),r.currentDraftMessage=i,n.renderComposeMessage(i,!0,"reply",t)},v=function(){},o=new c({el:e(t)});o.render();var m=new a;m.getMessageByID(this.folderID,this.msgID).done(d).fail(v).execute()}if(this.secondViewName=="Forward"){var g=function(e){var t=e.models[0],i=new u;i.set("msgID",t.get("msgID")),i.set("folderID",t.get("folderID")),i.set("msgTo",[]),i.set("msgCc",[]),i.set("msgBcc",[]),i.set("msgSubject","Fw: "+t.get("msgSubject")),r.currentDraftMessage=i,t.get("msgHasAttachments")=="1"&&(i.set("msgHasAttachments","1"),i.set("msgAttachments",t.get("msgAttachments")),i.set("files",t.get("files"))),n.renderComposeMessage(i,!0,"forward",t),t.get("msgHasAttachments")=="1"&&n.renderAttachments(r.currentDraftMessage)},y=function(){},o=new c({el:e(t)});o.render();var m=new a;m.getMessageByID(this.folderID,this.msgID).done(g).fail(y).execute()}},addCcBcc:function(e){e.toggleCCBcc();var t=e.getContextMenuParams();r.menuView.renderContextMenu("newMessageWithCc",t)},removeCcBcc:function(e){e.toggleCCBcc();var t=e.getContextMenuParams();r.menuView.renderContextMenu("newMessage",t)},events:{"keydown #msgToInput":"addRecipientTo","keydown #msgCcInput":"addRecipientTo","keydown #msgBccInput":"addRecipientTo","keydown #msgSubjectInput":"updateSubject","keydown #msgBodyInput":"updateBody","click #msgToRow":"focusRecipientTo","click #msgCcRow":"focusRecipientCc","click #msgBccRow":"focusRecipientBcc","click #msgSubjectRow":"focusSubject","click #addMsgToField":"addMsgToField","click #addMsgCcField":"addMsgCcField","click #addMsgBccField":"addMsgBccField","dblclick .recipientmsgTo":"removeRecipientMsgTo","dblclick .recipientmsgCc":"removeRecipientMsgCc","dblclick .recipientmsgBcc":"removeRecipientMsgBcc","touch .recipientmsgTo":"removeRecipientMsgTo","touch .recipientmsgCc":"removeRecipientMsgCc","touch .recipientmsgBcc":"removeRecipientMsgBcc","change #attachment_input":"addAttachmentFile","click #add_attachment":"selectAttachmentFile"},removeRecipientMsgTo:function(t){var n=e(t.currentTarget).attr("data-mail");e(t.currentTarget).remove(),r.currentDraftMessage.removeRecipient("msgTo",n)},removeRecipientMsgCc:function(t){var n=e(t.currentTarget).attr("data-mail");e(t.currentTarget).remove(),r.currentDraftMessage.removeRecipient("msgCc",n)},removeRecipientMsgBcc:function(t){var n=e(t.currentTarget).attr("data-mail");e(t.currentTarget).remove(),r.currentDraftMessage.removeRecipient("msgBcc",n)},addMsgToField:function(e){this.updateCurrentDraftMessage();var t=r.currentDraftMessage,n={currentField:"msgTo",eventParticipants:[],listParticipants:[]};t.set(n);var i=new s({listParticipants:[],model:t,view:new p,senderName:"compose"});i.senderName="compose",i.render()},addMsgCcField:function(e){this.updateCurrentDraftMessage();var t=r.currentDraftMessage,n={currentField:"msgCc",eventParticipants:[],listParticipants:[]};t.set(n);var i=new s({listParticipants:[],model:t,view:new p,senderName:"compose"});i.senderName="compose",i.render()},addMsgBccField:function(e){this.updateCurrentDraftMessage();var t=r.currentDraftMessage,n={currentField:"msgBcc",eventParticipants:[],listParticipants:[]};t.set(n);var i=new s({listParticipants:[],model:t,view:new p,senderName:"compose"});i.senderName="compose",i.render()},updateSubject:function(t){var n=e(t.currentTarget).val();e("#msgSubjectTitle").html(n),t.which==13&&!t.shiftKey&&e("#msgBodyInput").focus()},updateBody:function(e){r.scrollerRefresh()},focusRecipientTo:function(t){e("#msgToInput").focus()},focusRecipientCc:function(t){e("#msgCcInput").focus()},focusRecipientBcc:function(t){e("#msgBccInput").focus()},focusSubject:function(t){e("#msgSubjectInput").focus()},showAttachments:function(t){e("#msgAttachmentsRow").removeClass("hidden")},addRecipientTo:function(t){var n=e(t.currentTarget).val(),i="msgTo",s="msgCc";e(t.currentTarget).attr("id")=="msgToInput"&&(i="msgTo",e("#msgCCBcc").hasClass("hidden")?s="msgSubject":s="msgCc"),e(t.currentTarget).attr("id")=="msgCcInput"&&(i="msgCc",s="msgBcc"),e(t.currentTarget).attr("id")=="msgBccInput"&&(i="msgBcc",s="msgSubject"),e(t.currentTarget).attr("id")=="msgSubjectInput"&&(s="msgBody");if(t.which==13&&!t.shiftKey||t.which==32||t.which==188||t.which==59)this.validateEmail(e.trim(n))?(e(t.currentTarget).val(""),this.prependEmailRecipientBadgeToDiv(i,"#"+i+"Recipients",n),(t.which==188||t.which==59||t.which==32)&&t.preventDefault()):(t.which==13&&!t.shiftKey&&n==""||t.which==9)&&e("#"+s+"Input").focus();t.which==8&&e.trim(n)==""&&(r.currentDraftMessage.removeRecipient(i,e("#"+i+"Recipients div:last-child").attr("data-mail")),e("#"+i+"Recipients div:last-child").remove())},prependAttachmentImage:function(e,t,n,r,i){var s=new l;s.fileID=e,s.fileName=t,s.fileSize=n,s.fileType=r,s.fileData=i,s.render(),this.updateBody()},prependEmailRecipientBadgeToDiv:function(t,n,i,s){var o=e("<div />").addClass("recipient"+t).attr("data-mail",i),u=e("<span />").addClass("badge").addClass("badge-write-message");s==undefined?u.html(i):u.html(s);var a=e("<input />").attr("type","text").addClass("hidden").addClass(t+"Input").attr("name",t+"Input").attr("value",i);u.appendTo(o),a.appendTo(o),r.currentDraftMessage.addRecipient(t,i,""),o.appendTo(e(n))},validateEmail:function(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)},getMessageStringForRecipient:function(t){var n="",r=e("."+t+"Input").length;return e("."+t+"Input").each(function(t,i){n+=e(i).val(),t<r-1&&(n+=", ")}),e("#"+t+"Input").val()!=""&&(n=n+", "+e("#"+t+"Input").val()),n},restoreDraftMessage:function(){var t=r.currentDraftMessage,n=t.get("msgSubject");n!=""&&e("#msgSubjectTitle").html(t.get("msgSubject")),e("#msgSubjectInput").val(n),e("#msgBodyInput").html(t.get("msgBody"))},updateCurrentDraftMessage:function(){var e=this.getNewMessageModel();r.currentDraftMessage=e},getNewMessageModel:function(){var t={};r.currentDraftMessage&&(t=r.currentDraftMessage.get("files"));var n=this.getMessageStringForRecipient("msgTo"),i=e("#msgSubjectInput").val(),s=this.getMessageStringForRecipient("msgCc"),o=this.getMessageStringForRecipient("msgBcc"),a=e("#msgBodyInput").html(),f={msgTo:r.currentDraftMessage.get("msgTo"),msgCc:r.currentDraftMessage.get("msgCc"),msgBcc:r.currentDraftMessage.get("msgBcc"),msgToString:n,msgCcString:s,msgBccString:o,msgSubject:i,msgBody:a,msgType:"html"},l=new u(f),c="base64,";return l.clearFiles(),l.set("files",t),l},toggleCCBcc:function(){e("#msgCcRow").hasClass("hidden")?(e("#msgCcRow").removeClass("hidden"),e("#msgBccRow").removeClass("hidden")):(e("#msgCcRow").addClass("hidden"),e("#msgBccRow").addClass("hidden"))},refreshWindowHeight:function(){var t=e(".topHeader").outerHeight(!0),n=e("#composeMessageHeader").outerHeight(true)==null?0:e("#composeMessageHeader").outerHeight(!0);e("#msgBody").height(e(window).height()-t-n)},loaded:function(){this.refreshWindowHeight();var t=e("#msgBodyInput").width(),n=e("#contentDetail").width();r.isTabletResolution()?t+13>=n&&e("#scrollerDetail").width(t+13):e("#scrollerDetail").width("100%")}});return p}),define("text!templates/mail/editFolderTemplate.html",[],function(){return'<!-- <div id="modalEditFolder" class="modal fade">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title"><%=title%></h4>\n      </div>\n      <div class="modal-body">\n        <p><form id="changePassword">\n			<ol>\n				<li>\n					<input type="text" name="folderName" id="folderName" placeholder="Nome da Pasta" value="<%=folderName%>" />\n					<input type="hidden" name="folderID" id="folderID" value="<%=folderID%>" />\n					<input type="hidden" name="parentFolderID" id="parentFolderID" value="<%=parentFolderID%>" />\n					<input type="hidden" name="folderAction" id="folderAction" value="<%=folderAction%>" />\n				</li>\n			</ol>\n		</form></p>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>\n        <button type="button" class="btn btn-primary">Salvar</button>\n      </div>\n    </div>\n  </div>\n</div> -->\n<div class="expresso-cards mdl-card mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">\n	<!-- <h2 class="font-big"><%=title%></h2> -->\n	<article id="wrapperDetail" class="contentScroll">\n		<div id="scrollerDetail">\n			<form id="changePassword">\n				<ol>\n					<li>\n						<input type="text" name="folderName" id="folderName" placeholder="Nome da Pasta" value="<%=folderName%>" />\n						<input type="hidden" name="folderID" id="folderID" value="<%=folderID%>" />\n						<input type="hidden" name="parentFolderID" id="parentFolderID" value="<%=parentFolderID%>" />\n						<input type="hidden" name="folderAction" id="folderAction" value="<%=folderAction%>" />\n					</li>\n				</ol>\n			</form>\n	  	</div>\n	</article>\n</div>\n'}),define("views/mail/EditFolderView",["jquery","underscore","backbone","shared","text!templates/mail/editFolderTemplate.html","collections/mail/FoldersCollection"],function(e,t,n,r,i,s){var o=n.View.extend({action:"addFolder",folderID:"",folderName:"Nova Pasta",parentFolderID:"INBOX",render:function(){this.elementID="#content";if(this.action=="renameFolder"){title="Renomear Pasta";var t=new s,n=this;t.getFolders(this.folderID,this.search).done(function(e){var t=e.getFolderByID(n.folderID);n.folderName=t.get("folderName"),n.renderView()}).fail(function(t){return r.handleErrors(t.error),e(n.elementID).empty(),e(n.detailElementID).empty(),!1}).execute()}else this.renderView()},renderView:function(){var n="";this.action=="addFolder"&&(n="Adicionar Pasta"),this.action=="renameFolder"&&(n="Renomear Pasta");var s={_:t,Shared:r,title:n,folderName:this.folderName,folderID:this.folderID,parentFolderID:this.parentFolderID,folderAction:this.action},o=t.template(i,s);this.$el.html(o),e(this.elementID).empty().append(this.$el);var u={};u.saveCallBack=this.saveFolder,u.parentCallBack=this,r.menuView.renderContextMenu("editFolder",u),r.deviceType(!0)},cleanTrash:function(e){var t=new s;t.cleanTrash().done(function(t){var n={type:"success",icon:"icon-email",title:"Lixeira foi esvaziada com sucesso!",description:"",elementID:"#pageMessage"};r.showMessage(n),r.menuView.refreshFolders(),r.router.navigate("/Mail/Messages/1/0/"+e+"#",{trigger:!0})}).fail(function(t){var n={type:"error",icon:"icon-email",title:"Não foi possível esvaziar a lixeira!",description:"",elementID:"#pageMessage"};r.showMessage(n),r.router.navigate("/Mail/Messages/1/0/"+e+"#",{trigger:!0})}).execute()},saveFolder:function(){var t=e("#folderAction").val(),n=e("#folderName").val(),i=e("#folderID").val(),o=e("#parentFolderID").val(),u=new s;t=="addFolder"&&u.addFolder(n,o).done(function(e){var t={type:"success",icon:"icon-email",title:"Nova pasta adicionada com sucesso!",description:"",elementID:"#pageMessage"};r.showMessage(t),r.deviceType(r.isSmartPhoneResolution()),r.menuView.refreshFolders(),r.router.navigate("/Mail/Messages/1/0/"+e.folderID+"#",{trigger:!0})}).fail(function(e){var t={type:"error",icon:"icon-email",title:"Não foi possível adicionar esta pasta!",description:"",elementID:"#pageMessage"};e.error.code=="1011"&&(t.title="Não foi possível adicionar uma pasta com esse nome!"),e.error.code=="1011"&&(t.title="Não foi possível adicionar uma pasta com esse nome!"),r.showMessage(t)}).execute(),t=="renameFolder"&&u.renameFolder(n,i).done(function(e){var t={type:"success",icon:"icon-email",title:"Pasta renomeada com sucesso!",description:"",elementID:"#pageMessage"};r.showMessage(t),r.deviceType(r.isSmartPhoneResolution()),r.menuView.refreshFolders(),r.router.navigate("/Mail/Messages/1/0/"+e.folderID+"#",{trigger:!0})}).fail(function(e){var t={type:"error",icon:"icon-email",title:"Não foi possível renomear esta pasta!",description:"",elementID:"#pageMessage"};e.error.code=="1011"&&(t.title="Não foi possível adicionar uma pasta com esse nome!"),r.showMessage(t)}).execute()},deleteFolder:function(e){var t=new s;t.deleteFolder(e).done(function(e){var t={type:"success",icon:"icon-email",title:"A pasta foi excluída com sucesso!",description:"",elementID:"#pageMessage"};r.showMessage(t),r.menuView.refreshFolders(),r.router.navigate("/Mail/Messages/1/0/INBOX#",{trigger:!0})}).fail(function(e){var t={type:"error",icon:"icon-email",title:"Não foi possível excluir esta pasta!",description:"",elementID:"#pageMessage"};r.showMessage(t)}).execute()}});return o}),define("text!templates/settings/settingsListTemplate.html",[],function(){return'<!-- <h2 id="contentTitle" class="font-big icon-settings" style="padding-left: 50px; background-position: 10px;">Prefer&ecirc;ncias</h2> -->\n<div id="wrapper" class="contentScroll">\n	<div id="scroller">\n\n		<dl id="settingsList">\n			<% if (Shared.apiVersion != "1.0") { %>\n			<dt>Conta de e-mail</dt>\n			<dd>\n				<ul>\n					\n					<% if (Shared.userHasModule("catalog")) { %>\n						<a href="/Contacts/General/<%=user.contactUIDNumber%>" class="listItemLink" rowid="row_account"><% if (!_.isNull(user.contactMails[0])) { %><li id="row_account"><%=user.contactMails[0]%><% } %></li></a>\n						<% } else { %>\n\n						<% if (!_.isNull(user.contactMails[0])) { %><li id="row_account"><%=user.contactMails[0]%></li><% } %>\n					<% } %>\n					<a href="/Settings/ChangePassword" class="listItemLink" rowid="row_changepassword">\n						<li id="row_changepassword">Alterar senha</li>\n					</a>\n					\n					<!-- <li id="row_automaticLogin">\n						<label for="automaticLogin" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">\n						  <input type="checkbox" id="automaticLogin" class="mdl-switch__input" />\n						  <span class="mdl-switch__label">Login Automatico</span>\n						</label>\n					</li> -->\n				</ul>\n			</dd>\n				<% if (Shared.userHasModule("mail")) { %>\n				<dt>Configura&ccedil;&otilde;es do Email</dt>\n				<dd>\n					<ul>\n						<a href="/Settings/ResultsPerPage" class="listItemLink" rowid="row_resultsperpage"><li id="row_resultsperpage">Resultados por p&aacute;gina</li></a>\n						<a href="/Settings/MailSignature" class="listItemLink" rowid="row_mailsignature"><li id="row_mailsignature">Assinatura de e-mail</li></a>\n					</ul>\n				</dd>\n				<% } %>\n			<% } %>\n			<dt>Expresso</dt>\n			<dd>\n				<ul>\n					<a href="/Settings/Support" class="listItemLink" rowid="row_support"><li id="row_support">Suporte / Sugest&otilde;es</li></a>\n					<a href="/Settings/About" class="listItemLink" rowid="row_about"><li id="row_about">Sobre o Expresso</li></a>\n					<a href="/Settings/FAQ" class="listItemLink" rowid="row_faq"><li id="row_faq">Perguntas Frequentes</li></a>\n					<a href="/Settings/Credits" class="listItemLink" rowid="row_credits"><li id="row_credits">Cr&eacute;ditos</li></a>\n				</ul>\n			</dd>\n		</dl>\n	</div>\n</div>'}),define("text!templates/settings/settingsAboutListTemplate.html",[],function(){return'<!-- <h2 class="font-big">Sobre o Expresso</h2> -->\n<div class="expresso-email animation-fadein">\n    <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n      <h2 class="mdl-card__title-text">Sobre o Expresso</h2>\n    </div>\n	<article id="wrapperDetail" class="contentScroll">\n		<div id="scrollerDetail">\n\n			<dl id="aboutExpresso">\n\n				<div class="login-center" style="width: 245px; margin-top: 50px; margin-bottom: 50px;">\n				      <div class="login-logo"></div>\n				</div>\n				\n				<dt>O que &eacute;</dt>\n				<dd>O Expresso Livre &eacute; uma solu&ccedil;&atilde;o completa de comunica&ccedil;&atilde;o que re&uacute;ne Email, Agenda, Cat&aacute;logo de Endere&ccedil;os, Workflow e Mensagens Instant&acirc;neas em um &uacute;nico ambiente. Por ser uma vers&atilde;o customizada do E-GroupWare, seu desenvolvimento tamb&eacute;m &eacute; totalmente baseado em software livre.</dd>\n\n				<dt>Caracter&iacute;sticas</dt>\n				<dd>- Alta Escalabilidade<br>\n					- Baixo custo<br>\n					- Utiliza&ccedil;&atilde;o de protocolos padr&oatilde;es<br>\n					- Integra&ccedil;&atilde;o com outros sistemas Web<br>\n					- Independ&ecirc;ncia de fornecedor<br>\n					- Independ&ecirc;ncia de plataforma cliente<br>\n					- Independ&ecirc;ncia de plataforma servidor<br>\n					- Mobilidade dos usu&aacute;rios<br>\n				</dd>\n\n				<dt>Saiba mais</dt>\n				<dd><a href="#">www.expressolivre.org</a></dd>\n\n				<dt>Vers&otilde;es</dt>\n				<dd>\n					<ul>\n						<li>Vers&atilde;o da Aplica&ccedil;&atilde;o: <b><%=appVersion%></b></li>\n						<li>Vers&atilde;o do Expresso: <b><%=expressoVersion%></b></li>\n						<li>Vers&atilde;o da API: <b><%=apiVersion%></b><br><br><br><br><br></li>\n					</ul>\n				</dd>\n					\n			</dl>\n	  	</div>\n	</article>\n</div>\n'}),define("views/settings/SettingsAboutListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsAboutListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#content"),render:function(){var e=this;r.api.resource("/ExpressoVersion").params({}).done(function(n){var s={expressoVersion:n.expressoVersion,apiVersion:n.apiVersion,appVersion:r.appVersion,_:t},o=t.template(i,s);e.$el.html(o)}).execute()}});return s}),define("text!templates/settings/settingsChangePasswordListTemplate.html",[],function(){return'\n<form id="changePassword" style="">\n      <div class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Alterar Senha</h2>\n        </div>\n        <div class="mdl-color-text--grey-600" style="padding: 20px;">\n          	<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n		      <input id="senhaAtual" type="password" name="senhaAtual" class="mdl-textfield__input" type="text" style="width: 90%"  />\n		      <label class="mdl-textfield__label" for="senhaAtual">Senha Atual</label>\n		  	</div>\n		  	<br>\n		  	<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n		      <input id="novaSenha" type="password" name="novaSenha" class="mdl-textfield__input" type="text"  style="width: 90%"  />\n		      <label class="mdl-textfield__label" for="novaSenha">Nova Senha</label>\n		  	</div>\n		  	<br>\n		  	<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n		      <input id="repetirNovaSenha" type="password" name="repetirNovaSenha" class="mdl-textfield__input" type="text" style="width: 90%" />\n		      <label class="mdl-textfield__label" for="repetirNovaSenha">Repetir nova senha</label>\n		  	</div>\n        </div>\n        <!-- <div class="mdl-card__actions mdl-card--border">\n        	<button id="btn-changepassword" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="width: 100%;">\n              Alterar Senha\n            </button>\n        </div> -->\n      </div>\n</form>'}),define("views/settings/SettingsChangePasswordListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsChangePasswordListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#content"),render:function(){var e={_:t},n=t.template(i,e);this.$el.html(n),r.menuView.renderContextMenu("changePassword",{saveCallBack:this.SaveChangePassword,parentCallBack:this})},events:{"click #btn-changepassword":"changePassword"},changePassword:function(e){this.loginUser(userName,passwd,serverURL)},SaveChangePassword:function(t){var n=e("#senhaAtual").val(),i=e("#novaSenha").val(),s=e("#repetirNovaSenha").val();r.menuView.renderContextMenu("changePassword",{saveCallBack:t.SaveChangePassword,parentCallBack:t});var o="";i!=s&&(o="Nova Senhas são diferentes!");if(n==i||n==s)o="A nova senha deve ser diferente da senha atual!";if(s==""||s==undefined)o="Repetição da nova senha não informada/inválida!";if(i==""||i==undefined)o="Nova senha não informada/inválida!";if(n==""||n==undefined)o="Senha atual não informada/inválida!";if(o==""){var u=this;n=encodeURIComponent(n),i=encodeURIComponent(i),s=encodeURIComponent(s),r.api.resource("Preferences/ChangePassword").params({currentPassword:n,newPassword_1:i,newPassword_2:s}).done(function(e){r.showMessage({type:"success",icon:"icon-settings",title:"Sua nova senha foi alterada com sucesso!",description:"",elementID:"#pageMessage"}),r.router.navigate("/Settings",{trigger:!0})}).fail(function(e){var t="";switch(e.error.code){case"1054":t="Senha atual Não Informada/Inválida!";break;case"1055":t="Nova Senha Não Informada/Inválida!";break;case"1056":t="Nova Senhas são diferentes!";break;case"1057":t="Senha atual Não Informada/Inválida!";break;case"1058":t="Seu usuário não possui permissão de alterar a senha.";break;case"1059":t="Sua senha deve conter 8 ou mais caracteres.";break;case"1060":t="Sua senha deve conter no mínimo 2 números ou caracteres especiais.";break;case"1061":t="Não foi possível alterar a senha, não existe suporte para certificados digitais.";break;default:}r.showMessage({type:"error",icon:"icon-settings",title:t,description:"",elementID:"#pageMessage"})}).execute()}else r.showMessage({type:"error",icon:"icon-settings",title:o,description:"",elementID:"#pageMessage"})}});return s}),define("text!templates/settings/settingsCreditsListTemplate.html",[],function(){return'<div class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Cr&eacute;ditos</h2>\n        </div>\n		<article id="wrapperDetail" class="contentScroll">\n			<div id="scrollerDetail">\n\n				<dl id="credits">\n					\n					<dt>Projeto desenvolvido por:</dt>\n					<dd>CELEPAR - Companhia de Tecnologia da Informa&ccedil;&atilde;o e Comunica&ccedil;&atilde;o do Estado do Paran&aacute;\n						<br><br>\n						<div class="login-company-logo"></div>\n					</dd>\n\n					<dt>Desenvolvedores</dt>\n					<dd>\n						<ul>\n							<li>Alexandre Rocha Wendling</li>\n							<li>Jair Gon&ccedil;alves Pereira Jr</li>\n							<li>Rafael Katayama Gobara</li>\n						</ul>\n					</dd>\n\n					<dt>Desenvolvedores API</dt>\n					<dd>\n						<ul>\n							<li>Alexandre Luiz Correia</li>\n							<li>Alexandre Rocha Wendling</li>\n							<li>Anderson Tadayuki Saikawa</li>\n							<li>Jair Gon&ccedil;alves Pereira Jr</li>\n							<li>Nilton Emilio Buhrer Neto</li>\n							<li>Rafael Katayama Gobara</li>			\n						</ul>\n					</dd>\n\n					<dt>Design e Padrão de Usabilidade</dt>\n					<dd>\n						<ul>\n							<li>Carlos Henrique Roland</li>\n							<li>Jair Gon&ccedil;alves Pereira Jr</li>\n							<li>Rafael Katayama Gobara</li>			\n						</ul>\n					</dd>\n\n					<dt>Biliotecas utilizadas</dt>\n					<dd>\n						<ul>\n							<li>Bacbkone</li>\n							<li>RequireJS</li>\n							<li>Underscore</li>\n							<li>jQuery</li>\n							<li>Moment.js</li>\n							<li>PhoneGap</li>\n							<li>jQuery Dot Dot Dot</li>\n							<li>jQuery XMPP</li>\n						</ul>\n					</dd>\n\n				</dl>\n\n		  	</div>\n		</article>\n</div>'}),define("views/settings/SettingsCreditsListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsCreditsListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#content"),render:function(){var e={_:t},n=t.template(i,e);this.$el.html(n)}});return s}),define("text!templates/settings/settingsMailSignatureListTemplate.html",[],function(){return'<div id="emailSignature" class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Assinatura de e-mail</h2>\n        </div>\n	<input type="hidden" id="typeSignature" name="typeSignature" value="<%=typeSignature%>">\n		<% if (typeSignature == \'html\') { %>\n		<div id="assinaturaEmailHTML"  class="messageBodyInput" style="width: 100%; min-height: 400px; border: 0px; margin: 20px;" contenteditable="true">\n			<%=mailsignature%>\n		</div>\n		<% } else { %>\n		<textarea name="assinaturaEmail" id="assinaturaEmail" placeholder="Mensagem enviada pelo Expresso Mobile." style="border: 0px;"><%=mailsignature%></textarea>\n		<% } %>\n\n</div>'}),define("views/settings/SettingsMailSignatureListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsMailSignatureListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#content"),render:function(){var e="",n="",s=this;r.api.resource("Preferences/UserPreferences").params({module:"mail"}).done(function(o){e=o.mail.signature,n=o.mail.type_signature;var u={_:t,mailsignature:e,typeSignature:n},a=t.template(i,u);s.$el.html(a),r.menuView.renderContextMenu("mailsignature",{})}).fail(function(e){}).execute()},SaveMailSignature:function(){var t="";e("#typeSignature").val()=="html"?t=e("#assinaturaEmailHTML").html():t=e("#assinaturaEmail").val(),r.api.resource("Preferences/ChangeUserPreferences").params({module:"mail",preference:"signature",value:t}).done(function(n){r.settings.mailSignature=t,r.settings.typeSignature=e("#typeSignature").val(),r.saveSettingsToLocalStorage(),r.showMessage({type:"success",icon:"icon-settings",title:"Sua preferência foi salva com sucesso!",description:"",elementID:"#pageMessage"}),r.router.navigate("/Settings",{trigger:!0})}).fail(function(e){}).execute()}});return s}),define("text!templates/settings/settingsResultsPerPageListTemplate.html",[],function(){return'<!-- <h2 class="font-big">Resultados Por P&aacute;gina</h2> -->\n <div class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Resultados Por P&aacute;gina</h2>\n        </div>\n<article id="wrapperDetail" class="contentScroll">\n	<div id="scrollerDetail">\n		<div id="detailList">\n			<ul>\n				<% _.each(possibleValues, function(value){ %>\n				<li value="<%=value%>" <% if (resultsperpage == value) { %>class="selected"<% } %>>\n					<a href="#" class="detailListItemLink">\n						<h3><%=value%></h3>\n					</a>\n				</li>\n				<% }); %>\n			</ul>\n		</div>\n  	</div>\n</article>\n</div>'}),define("views/settings/SettingsResultsPerPageListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsResultsPerPageListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({elementID:"#content",render:function(){var n=[25,50,75,100],s=this;r.api.resource("Preferences/UserPreferences").params({module:"mail",preference:"max_email_per_page"}).done(function(r){var o=25;o=r.mail.max_email_per_page;var u={_:t,resultsperpage:o,possibleValues:n},a=t.template(i,u);s.$el.html(a),e(s.elementID).empty().html(s.$el)}).fail(function(e){}).execute()},events:{"click a.detailListItemLink":"selectListItem"},selectListItem:function(t){t.preventDefault(),e("#detailList li").each(function(){e(this).hasClass("listDivision").toString()=="false"&&e(this).removeClass("selected")});var n=e(t.target).parent();n.hasClass("detailListItemLink")&&(n=n.parent()),n.addClass("selected");var i=e(n).attr("value");r.settings.resultsPerPage=i,r.saveSettingsToLocalStorage(),r.api.resource("Preferences/ChangeUserPreferences").params({module:"mail",preference:"max_email_per_page",value:i}).done(function(e){r.showMessage({type:"success",icon:"icon-settings",title:"Sua preferência foi salva com sucesso!",description:"",elementID:"#pageMessage"}),r.isSmartPhoneResolution()&&r.router.navigate("/Settings",{trigger:!0})}).fail(function(e){}).execute()}});return s}),define("text!templates/settings/settingsSupportListTemplate.html",[],function(){return'<div id="support" class="expresso-email animation-fadein">\n        <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Suporte / Sugest&otilde;es</h2>\n        </div>\n		<textarea name="sugestao" id="sugestao" placeholder="Envie suas sugest&otilde;es ou cr&iacute;ticas para o time que administra o Expresso."></textarea>\n</div>\n\n<!-- <h2 class="font-big">Suporte / Sugest&otilde;es</h2> \n<article id="wrapperDetail" class="contentScroll">\n	<div id="scrollerDetail">\n		<div id="support">\n			<ol>\n				<li>\n					<textarea name="sugestao" id="sugestao" placeholder="Envie suas sugest&otilde;es ou cr&iacute;ticas para o time que administra o Expresso."></textarea>\n				</li>\n			</ol>\n		</div>\n  	</div>\n</article>\n-->'}),define("views/settings/SettingsSupportListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsSupportListTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({el:e("#content"),render:function(){var e={_:t},n=t.template(i,e);this.$el.html(n),r.menuView.renderContextMenu("support",{saveCallBack:this.SendSupportFeedback,parentCallback:this})},SendSupportFeedback:function(){var t=e("#sugestao").val();if(t=="")r.showMessage({type:"error",icon:"icon-settings",title:"Por favor, escreva sua sugestão!",description:"",elementID:"#pageMessage"});else{var n="Mensagem enviada pelo Expresso Mobile: ",i="",s="";r.isPhonegap()&&(i+="Phonegap,"),r.isAndroid()&&(i+="Android"),r.isIDevice()&&(i+="iOS"),r.isDesktop()&&(s+="Desktop,"),r.isTabletResolution()?s+="Tablet":r.isSmartPhoneResolution()&&(s+="SmartPhone"),n=n+s+" - "+i+"<br><br>",t=n+t,r.api.resource("Mail/SendSupportFeedback").params({message:t}).done(function(e){r.showMessage({type:"success",icon:"icon-settings",title:"Sua Sugestão foi enviada com sucesso!",description:"",elementID:"#pageMessage"}),r.router.navigate("/Settings",{trigger:!0})}).fail(function(e){return r.handleErrors(e),!1}).execute()}}});return s}),define("views/settings/SettingsListView",["jquery","underscore","backbone","shared","text!templates/settings/settingsListTemplate.html","views/settings/SettingsAboutListView","views/settings/SettingsChangePasswordListView","views/settings/SettingsCreditsListView","views/settings/SettingsMailSignatureListView","views/settings/SettingsResultsPerPageListView","views/settings/SettingsSupportListView","views/settings/SettingsFaqListView","views/home/LoadingView","material"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d=n.View.extend({secondViewName:"",render:function(){var n=this,d="#content",v="#contentDetail";r.menuView.renderContextMenu(0,[]),r.isSmartPhoneResolution()&&(v="#content");if(this.secondViewName!=null){if(this.secondViewName!="SaveMailSignature"&&this.secondViewName!="SaveChangePassword"){e(v).html("");var m=new h({el:e(v)});m.render()}if(this.secondViewName=="Support")var g=new l({el:e(v)});if(this.secondViewName=="About")var g=new s({el:e(v)});if(this.secondViewName=="FAQ"){var g=new c({});g.elementID=v}if(this.secondViewName=="Credits")var g=new u({el:e(v)});if(this.secondViewName=="ChangePassword")var g=new o({el:e(v)});if(this.secondViewName=="ResultsPerPage"){var g=new f;g.elementID=v}if(this.secondViewName=="MailSignature")var g=new a({el:e(v)});if(this.secondViewName=="SaveMailSignature"){var g=new a({el:e(v)});g.SaveMailSignature()}else if(this.secondViewName=="SaveChangePassword"){var g=new o({el:e(v)});g.SaveChangePassword()}else setTimeout(function(){g.render()},r.timeoutDelay)}else{e(v).html("");var m=new h({el:e(d)});m.render();var n=this;setTimeout(function(){var s={_:t,user:r.profile,auth:r.api.auth(),automaticLogin:r.settings.automaticLogin,Shared:r},o=t.template(i,s);n.$el.html(o),e(d).empty().html(n.$el),r.setCurrentPageTitle("Preferências"),p.upgradeDom()},r.timeoutDelay)}r.setDefaultIMListeners()},events:{"change #automaticLoginSwitch":"selectAutomaticLogin"},selectAutomaticLogin:function(t){r.settings.automaticLogin==1?(e("#automaticLoginSwitch").val("off"),r.settings.automaticLogin=!1):(e("#automaticLoginSwitch").val("on"),r.settings.automaticLogin=!0)},initialize:function(){this.secondViewName=""}});return d}),define("text!templates/contacts/generalContactsListTemplate.html",[],function(){return'<div id="pull-to-action-loader"></div>\n<% if (typeof(contacts) != \'undefined\' && contacts.length > 0) { %>\n	\n\n	<dl id="contactsList" class="general">\n\n		<% var summaryLetter = _.first(contacts).get(\'contactFirstName\').charAt(0).toUpperCase(); %>\n		<dt><%=summaryLetter%></dt>\n		<dd>\n			<ul>\n		\n				<% _.each(contacts, function(c) { %>\n\n					<% if (!_.isEqual(summaryLetter, c.get(\'contactFirstName\').charAt(0).toUpperCase())) { %>\n					\n						<% summaryLetter = c.get(\'contactFirstName\').charAt(0).toUpperCase(); %>\n						\n						</ul>\n							</dd>\n							<dt><%=summaryLetter%></dt>\n							<dd>\n								<ul>\n\n					<% } %>\n\n					<% \n					var contactID = decodeURIComponent(c.get(\'contactID\'));\n					var queryUID = contactID.split(",")[0]; \n					var uid = queryUID.split("=");\n					var id = uid[1].replace(".", "___");\n					%>\n\n					<li id="<%=id%>">\n						<a href="/Contacts/General/<%= c.get(\'contactUIDNumber\') %>" title="<%=c.get(\'contactFullName\')%>">\n\n\n							<div id="picture_contact_<%= id %>" class="picture_image"></div>\n							<div class="info">\n								<span class="name"><%=c.get(\'contactFullName\')%></span>\n								<span class="email"><%=c.getFirstEmailAddress()%></span>\n							</div>\n\n						</a>\n					</li>\n\n				<% }); %>\n\n			</ul>\n		</dd>\n\n	</dl>\n	\n<% } else { %>\n\n	<% if (_.isObject(error)) { %>\n\n		<p class="erro"><%= error.message %></p>\n\n	<% } else { %>\n\n		<p class="erro">Nenhum registro encontrado</p>\n\n	<% } %>\n\n<% } %>'}),define("text!templates/contacts/personalContactsListTemplate.html",[],function(){return'<div id="pull-to-action-loader"></div>\n<% if (contacts.length > 0) { %>\n	\n	<dl id="contactsList" class="personal">\n\n		<% var summaryLetter = _.first(contacts).get(\'contactFirstName\').charAt(0).toUpperCase(); %>\n		<dt><%=summaryLetter%></dt>\n		<dd>\n			<ul>\n		\n				<% _.each(contacts, function(c) { %>\n\n					<% if (!_.isEqual(summaryLetter, c.get(\'contactFirstName\').charAt(0).toUpperCase())) { %>\n					\n						<% summaryLetter = c.get(\'contactFirstName\').charAt(0).toUpperCase(); %>\n						\n						</ul>\n							</dd>\n							<dt><%=summaryLetter%></dt>\n							<dd>\n								<ul>\n\n					<% } %>\n\n					<li id="contact_row_<%=c.get(\'contactID\')%>" class="">\n\n						<a href="/Contacts/Personal/<%= c.get(\'contactID\') %>" title="<%=c.get(\'contactFullName\')%>" class="listItemLink" rowid=\'contact_row_<%=c.get(\'contactID\')%>\'>\n							\n							<span class="mdl-ripple"></span>\n\n							<% \n							var id = c.get(\'contactID\');\n							%>\n\n							<div id="picture_contact_<%= id %>" class="picture_image"></div>\n							<div class="info">\n								<span class="name"><%=c.get(\'contactFullName\')%></span>\n								<span class="email"><%=c.getFirstEmailAddress()%></span>\n							</div>\n						</a>\n					</li>\n\n				<% }); %>\n\n			</ul>\n		</dd>\n\n	</dl>\n\n<% } else { %>\n\n	<p class="erro">Nenhum registro encontrado</p>\n\n<% } %>'}),define("models/contacts/ContactPictureImageModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{contactID:"",contactImagePicture:""},initialize:function(){this.api=n.api,this.readResource="/Catalog/ContactPicture",this.updateResource="",this.createResource="",this.deleteResource=""},done:function(e){return this.done=e,this},fail:function(e){return this.fail=e,this},getImagePicture:function(e,t){var n=this;return this.api.resource("Catalog/ContactPicture").params({contactID:e,contactType:t}).done(function(e){var t=new r(e.contacts[0]);n.done&&n.done(t)}).fail(function(e){n.fail&&n.fail(e)}).execute(),n},execute:function(){return this.api.execute()}});return r}),define("text!templates/contacts/pictureImageContactTemplate.html",[],function(){return'<img src="" class="userPicture" alt="" />'}),define("views/contacts/PictureImageContactView",["jquery","underscore","backbone","shared","views/home/LoadingView","models/contacts/ContactPictureImageModel","text!templates/contacts/pictureImageContactTemplate.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({render:function(n){var r=function(t){var n=decodeURIComponent(t.contact.get("contactID")),r;if(parseInt(n)!=NaN&&parseInt(n)%1==0)r=n;else{var i=n.split(",")[0],s=i.split("=");r=s[1].replace(".","___")}e("#picture_contact_"+r+" img").attr("src","data:image/gif;base64,"+t.contact.get("contactImagePicture"))};for(var i in n.contacts)n.contacts[i].get("contactHasImagePicture")==1&&this.getContactPictureImage(n.contacts[i].get("contactID"),r,r);var s=t.template(o);this.$el.html(s),this.loaded()},initialize:function(){},loaded:function(){},getContactPictureImage:function(e,n,r){var i="2";parseInt(e)!=NaN&&parseInt(e)%1==0&&(i="1");var o=new s;o.done(function(e){n({contact:e,_:t})}).fail(function(e){r({error:e.error,_:t})}).getImagePicture(e,i)}});return u}),define("views/contacts/ContactsListView",["jquery","underscore","backbone","shared","text!templates/master/primaryContentTemplate.html","text!templates/master/detailContentTemplate.html","text!templates/contacts/generalContactsListTemplate.html","text!templates/contacts/personalContactsListTemplate.html","collections/home/ContextMenuCollection","views/contacts/PictureImageContactView","views/home/LoadingView","views/home/HomeView","collections/contacts/ContactsListCollection","views/mail/PullToActionView","material"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v=n.View.extend({searchLength:0,secondViewName:"",status:null,currentView:null,arrayContacts:{},events:{"keyup .personalContacts .searchField":"searchPersonalContacts","keypress .generalContacts .searchField":"searchGeneralContacts"},render:function(){this.$el.html(t.template(i)),e("#content").empty().append(this.$el),r.setDefaultIMListeners(),r.isSmartPhoneResolution()||(e("#contentDetail").html(t.template(s)),e("#contentDetail .searchArea").remove());var n=new l({el:e("#scroller")});n.render(),this.secondViewName=="General"?this.listGeneralContacts("",!1):this.listPersonalContacts("",!1);var o=this,u=function(){e("#scroller").empty(),o.secondViewName=="General"?o.listGeneralContacts(e(".searchField").val(),!0):o.listPersonalContacts(e(".searchField").val(),!0)},a=new p({refreshAction:u,container:"#pull-to-action-loader"});a.render()},initialize:function(){},loaded:function(){d.upgradeDom()},searchPersonalContacts:function(t){this.searchContacts(t,e(".searchField").val(),"1")},searchGeneralContacts:function(t){t.keyCode==13&&this.searchContacts(t,e(".searchField").val(),"2")},searchContacts:function(t,n,r){var i=e(".searchField").val(),n="";i.length>=3?n=i:n="";if(n.length>=3||this.searchLength>=3){var s=new l({el:e("#scroller")});s.render(),r=="1"?this.listPersonalContacts(n,!0):this.listGeneralContacts(this.removeAccents(n),!0)}this.searchLength=i.length},listPersonalContacts:function(n,i){var s=this;r.setCurrentPageTitle("Contatos Pessoais"),e("#contentTitle").text("Contatos Pessoais"),e("#contentTitle").addClass("icon-contacts"),e(".searchArea").removeClass("generalContacts"),e(".searchArea").addClass("personalContacts");var o=function(n){r.menuView.renderContextMenu(0,[]),s.secondViewName=="General"?r.menuView.renderContextMenu("generalContacts",{}):r.menuView.renderContextMenu("personalContacts",{}),n.error==undefined?n.contacts.length>0?(e("#message").empty(),e("#scroller").empty().append(t.template(u,n)),s.openFirstContact(n.contacts[0].get("contactID"),n.contacts[0].get("contactID"),"Personal")):(r.showMessage({type:"error",icon:"icon-contacts",title:"Nenhum Resultado Encontrado.",route:"",description:"",timeout:0,animate:!1,elementID:"#message"}),e("#scroller").empty()):(e("#scroller").empty(),r.handleErrors(n.error)),s.setElement(s.$el),s.loaded();var i=new f({el:e(".picture_image")});i.render(n)};this.listContacts(n,"1",i,o,o)},listGeneralContacts:function(n,i){var s=this;this.personalContact=!1,r.setCurrentPageTitle("Catálogo Geral"),e("#contentTitle").text("Catálogo Geral"),e("#contentTitle").addClass("icon-contacts"),e(".searchArea").removeClass("personalContacts"),e(".searchArea").addClass("generalContacts");var u=function(n){s.secondViewName=="General"?r.menuView.renderContextMenu("generalContacts",{}):r.menuView.renderContextMenu("personalContacts",{}),n.error==undefined?(e("#message").empty(),e("#scroller").empty().append(t.template(o,n)),n.contacts.length>0&&s.openFirstContact(n.contacts[0].get("contactUIDNumber"),n.contacts[0].get("contactID"),"General")):(n.error.code=="1001"&&r.showMessage({type:"chat-message",icon:"icon-contacts",title:"Sua busca deve ser específica.",route:"",description:"Procure pelo nome e sobrenome.<br>Nenhum resultado será exibido caso a sua busca retorne mais do que 200 contatos.",timeout:0,animate:!1,elementID:"#message"}),n.error.code=="1019"&&r.showMessage({type:"error",icon:"icon-contacts",title:"Nenhum Resultado Encontrado.",route:"",description:"Procure pelo nome e sobrenome.<br>Nenhum resultado será exibido caso a sua busca retorne mais do que 200 contatos.",timeout:0,animate:!1,elementID:"#message"}),e("#scroller").empty(),e("#scroller").append('<div id="pullDown"><span class="pullDownIcon"></span><span class="pullDownLabel"></span></div>')),s.setElement(s.$el),s.loaded();var i=new f({el:e(".picture_image")});i.render(n)};this.listContacts(n,"2",i,u,u)},listContacts:function(e,n,r,i,s){var o=new h;o.done(function(n){this.arrayContacts={contacts:n.models,search:e,_:t},i(this.arrayContacts)}).fail(function(e){s({error:e.error,_:t})}).getContacts(e,n,r)},viewContact:function(t){t.preventDefault(),e("#contactsList ul li").removeAttr("class"),e(t.target).parents("li").addClass("selected"),r.router.navigate(t.currentTarget.getAttribute("href"),{trigger:!0})},openFirstContact:function(t,n,i){if(!r.isSmartPhoneResolution()){if(parseInt(n)!=NaN&&parseInt(n)%1==0)id=n;else{n=decodeURIComponent(n);var s=n.split(",")[0],o=s.split("=");id=o[1].replace(".","___")}e("#contactsList ul li").removeAttr("class"),e("#contact_row_"+id).addClass("selected"),this.status!=null?r.router.navigate("/Contacts/"+i+"/"+t+"/OK",{trigger:!0}):r.router.navigate("/Contacts/"+i+"/"+t,{trigger:!0})}},removeAccents:function(e){var e=e.split(""),t=new Array,n=e.length,r="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",i="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";for(var s=0;s<n;s++)r.indexOf(e[s])!=-1?t[s]=i.substr(r.indexOf(e[s]),1):t[s]=e[s];return t=t.join(""),t}});return v}),define("text!templates/contacts/detailsContactTemplate.html",[],function(){return'<!-- <div id="picture_contact" class="picture_image" style="margin: 0 10px;"><img src="" class="userPicture" alt="" style="height: 106px; width: 80px;" /></div> -->\n<%\nvar contactID = decodeURIComponent(contact.get(\'contactID\'));\nvar id;\n\nif (parseInt(contactID) != NaN && parseInt(contactID) % 1 == 0)\n	id = contactID;\nelse\n{\n	var queryUID = contactID.split(",")[0]; \n	var uid = queryUID.split("=");\n	id = uid[1].replace(".", "___");\n}\n%>\n<div id="contactDetailCard" class="expresso-email animation-fadein">\n  <div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n  	\n    <h2 class="mdl-card__title-text"><div id="picture_contact_<%= id %>" class="picture_image"></div><br>&nbsp;<%=contact.get(\'contactFullName\')%></h2>\n  </div>\n  <div class="mdl-card__supporting-text mdl-color-text--grey-600">\n    \n		<dl id="contactDetails">\n\n			<% if (!_.isEmpty(contact.get(\'contactMails\'))) { %>\n						\n				<dt>Contas de e-mail</dt>\n				<dd>\n					<ul>\n						<% _.each(contact.get(\'contactMails\'), function (email) { %>\n							<li>\n\n								<a href="/Mail/Message/New/<%= email %>" class="mdl-button mdl-js-button mdl-js-ripple-effect listItemLink" data-upgraded=",MaterialButton,MaterialRipple"><i class="material-icons">email</i>&nbsp;<%= email %><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>\n\n							</li>\n						<% }); %>\n					</ul>\n				</dd>\n\n			<% } %>\n\n			<% if (!_.isEmpty(contact.get(\'contactPhones\')) && !_.isEmpty(_.first(contact.get(\'contactPhones\')))) { %>\n\n				<dt>Telefones</dt>\n				<dd>\n					<ul>\n						<% _.each(contact.get(\'contactPhones\'), function (phone) { %>\n							<li><i class="material-icons">phone</i>&nbsp;<%= phone %></li>\n						<% }); %>\n					</ul>\n				</dd>\n\n			<% } %>\n\n		</dl>\n  </div>\n<!--   <div class="mdl-card__actions mdl-card--border">\n    <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect" data-upgraded=",MaterialButton,MaterialRipple">Enviar email<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>\n  </div> -->\n</div>\n\n		\n'}),define("views/contacts/DetailsContactView",["jquery","underscore","backbone","shared","views/home/LoadingView","views/home/HomeView","views/contacts/PictureImageContactView","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html","text!templates/contacts/detailsContactTemplate.html","collections/contacts/DetailsContactCollection","collections/home/ContextMenuCollection","models/contacts/ContactPictureImageModel"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.View.extend({secondViewName:"",contactID:null,status:null,render:function(n){var s=this,l,c,h;r.isSmartPhoneResolution()?(this.$el.html(t.template(a)),e("#content").empty().append(this.$el),l=e("#contentTitle"),c=e("#scroller"),h="#pageMessage"):(this.$el.html(t.template(u)),e("#contentDetail").empty().append(this.$el),l=e("#contentDetailTitle"),c=e("#scrollerDetail"),h="#pageMessage");var p=new i({el:c});p.render();var d=function(n){var i=t.first(n.contacts);if(i!=undefined){var u={contact:t.first(n.contacts),_:t},a=s.secondViewName=="Personal"?t.first(n.contacts).get("contactID"):t.first(n.contacts).get("contactUIDNumber");c.empty().append(t.template(f,u));var l=t.first(n.contacts).get("contactMails")[0],p=a;r.menuView.renderContextMenu("detailsContact",{email:l,contactID:p,contactType:this.secondViewName});var d=new o({el:e(".details_picture_image")});d.render(n),e(".details_picture_image").css("margin","0 10px"),e(".details_picture_image img").css("width","80px").css("height","106px"),e(".details_picture_image img").css("margin-top","10px").css("background-size","110px 130px")}if(s.status=="OK"){var v="";s.secondViewName=="Personal"?v="Contato removido do catálogo pessoal com sucesso.":v="Contato adicionado ao catálogo pessoal com sucesso.",r.showMessage({type:"success",icon:"icon-agenda",title:v,description:"",timeout:3e3,elementID:h})}else if(!isNaN(parseInt(s.status))){var m="";switch(s.status){case"1052":case"1055":m="Endereço de e-mail inválido.";break;case"1053":m="Contato já existe no catálogo pessoal.";break;case"1056":m="Erro ao excluir o contato. O ID  está vazio ou é inválido.";break;default:case"1054":m="Não foi possível adicionar o contato no catálogo pessoal. Por favor, tente novamente."}r.showMessage({type:"error",icon:"icon-agenda",title:m,description:"",timeout:3e3,elementID:h})}};this.secondViewName=="Personal"?this.getPersonalContactDetails(this.contactID,d,d):this.getGeneralContactDetails(this.contactID,d,d)},initialize:function(){},getPersonalContactDetails:function(e,n,r){var i=new l;i.done(function(e){n({contacts:e.models,_:t})}).fail(function(e){r({error:e.error,_:t})}).getPersonalContactDetails(e)},getGeneralContactDetails:function(e,n,r){var i=new l;i.done(function(e){n({contacts:e.models,_:t})}).fail(function(e){r({error:e.error,_:t})}).getGeneralContactDetails(e)}});return p}),define("views/contacts/AddContactView",["jquery","underscore","backbone","shared","views/home/LoadingView","views/home/HomeView","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html","models/contacts/ContactModel","collections/contacts/DetailsContactCollection","collections/home/ContextMenuCollection"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({contactID:null,render:function(n){var s=this,a,f,l;r.isSmartPhoneResolution()?(this.$el.html(t.template(u)),e("#content").empty().append(this.$el),a=e("#contentTitle"),f=e("#scroller"),l="#message"):(this.$el.html(t.template(o)),e("#contentDetail").empty().append(this.$el),a=e("#contentDetailTitle"),f=e("#scrollerDetail"),l="#messageDetail");var c=new i({el:f});c.render();var h=function(e){var n=function(e){e.contact==1?r.router.navigate("/Contacts/General/"+s.contactID+"/OK",{trigger:!0}):e.error!=undefined&&r.router.navigate("/Contacts/General/"+s.contactID+"/"+e.error.code,{trigger:!0})},i=t.first(e.contacts),o=i.get("contactPhones")!=""&&i.get("contactPhones").length>0?i.get("contactPhones")[0]:"",u={contactAlias:i.get("contactFullName"),contactGivenName:i.get("contactFirstName"),contactFamilyName:i.get("contactLastName"),contactEmail:i.get("contactMails")[0],contactPhone:o};s.addContact(u,n,n)};this.getContactDetails(this.contactID,h,h)},initialize:function(){},loaded:function(e,t){r.menuView.renderContextMenu("detailsContact",{email:e,contactID:t})},getContactDetails:function(e,n,r){var i=new f;i.getGeneralContactDetails(e).done(function(e){n({contacts:e.models,_:t})}).fail(function(e){r({error:e.error,_:t})})},addContact:function(e,n,r){var i=new a;i.addContact(e).done(function(e){var r={contact:e,_:t};n&&n(r)}).fail(function(e){r&&r(e)})}});return c}),define("views/contacts/DeleteContactView",["jquery","underscore","backbone","shared","views/home/LoadingView","views/home/HomeView","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html","models/contacts/ContactModel","collections/contacts/DetailsContactCollection","collections/home/ContextMenuCollection"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({contactID:null,render:function(n){var s=this,a,f,l;r.isSmartPhoneResolution()?(this.$el.html(t.template(u)),e("#content").empty().append(this.$el),a=e("#contentTitle"),f=e("#scroller"),l="#message"):(this.$el.html(t.template(o)),e("#contentDetail").empty().append(this.$el),a=e("#contentDetailTitle"),f=e("#scrollerDetail"),l="#messageDetail");var c=new i({el:f});c.render();var h=function(e){e.contact!=undefined&&Boolean(e.contact.status)==1?r.router.navigate("/Contacts/Personal/OK",{trigger:!0}):e.error!=undefined&&r.router.navigate("/Contacts/Personal/"+s.contactID+"/"+e.error.code,{trigger:!0})};this.deleteContact(this.contactID,h,h)},initialize:function(){},loaded:function(e,t){r.menuView.renderContextMenu("detailsContact",{email:e,contactID:t})},deleteContact:function(e,n,r){var i=new a;i.deleteContact({contactID:e}).done(function(e){var r={contact:e,_:t};n&&n(r)}).fail(function(e){r&&r(e)})}});return c}),define("collections/calendar/EventsListCollection",["underscore","backbone","shared","models/calendar/EventModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},_functions:{},done:function(e){return this._functions.done=e,this},fail:function(e){return this._functions.fail=e,this},initialize:function(e,t){this.api=n.api,this.model=r},listEvents:function(e,t,n){var i=this;i._data={};var s=r,o=this._data;return n&&(console.log("ignoreCache"),this.api.ignoreCache(!0)),this.api.resource("Calendar/Events").params({dateStart:e,dateEnd:t}).done(function(e){for(var t in e.events){var n=new s(e.events[t]);i.add(n)}i._functions.done&&i._functions.done(i)}).fail(function(e){i._functions.fail&&i._functions.fail(e)}).execute(),i},execute:function(){return this.api.execute()}});return i}),define("text!templates/calendar/calendarEventsDayListTemplate.html",[],function(){return'\n<% if (typeof(events) != \'undefined\' && events.length > 0) { %>\n\n	<ul id="events">\n	\n		<% _.each(events, function(e) { %>\n\n			<li>\n				<a href="/Calendar/Events/<%= e.get(\'eventID\') %>" title="Ver evento">\n					<div class="hourly">\n\n						<% \n							var startTime = \'Todo\';\n							var endTime = \'o dia\';\n\n							if (e.get(\'eventAllDay\') == \'0\')\n							{\n								var startTime = (e.get(\'eventStartDate\')).split(\' \')[1];\n								var endTime = (e.get(\'eventEndDate\')).split(" ")[1];	\n							}\n						%>\n\n						<strong class="start"><%= startTime %></strong>\n						<strong class="end"><%= endTime %></strong>\n\n					</div>\n					<span><%= e.get(\'eventName\') %></span>\n				</a>\n			</li>\n		\n		<% }); %>\n\n		<li>\n			<a href="/Calendar/FullDay/<%= year + \'/\' + month + \'/\' + day %>" title="Ver evento" class="see_all">\n				<span class="complete">Ver tudo</span>\n			</a>\n		</li>\n\n	</ul>\n\n<% } else { %>\n\n	<ul id="events">\n		<li>\n			<a href="/Calendar/FullDay/<%= year + \'/\' + month + \'/\' + day %>" title="Ver evento" class="see_all">\n				<span class="complete">Ver tudo</span>\n			</a>\n		</li>\n	</ul>\n	<p class="noEvent">Nenhum evento agendado</p>\n\n\n<% } %>\n'}),define("views/calendar/CalendarEventsDayListView",["jquery","underscore","backbone","shared","collections/calendar/EventsListCollection","views/home/LoadingView","text!templates/calendar/calendarEventsDayListTemplate.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({year:"",month:"",day:"",data:{},events:{"click #events li a":"selectItem"},render:function(){var n=new i,r=new Date(this.year,this.month-1,this.day);for(var s in this.data.events){var u=this.data.events[s].get("eventStartDate").split(" ")[0].split("/");u=new Date(u[2],u[1]-1,u[0]),u.getTime()==r.getTime()&&n.add(this.data.events[s])}var a={events:n.models,year:this.year,month:this.month,day:this.day,_:t};this.$el.html(t.template(o,a)),e("#eventsList").empty().append(this.$el)},initialize:function(){},selectItem:function(e){e.preventDefault(),r.router.navigate(e.currentTarget.getAttribute("href"),{trigger:!0})}});return u}),define("text!templates/calendar/calendarFullDayListTemplate.html",[],function(){return'<!-- <div class="expresso-cards mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">\n	<div class="expresso-email mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop"> -->\n<%\nvar startTime = new Date(year, month - 1, day, 0, 0, 0);\nvar endTime = new Date(year, month - 1, day, 23, 30, 0);\n%>\n<div class="expresso-email animation-fadein">\n<div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n	<h2 class="mdl-card__title-text"><%=day + "/" + month + "/" + year%></h2>\n</div>\n<table id="eventsTable"> \n\n	<% while (startTime.getTime() <= endTime.getTime()) { %>\n\n		<%\n			var pad = \'00\';\n			var hours = startTime.getHours();\n			var minutes = startTime.getMinutes();\n			var time = (pad.substring(0, pad.length - ("" + hours).length) + ("" + hours)) + \':\' + (pad.substring(0, pad.length - ("" + minutes).length) + ("" + minutes));\n\n			if ((typeof(events) != \'undefined\' && events.length > 0) && (typeof(hourlyBusy) != \'undefined\' && hourlyBusy.length > 0))\n			{\n				var event = hourlyBusy.filter(function (element)\n				{\n					return element.dateStart.getTime() == startTime.getTime();\n				});\n\n				var tdClass = \'description\';\n				var description = \'\';\n				var eventID = 0;\n				var tdRowSpan = \'\';\n\n				if (event.length > 0)\n				{\n					tdClass += \' busy\';\n					description = events[event[0].index].get(\'eventName\') + \' - \' + events[event[0].index].get(\'eventDescription\');\n					eventID = events[event[0].index].get(\'eventID\');\n\n					if (event[0].rowSpan > 1)\n						tdRowSpan = \' rowSpan="\' + event[0].rowSpan + \'"\';\n				}\n			}\n		%>\n\n		<tr>\n\n			<% if (time == \'00:00\') { %>\n\n				<td class="period" rowspan="13">\n					<div>MADRUGADA<Adiv>\n				</td>\n			\n			<% } %>\n\n			<% if (time == \'06:30\') { %>\n\n				<td class="period" rowspan="12">\n					<div>MANH&Atilde;</div>\n				</td>\n			\n			<% } %>\n\n			<% if (time == \'12:30\') { %>\n\n				<td class="period" rowspan="12">\n					<div>TARDE</div>\n				</td>\n			\n			<% } %>\n\n			<% if (time == \'18:30\') { %>\n\n				<td class="period noborder" rowspan="12">\n					<div>NOITE</div>\n				</td>\n			\n			<% } %>\n\n			<td class="hourly">\n				<%= time %>\n			</td>\n			<td class="<%= tdClass %>"<%= tdRowSpan %>>\n\n				<% if (description != \'\' && eventID != 0) { %>\n					<a href="/Calendar/Events/<%= eventID %>" title="Ver detalhes">\n						<%= description %>\n					</a>\n				<% } %>\n				\n			</td>\n		</tr>\n\n		<% startTime.setMinutes(startTime.getMinutes() + 30); %>\n\n	<% } %>\n\n</table>\n</div>\n<!-- </div></div> -->'}),define("jqueryui_datepicker_ptBR",["jquery"],function(e){jQuery(function(e){e.datepicker.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional["pt-BR"])})}),define("views/calendar/CalendarFullDayListView",["jquery","underscore","backbone","shared","collections/calendar/EventsListCollection","views/home/LoadingView","text!templates/calendar/calendarFullDayListTemplate.html","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html","jqueryui","jqueryui_datepicker_ptBR"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({year:"",month:"",day:"",data:{},dayTitle:"",events:{"click #eventsTable a":"selectItem"},render:function(){var n=this,f,l;r.isSmartPhoneResolution()?(this.$el.html(t.template(a)),e("#content").empty().append(this.$el),f=e("#contentTitle"),l=e("#scroller")):(this.$el.html(t.template(u)),e("#contentDetail").empty().append(this.$el),f=e("#contentDetailTitle"),l=e("#scrollerDetail"));var c=new s({el:l});c.render();var h=this.day+"/"+this.month+"/"+this.year,p=this.day+"/"+this.month+"/"+this.year,d=function(r){var s=[],u=new i,a=new Date(n.year,n.month-1,n.day),c=48;for(var h in r.events){var p=0,d=r.events[h].get("eventStartDate").split(" "),v=d[0].split("/"),m=d[1].split(":"),g=new Date(v[2],v[1]-1,v[0],m[0],m[1]),y=new Date(v[2],v[1]-1,v[0],m[0],m[1]);v=new Date(v[2],v[1]-1,v[0]);var b=r.events[h].get("eventEndDate").split(" "),w=b[0].split("/"),E=b[1].split(":"),S=new Date(w[2],w[1]-1,w[0],E[0],E[1]);w=new Date(w[2],w[1]-1,w[0]);if(v.getTime()==a.getTime()||w.getTime()==a.getTime()){if(r.events[h].get("eventAllDay")=="1")p=c;else while(g.getTime()<=S.getTime())p+=1,g.setMinutes(g.getMinutes()+30);u.add(r.events[h]);var x=g,T=new Object;T.dateStart=y,T.dateEnd=S,T.rowSpan=p,T.index=u.length-1,s.push(T)}}var N={events:u.models,year:n.year,month:n.month,day:n.day,hourlyBusy:s,_:t};f.text(e.datepicker.formatDate("DD, dd/mm/yy",new Date(n.year,n.month-1,n.day))),l.empty().append(t.template(o,N)),n.loaded()},v=function(e){r.showMessage({type:"error",icon:"icon-agenda",title:"Não foi possível listar os eventos do dia. Por favor, tente novamente",description:"",timeout:5e3,elementID:r.isSmartPhoneResolution()?"#message":"#messageDetail"})};this.listEvents(h,p,d,v)},loaded:function(){r.menuView.renderContextMenu("calendar",{year:this.year,month:this.month,day:this.day})},initialize:function(){},selectItem:function(e){e.preventDefault(),r.router.navigate(e.currentTarget.getAttribute("href"),{trigger:!0})},listEvents:function(e,n,r,s){var o=this,u=new i;u.done(function(e){r&&r({events:e.models,_:t})}).fail(function(e){s&&s({error:e.error,_:t})}).listEvents(e,n)}});return c}),define("text!templates/calendar/calendarTemplate.html",[],function(){return'<!-- <div id="pullDown">\n  	<span class="pullDownIcon"></span><span class="pullDownLabel">Puxe para baixo para atualizar</span>\n</div> -->\n<div id="pull-to-action-loader"></div>\n<div id="agenda"></div>\n<div id="eventsList"></div>\n'}),define("views/calendar/CalendarListView",["jquery","underscore","backbone","shared","collections/calendar/EventsListCollection","views/home/LoadingView","views/calendar/CalendarEventsDayListView","views/calendar/CalendarFullDayListView","views/mail/PullToActionView","text!templates/calendar/calendarTemplate.html","text!templates/master/primaryContentTemplate.html","jqueryui","jqueryui_datepicker_ptBR"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.View.extend({year:"",month:"",day:"",fullDay:!1,status:"",data:{},dayTitle:"",onlyDatePicker:!1,render:function(){var n=this,r="00",i=new Date;if(this.year==""||this.year==undefined)this.year=i.getFullYear();if(this.month==""||this.month==undefined)this.month=i.getMonth()+1,this.month=r.substring(0,r.length-(""+this.month).length)+(""+this.month);if(this.day==""||this.day==undefined)this.day=i.getDate(),this.day=r.substring(0,r.length-(""+this.day).length)+(""+this.day);this.clean();var s=function(r){n.$el.html(t.template(l)),e("#content").empty().append(n.$el),e("#scroller").html(t.template(f)),n.renderDatePicker(),n.onlyDatePicker===!1&&n.listDayEvents(r),n.loaded()},o=new Date(this.year,this.month,0);o=o.getDate();var u="01/"+this.month+"/"+this.year,a=o+"/"+this.month+"/"+this.year;this.listEvents(u,a,!1,s,s)},listEvents:function(e,n,r,s,o){var u=this,a=new i;a.done(function(e){u.data={events:e.models,_:t},s&&s(u.data)}).fail(function(e){u.data={error:e.error,_:t},o&&o(u.data)}).listEvents(e,n,r)},listDayEvents:function(e){if(!r.isSmartPhoneResolution()||this.fullDay){var t=new u;t.year=this.year,t.month=this.month,t.day=this.day,t.data=e,t.dayTitle=this.dayTitle,t.render()}else{var n=new o;n.year=this.year,n.month=this.month,n.day=this.day,n.data=e,n.render()}this.loaded()},initialize:function(){this.container=e("#scroller")},changeMonthYear:function(e,t,n){var r=this,i=function(e){r.refreshDatePicker()},s="00",t=s.substring(0,s.length-(""+t).length)+(""+t),o=new Date(e,t,0);o=o.getDate(),this.year=e,this.month=t;var u="01/"+t+"/"+e,a=o+"/"+t+"/"+e;this.listEvents(u,a,n,i,i)},highlightDays:function(e){if(!t.isEmpty(this.data.events))for(var n in this.data.events){var r=this.data.events[n].get("eventStartDate").split(" ")[0].split("/");r=new Date(r[2],r[1]-1,r[0]);var i=this.data.events[n].get("eventEndDate").split(" ")[0].split("/");i=new Date(i[2],i[1]-1,i[0]);if(e.getTime()==r.getTime()||e.getTime()==i.getTime())return[!0,"hasEvent"]}return[!0,""]},refreshDatePicker:function(){e("#agenda").datepicker("refresh")},renderDatePicker:function(){var t=this;e("#agenda").datepicker({dayNamesShort:e.datepicker.regional["pt-BR"].dayNamesShort,dayNames:e.datepicker.regional["pt-BR"].dayNames,monthNamesShort:e.datepicker.regional["pt-BR"].monthNamesShort,monthNames:e.datepicker.regional["pt-BR"].monthNames,inline:!0,autoSize:!0,nextText:">",prevText:"<",dateFormat:"DD, dd/mm/yy",onChangeMonthYear:function(e,n,r){t.changeMonthYear(e,n,!1)},beforeShowDay:function(e){return t.highlightDays(e)},onSelect:function(e,t){var n=e.split(", ")[1].split("/"),i="Calendar/"+n[2]+"/"+n[1]+"/"+n[0];r.router.navigate(i,{trigger:!0})}}),this.year!=""&&this.month!=""&&this.day!=""&&e("#agenda").datepicker("setDate",new Date(this.year,this.month-1,this.day)),this.dayTitle=e.datepicker.formatDate("DD, dd/mm/yy",new Date(this.year,this.month-1,this.day))},loaded:function(){var e=this;r.menuView.renderContextMenu("calendar",{year:this.year,month:this.month,day:this.day}),r.setDefaultIMListeners(),r.setCurrentPageTitle("Agenda");var t=function(){e.changeMonthYear(e.year,e.month,!0)},n=new a({refreshAction:t,container:"#pull-to-action-loader"});n.render(),this.status=="OK"&&r.showMessage({type:"success",icon:"icon-agenda",title:"Evento excluído com sucesso.",description:"",timeout:3e3,elementID:"#pageMessage"})},pullDownAction:function(){this.changeMonthYear(this.year,this.month,!0),pullDownEl=document.getElementById("pullDown"),pullDownEl.className="",r.scrollerRefresh()},clean:function(){var t=new s({el:e("#content")});t.render();if(!r.isSmartPhoneResolution()&&this.onlyDatePicker===!1){var n=new s({el:e("#contentDetail")});n.render()}}});return p}),define("text!templates/calendar/calendarDetailsTemplate.html",[],function(){return'\n	<div class="expresso-email animation-fadein">\n		<div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n			<h2 class="mdl-card__title-text"><%=event.get(\'eventDateStart\')%></h2>\n		</div>\n		<table id="eventDetails"> \n			<tr>\n				<td class="item">\n					In&iacute;cio\n				</td>\n				<td class="description">\n					<%= event.get(\'eventDateStart\') %> - <%= event.get(\'eventTimeStart\') %>\n				</td>\n			</tr> \n			<tr>\n				<td class="item">\n					T&eacute;rmino\n				</td>\n				<td class="description">\n					<%= event.get(\'eventDateEnd\') %> - <%= event.get(\'eventTimeEnd\') %>\n				</td>\n			</tr> \n			<tr>\n				<td class="item">\n					Local\n				</td>\n				<td class="description">\n					<%= _.isEmpty(event.get(\'eventLocation\')) ? \'-\' : event.get(\'eventLocation\') %>\n				</td>\n			</tr> \n			<tr>\n				<td class="item">\n					Prioridade\n				</td>\n				<td class="description">\n					<%= event.get(\'eventPriority\') %>\n				</td>\n			</tr>\n			<tr>\n				<td class="item">\n					Participantes\n				</td>\n				<td class="description" id="listParticipants">\n						\n					<% \n					if (event.get(\'eventParticipantsLdap\').length > 0) \n					{ \n						%>\n						<ul>\n						<%\n						var participants = event.get(\'eventParticipantsLdap\');\n						for (var i in participants) \n						{\n							if (!_.isEmpty(participants[i].get(\'contactFullName\')))\n							{\n							%>	\n								<li><%= participants[i].get(\'contactFullName\') %></li>\n							<%\n							}\n						}\n						%>\n						</ul>\n						<%\n					}\n					%>\n\n				</td>\n			</tr> \n			<tr>\n				<td class="item">\n					Criado por\n				</td>\n				<td class="description">\n					<% if (!_.isEmpty(event.get(\'eventOwner\'))) { %>\n						<%= event.get(\'eventOwner\').get(\'contactFullName\') %>\n					<% } %>\n				</td>\n			</tr>  \n			<tr>\n				<td class="item">\n					Descri&ccedil;&atilde;o\n				</td>\n				<td class="description">\n					<%= event.get(\'eventDescription\') %>\n				</td>\n			</tr> \n			\n		</table>\n	</div>'}),define("views/calendar/CalendarDetailsView",["jquery","underscore","backbone","shared","models/calendar/EventModel","views/home/LoadingView","views/calendar/CalendarListView","text!templates/calendar/calendarDetailsTemplate.html","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({eventID:0,status:"",year:"",month:"",day:"",events:{"click #contextMenu ul li a":"selectItem"},selectItem:function(e){e.preventDefault()},render:function(){var n=this,i,l,c;r.isSmartPhoneResolution()?(this.$el.html(t.template(f)),e("#content").empty().append(this.$el),i=e("#contentTitle"),l=e("#scroller"),c="#pageMessage"):(this.$el.html(t.template(a)),e("#contentDetail").empty().append(this.$el),i=e("#contentDetailTitle"),l=e("#scrollerDetail"),c="#pageMessage");var h=new s({el:l});h.render();var p=function(e){var s=e.event.get("eventOwner").get("contactUIDNumber")==r.profile.contactUIDNumber,a=e.event.get("eventDateStart").split("/"),f="00";n.year=a[2],n.month=f.substring(0,f.length-(""+a[1]).length)+(""+a[1]),n.day=f.substring(0,f.length-(""+a[0]).length)+(""+a[0]),e.event.set({eventPriority:n.getPriority(e.event.get("eventPriority"))}),n.loaded(e.event.get("eventID"),s);if(n.status=="OK"){r.showMessage({type:"success",icon:"icon-agenda",title:"Evento salvo com sucesso.",description:"",timeout:3e3,elementID:c});if(!r.isSmartPhoneResolution()){var h=new o;h.year=n.year,h.month=n.month,h.day=n.day,h.onlyDatePicker=!0,h.render()}}i.text(e.event.get("eventName")),l.empty().append(t.template(u,e))};this.getEvent(this.eventID,p,p)},getEvent:function(e,n,r){var s=this,o=new i;o.done(function(e){s.data={event:e,_:t},n(s.data)}).fail(function(e){s.data={error:e.error,_:t},r&&r(s.data)}).getEvent(e)},loaded:function(e,t){r.menuView.renderContextMenu("calendarDetailsEvent",{isOwner:t,eventID:e,year:this.year,month:this.month,day:this.day})},initialize:function(){var e="00",t=new Date;if(this.year==""||this.year==undefined)this.year=t.getFullYear();if(this.month==""||this.month==undefined)this.month=t.getMonth()+1,this.month=e.substring(0,e.length-(""+this.month).length)+(""+this.month);if(this.day==""||this.day==undefined)this.day=t.getDate()},getPriority:function(e){var t=["","Baixo","Normal","Alto"];return e==""?"Nenhum":t[e]}});return l}),define("models/calendar/EventCategoryModel",["underscore","backbone","shared"],function(e,t,n){var r=t.Model.extend({defaults:{},initialize:function(){this.api=n.api,this.readResource="/Calendar/EventCategories",this.updateResource="",this.createResource="",this.deleteResource=""},route:function(){return"/Calendar/Categories"},done:function(e){return this.done=e,this},fail:function(e){return this.fail=e,this}});return r}),define("collections/calendar/EventCategoriesCollection",["underscore","backbone","shared","models/calendar/EventCategoryModel"],function(e,t,n,r){var i=t.Collection.extend({model:r,_data:{},_functions:{},done:function(e){return this._functions.done=e,this},fail:function(e){return this._functions.fail=e,this},initialize:function(e,t){this.api=n.api,this.model=r},listEventCategories:function(e){var t=this;t._data={};var n=r,i=this._data;return this.api.resource("Calendar/EventCategories").params({eventCategoryID:e}).done(function(e){for(var r in e.eventCategories){var i=new n(e.eventCategories[r]);t.add(i)}t._functions.done&&t._functions.done(t)}).fail(function(e){t._functions.fail&&t._functions.fail(e)}).execute(),t},execute:function(){return this.api.execute()}});return i}),define("text!templates/calendar/calendarEditEventTemplate.html",[],function(){return'<div class="expresso-cards ">\n	 <div class="expresso-email animation-fadein">\n		<div class="mdl-card__title mdl-card--expand mdl-color--blue-100">\n          <h2 class="mdl-card__title-text">Editar Evento</h2>\n        </div>\n<form id="addEvent">\n	<div id="formMessage"></div>\n	<ol>\n		<li>\n			<label for="eventType">Tipo *</label>\n			<select name="eventType" id="eventType">\n\n				<% _.each(types, function(t, i) { %>\n\n					<option value="<%= i %>" <%= (i == event.get(\'eventType\')) ? \'selected="selected"\' : \'\' %>><%= t %></option>\n\n				<% }); %>\n\n			</select>\n		</li>\n		<li>\n			<label for="eventName">T&iacute;tulo *</label>\n			<input type="text" name="eventName" id="eventName" placeholder="T&iacute;tulo" value="<%= event.get(\'eventName\') %>" />\n		</li>\n		<li>\n			<label for="eventDescription">Descri&ccedil;&atilde;o</label>\n			<textarea name="eventDescription" id="eventDescription" placeholder="Descri&ccedil;&atilde;o completa"><%= event.get(\'eventDescription\') %></textarea>\n		</li>\n		<li class="itens" <% if (eventCategories.length == 0) { %>style=" display: none; "<%}%>>\n			<label for="eventCategoryID">Categoria</label>\n\n			<% if (typeof(eventCategories) != \'undefined\' && eventCategories.length > 0) \n			{ \n				var listCategoriesSelected = (event.get(\'eventCategoryID\')).split(\',\');\n				%>\n				<ol>\n					<% _.each(eventCategories, function(e) { %>\n\n						<li>\n							<input id="<%= e.get(\'eventCategoryID\') %>" type="checkbox" class="css-checkbox eventCategories" name="<%= e.get(\'eventCategoryID\') %>" value="<%= e.get(\'eventCategoryID\') %>" data-name="<%= e.get(\'eventCategoryName\') %>" <%= (_.contains(listCategoriesSelected, e.get(\'eventCategoryID\'))) ? \'checked="checked"\' : \'\' %> /> \n							<label for="<%= e.get(\'eventCategoryID\') %>" class="css-label"><%= e.get(\'eventCategoryName\') %></label>\n						</li>\n\n					<% }); %>\n\n				</ol>\n\n			<% } %>\n\n		</li>\n		<li>\n			<label for="eventLocation">Localiza&ccedil;&atilde;o</label>\n			<input type="text" name="eventLocation" id="eventLocation" placeholder="Localiza&ccedil;&atilde;o" value="<%= event.get(\'eventLocation\') %>" />\n		</li>\n		<li class="date">\n			<label for="eventDateStart">Data inicial *</label>\n			<input type="date" name="eventDateStart" id="eventDateStart" placeholder="Data inicial" value="<%= event.get(\'eventDateStart\') %>" />\n		</li>\n		<li class="date">\n			<label for="eventTimeStart">Hora inicial *</label>\n			<input type="time" name="eventTimeStart" id="eventTimeStart" placeholder="Hora inicial" value="<%= event.get(\'eventTimeStart\') %>" />\n		</li>\n		<li class="date">\n			<label for="eventDateEnd">Data final *</label>\n			<input type="date" name="eventDateEnd" id="eventDateEnd" placeholder="Data final" value="<%= event.get(\'eventDateEnd\') %>" />\n		</li>\n		<li class="date">\n			<label for="eventTimeEnd">Hora final *</label>\n			<input type="time" name="eventTimeEnd" id="eventTimeEnd" placeholder="Hora final" value="<%= event.get(\'eventTimeEnd\') %>" />\n		</li>\n		<li class="itens">\n			<!-- <h4>Participantes:</h4> -->\n			<label for="participantes">Participantes</label>\n			<a href="#" id="addParticipants" title="Adicionar participantes">Adicionar participantes</a>\n\n			<% \n			var listParticipantsID = event.get(\'eventParticipants\');\n\n			if (typeof(listParticipantsID) != \'undefined\' && listParticipantsID.length > 0 && listParticipantsID.length == listParticipants.length) \n			{ \n			%>\n				<ol>\n\n					<% _.each(listParticipantsID, function(pID) \n					{ \n						var participant = _.where(listParticipants, { participantID: pID });\n					%>\n\n						<li>\n							<input id="<%= pID %>" type="checkbox" class="css-checkbox eventParticipants" name="<%= pID %>" value="<%= pID %>" data-name="<%= participant[0].participantName %>" checked="checked" /> \n							<label for="<%= pID %>" class="css-label"><%= participant[0].participantName %></label>\n						</li>\n\n					<% }); %>\n\n				</ol>\n\n			<% } %>\n		</li>\n		<li>\n			<label for="eventPriority">Prioridade</label>\n			<select name="eventPriority" id="eventPriority">\n				<% _.each(priorities, function(p, i) { %>\n\n					<option value="<%= i %>" <%= (i == event.get(\'eventPriority\')) ? \'selected="selected"\' : \'\' %>><%= p %></option>\n\n				<% }); %>\n			</select>\n		</li>\n		<li>\n			<label for="eventExParticipants">Participantes externos</label>\n			<textarea name="eventExParticipants" id="eventExParticipants" placeholder="Participantes externos"><%= event.get(\'eventExParticipants\') %></textarea>\n		</li>\n	</ol>\n	<input type="hidden" name="eventID" id="eventID" value="<%= event.get(\'eventID\') %>" />\n</form>\n	</div>\n</div>'}),define("views/calendar/CalendarEditEventView",["jquery","underscore","backbone","shared","models/calendar/EventModel","views/home/LoadingView","views/calendar/CalendarEditEventAddParticipantsView","collections/calendar/EventCategoriesCollection","text!templates/calendar/calendarEditEventTemplate.html","text!templates/master/detailContentTemplate.html","text!templates/master/primaryContentTemplate.html"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({eventID:0,model:i,listParticipants:[],year:"",month:"",day:"",data:{},types:{1:"Normal",2:"Restrito"},priorities:{"":"Nenhum",1:"Baixo",2:"Normal",3:"Alto"},events:{"click #addParticipants":"addParticipants","click .css-checkbox":"removeParticipant"},render:function(n){var i=this,o,u;n!=undefined?(n.model!=undefined&&(this.model=n.model),n.listParticipants!=undefined&&(this.listParticipants=n.listParticipants)):(this.model.set({eventTimeStart:"08:00"}),this.model.set({eventTimeEnd:"08:30"})),r.isSmartPhoneResolution()?(this.$el.html(t.template(l)),e("#content").empty().append(this.$el),u=e("#scroller"),o=e("#contentTitle")):(this.$el.html(t.template(f)),e("#contentDetail").empty().append(this.$el),u=e("#scrollerDetail"),o=e("#contentDetailTitle"));var c=new s({el:u});c.render(),o.text("Adicionar evento");var h=function(e){var n=e;if(i.eventID>0){o.text("Editar evento");var r=function(e){var r="00",s=e.get("eventDateStart").split("/"),o=e.get("eventDateEnd").split("/");e.set({eventDateStart:s[2]+"-"+r.substring(0,r.length-(""+s[1]).length)+(""+s[1])+"-"+r.substring(0,r.length-(""+s[0]).length)+(""+s[0])}),e.set({eventDateEnd:o[2]+"-"+r.substring(0,r.length-(""+o[1]).length)+(""+o[1])+"-"+r.substring(0,r.length-(""+o[0]).length)+(""+o[0])});if(e.get("eventParticipants")!=undefined&&e.get("eventParticipants").length>0){var f=[];t.each(e.get("eventParticipants"),function(e){f.push(e.contactUIDNumber)}),e.set({eventParticipants:f});var l=[];t.each(e.get("eventParticipantsLdap"),function(e){l.push({participantID:e.get("contactUIDNumber"),participantName:e.get("contactFullName")})}),i.listParticipants=l}i.model=e;var c={eventCategories:n,event:i.model,listParticipants:i.listParticipants,types:i.types,priorities:i.priorities};u.html(t.template(a,c)),i.setElement(i.$el),i.loaded()};i.getEvent(i.eventID,r,r)}else{var s={eventCategories:n,event:i.model,listParticipants:i.listParticipants,types:i.types,priorities:i.priorities};u.html(t.template(a,s)),i.setElement(i.$el),i.loaded()}};this.listEventCategories("",h,h)},getEvent:function(e,t,n){var r=this,s=new i;s.getEvent(e).done(function(e){t&&t(e)}).fail(function(e){n&&n(r.data)})},loaded:function(){var t=0,n={};n.saveCallBack=this.saveEvent,n.addParticipantsCallBack=this.addParticipants,n.parentCallBack=this,r.menuView.renderContextMenu("calendarAddEvent",n),e("#contentDetail .searchArea").remove(),e("#content .searchArea").remove();var i=t/2-30;e("body form#addEvent input[type=text]").width(t),e("body form#addEvent select").width(t),e("body form#addEvent textarea").width(t),e("body form#addEvent li.date input[type=text]").width(i)},initialize:function(e){this.model=new i,e!=undefined&&(this.year=e.year,this.month=e.month,this.day=e.day),this.year!=""&&this.month!=""&&this.day!=""&&(this.model.set({eventDateStart:this.year+"-"+this.month+"-"+this.day}),this.model.set({eventDateEnd:this.year+"-"+this.month+"-"+this.day}))},listEventCategories:function(e,t,n){var r=new u;r.done(function(e){t(e.models)}).fail(function(e){n(data.error)}).listEventCategories(e)},addParticipants:function(t){t.target&&(t.preventDefault(),t=this);var n=e(".css-checkbox.eventCategories").map(function(){if(e(this).is(":checked"))return e(this).val()}).toArray().join(","),r={eventDateStart:e("#eventDateStart").val(),eventTimeStart:e("#eventTimeStart").val(),eventDateEnd:e("#eventDateEnd").val(),eventTimeEnd:e("#eventTimeEnd").val(),eventID:e("#eventID").val(),eventType:e("#eventType").val(),eventCategoryID:n,eventName:e("#eventName").val(),eventDescription:e("#eventDescription").val(),eventLocation:e("#eventLocation").val(),eventPriority:e("#eventPriority").val(),eventOwnerIsParticipant:e("#eventOwnerIsParticipant").val(),eventExParticipants:e("#eventExParticipants").val()};t.model.set(r);var i=new o({listParticipants:t.listParticipants,model:t.model,view:new c});i.render()},saveEvent:function(t){t.target&&(t.preventDefault(),t=this);var n=e("#eventDateStart").val().split("-"),i=e("#eventDateEnd").val().split("-"),s=e(".css-checkbox.eventParticipants").map(function(){return e(this).val()}).toArray(),o=e(".css-checkbox.eventCategories").map(function(){if(e(this).is(":checked"))return e(this).val()}).toArray().join(","),u={eventDateStart:n[2]+"/"+n[1]+"/"+n[0],eventTimeStart:e("#eventTimeStart").val(),eventDateEnd:i[2]+"/"+i[1]+"/"+i[0],eventTimeEnd:e("#eventTimeEnd").val(),eventID:e("#eventID").val(),eventType:e("#eventType").val(),eventCategoryID:o,eventName:e("#eventName").val(),eventDescription:e("#eventDescription").val(),eventLocation:e("#eventLocation").val(),eventPriority:e("#eventPriority").val(),eventOwnerIsParticipant:"1",eventParticipants:s.join(),eventExternalParticipants:e("#eventExParticipants").val()},a=function(e){t.listParticipants=[],e.event!=undefined&&r.router.navigate("/Calendar/Events/"+e.event.get("eventID")+"/OK",{trigger:!0})},f=function(e){var t="*Campos obrigatórios",n="";e.error!=undefined&&(t="Ocorreu um erro ao salvar o evento.",e.error.code=="1051"?n="Verifique se já existe um evento para a datas selecionadas ou se os campos foram preenchidos corretamente.":e.error.code=="1043"&&(n="Verifique se o título do evento foi preenchido corretamente.")),r.showMessage({type:"error",icon:"icon-agenda",title:t,description:n,timeout:3e3,elementID:"#pageMessage"})};t.save(u,a,f)},save:function(e,n,r){var s=new i;s.saveEvent(e).done(function(e){var r={event:e,_:t};n&&n(r)}).fail(function(e){r&&r(e)})},removeParticipant:function(n){var r=this.model.get("eventParticipants"),i=this.listParticipants,s=e(n.target).val(),o=e(n.target).attr("data-name"),u=t.indexOf(r,s),a=u;t.each(i,function(e,t){e.participantID==s&&e.participantName==o&&(a=t)}),u!=-1&&(r.splice(u,1),i.splice(a,1),e(n.target).parent("li").fadeOut(400,function(){e(this).remove()})),this.model.set({eventParticipants:r})}});return c}),define("views/calendar/CalendarDeleteEventView",["jquery","underscore","backbone","shared","models/calendar/EventModel","views/home/LoadingView"],function(e,t,n,r,i,s){var o=n.View.extend({eventID:0,year:"",month:"",day:"",render:function(t){var n=this;r.isSmartPhoneResolution()||(this.$el=e("#contentDetail"));var i=new s({el:this.$el});i.render();var o=function(e){r.router.navigate("/Calendar/"+n.year+"/"+n.month+"/"+n.day+"/OK",{trigger:!0})},u=function(e){r.router.navigate("/Calendar/Events/"+n.eventID+"/Error",{trigger:!0})};this.deleteEvent(o,u)},deleteEvent:function(e,t){var n=new i;n.deleteEvent(this.eventID).done(function(t){e&&e(t)}).fail(function(e){t&&t(e)})},initialize:function(e){}});return o}),define("text!templates/chat/chatListTemplate.html",[],function(){return'<h2 class="font-big icon-jabber" style="padding-left: 50px; background-position: 10px;">Chat</h2>\n<div id="wrapper" class="contentScroll">\n  <div id="scroller">\n	<dl id="scrollerList"></dl>\n  </div>\n</div>'}),define("text!templates/chat/chatListTemplateDesktop.html",[],function(){return'<h2 id="chatTitleBar" class="icon-jabber" style="padding: 5px; padding-left: 35px; background-position: 10px; font-size: 14px; background-size: 25px 20px; background-color: #D0D0D0; margin-bottom: 0px; margin-top: 0px;">Chat</h2>\n<div id="chatContacts">\n	<div id="wrapperCHAT" class="contentScroll">\n	  <div id="scrollerCHAT" style="overflow-y: auto;">\n		<dl id="scrollerListCHAT"></dl>\n	  </div>\n	</div>\n</div>'}),define("text!templates/chat/chatListItemsTemplate.html",[],function(){return'<% if (isConnected) { %>\n<% for (var i in contacts) { %>\n    <dt id="list_title_<%=i%>" <% if (contacts[i].length == 0) { %>class="hidden"<% } %>>\n      <% if (i == \'online\') { %>Online<% } %>\n      <% if (i == \'busy\') { %>Ocupado<% } %>\n      <% if (i == \'away\') { %>Ausente<% } %>\n      <% if (i == \'offline\') { %>Offline<% } %>\n    </dt>\n    <ul id="list_<%=i%>">\n      <% _.each(contacts[i], function(contact){ %>\n        <% if (contact.id != null) { %>\n        <li id="<%=contact.id%>"> \n          <a href="/Chat/<%=contact.id%>" class="listItemLink">\n            <div id="<%=contact.id%>_status" class="chat-<%=i%>"></div>\n            <div id="<%=contact.id%>_badge" style="" class="badge badge-chat-list <% if (contact.qtdUnread == 0) { %>hidden<% } %>"><%= contact.qtdUnread %></div>\n            <% if (contact.name != null) { %>\n            <h3 class="font-mid"><%= contact.name %></h3>\n            <span class="font-small"><%= contact.jid %></span>\n            <% } else { %>\n            <h3 class="font-mid"><%= contact.jid %></h3>\n            <% } %>\n          </a>\n        </li>\n        <% } %>\n      <% }); %>\n    </ul>\n<% } %>\n<% } else { %>\n  <dl id="chatHelp">\n      <dt>Est&aacute; com problemas ao se conectar ao CHAT?</dt>\n      <dd>Tente reconectar, se o problema persistir verifique se voc&ecirc; se enquadra em uma das seguintes situa&ccedil;&otilde;es.</dd>\n      <br> \n      <br>\n      <dt>1 - Sua conex&atilde;o pode ter sido perdida</dt>\n      <dd>\n        Caso voc&ecirc; esteja sem acesso a internet ou tenha passado com seu dispositivo m&oacute;vel por uma &aacute;rea onde a conex&atilde;o com a internet tenha sido temporariamente perdida, você ser&aacute; desconectado do servi&ccedil;o de CHAT. Para conectar-se novamente, basta fechar e abrir o aplicativo. Caso esteja em um navegador WEB, atualize a sua p&aacute;gina.\n        <br><br><br>\n      </dd>\n      <dt>2 - Voc&ecirc; pode estar conectado em outro local</dt>\n      <dd>\n        Voc&ecirc; pode estar conectado no CHAT em outro computador ou em outra aba do seu navegador. O servi&ccedil;o de CHAT aceita apenas uma conex&atilde;o por usu&aacute;rio, e caso voc&ecirc; tenha se logado em outro lugar sua conex&atilde;o ser&aacute; perdida.\n        <br><br><br>\n      </dd>\n\n      <% if (!Shared.isPhonegap()) { %>\n      <dt>3 - O seu navegador pode ter bloqueado sua conex&atilde;o.</dt>\n      <dd>Alguns navegadores podem bloquear a conex&atilde;o no servidor de CHAT.<br><br>No navegador Firefox desabilite o bloqueio atrav&eacute;s destes 4 passos bem simples:<br>\n        <br><div class="firefox_help"></div>\n      </dd>\n      <% } %>\n  </dl>\n<% } %>\n\n'}),define("views/chat/ChatListItemsView",["jquery","underscore","backbone","shared","text!templates/chat/chatListItemsTemplate.html"],function(e,t,n,r,i){var s=n.View.extend({render:function(){var n=this,s=r.im.isConnected(),o=[];s&&(o=r.im.getAllContacts());var u={contacts:o,isConnected:s,_:t,Shared:r},a=t.template(i,u),f="#scrollerList";r.isDesktop()&&(f="#scrollerListCHAT"),e(f).html(a),s||r.menuView.renderContextMenu("chatOffline",{})}});return s}),define("text!templates/chat/chatWindowTemplate.html",[],function(){return'<% if (!Shared.isDesktop()) { %>\n<h2 id="chatUserName">\n	<% if ($.trim(contact.name) != \'\') { %><%=contact.name%><% } else { %><%=contact.jid%><% } %>\n</h2>\n<div class="chatArea">\n	<input id=\'msgToSend\' type="text" class="chatTextField" value="" placeholder="Mensagem:"  onKeyPress=""/>\n</div>\n<article id="wrapperDetail" class="contentScroll">\n  <div id="scrollerDetail">\n  	\n  </div>\n</article>\n<% } else { %>\n	<div id="chat_window_content_<%=chatID%>" class="row chat-window col-xs-5 col-md-3" style="margin:0px; padding: 0px; z-index: 200;">\n        <div class="col-xs-12 col-md-12">\n          <div class="panel panel-default panel-collapsed">\n                <div class="panel-heading top-bar">\n                    <div class="col-md-8 col-xs-8">\n                        <h3 class="panel-title"><!--<span id="chatUserName" class="glyphicon glyphicon-comment"></span> --><% if ($.trim(contact.name) != \'\') { %><%=contact.name%><% } else { %><%=contact.jid%><% } %></h3>\n                    </div>\n                    <div class="col-md-4 col-xs-4" style="text-align: right;">\n                        <a href="#"><span id="minim_chat_window_<%=chatID%>" class="glyphicon glyphicon-minus icon_minim"></span></a>\n                        <a href="#"><span class="glyphicon glyphicon-remove icon_close" data-id="chat_window_1"></span></a>\n                    </div>\n                </div>\n                <div id="msgs_content_<%=chatID%>" class="panel-body msg_container_base">\n                    \n                </div>\n                <div id="panel_footer_<%=chatID%>" class="panel-footer" style="padding: 5px;">\n                    <div class="input-group">\n                        <input id="msgToSend" type="text" class="form-control input-sm chat_input" placeholder="Escreva aqui sua mensagem..." />\n                        <span class="input-group-btn">\n                        <button class="btn btn-primary btn-sm" id="btn-chat">Enviar</button>\n                        </span>\n                    </div>\n                </div>\n        </div>\n        </div>\n    </div> \n<% } %>'}),define("text!templates/chat/chatWindowMessagesTemplate.html",[],function(){return'<% if (!Shared.isDesktop()) { %>\n\n<% _.each(messages, function(message){ %>\n  <% var lastMsgJID = \'\'; %>\n	<% if (message.jid != "me") { %>\n    <div class="fullWidth" style="text-align: left; font-size: 10px; color: #777777; margin-bottom: 10px; padding-left: 20px;">\n      <%=moment(message.date).format("hh:mm")%> - (<%=moment(message.date).fromNow()%>)\n    </div>\n		<div class="fullWidth">\n  		<img class="chat-picture left">\n  		<div class="triangle-right left">\n  			<%=message.body%>\n  		</div>\n  		<div class="clear"></div>\n  	</div>\n	<% } else { %>\n    <div class="fullWidth" style="text-align: right; font-size: 10px; color: #777777; margin-bottom: 10px; padding-right: 20px;">\n      <%=moment(message.date).format("hh:mm")%> - (<%=moment(message.date).fromNow()%>)\n    </div>\n  	<div class="fullWidth">\n  		<img class="myPicture chat-picture right">\n  		<div class="triangle-right right">\n  			<%=message.body%>\n  		</div>\n  		<div class="clear"></div>\n  	</div>\n	<% } %>\n  <% lastMsgJID = message.jid; %>\n<% }); %>\n<div id="last_message_<%=chatID%>"></div>\n\n<% } else { %>\n<% _.each(messages, function(message){ %>\n  <% if (message.jid != "me") { %>\n       <div class="fullWidth" style="text-align: left; font-size: 10px; color: #777777; margin-bottom: 10px; padding-left: 20px;">\n      <%=moment(message.date).format("hh:mm")%> - (<%=moment(message.date).fromNow()%>)\n    </div>\n    <div class="fullWidth">\n      <img class="chat-picture left">\n      <div class="triangle-right left">\n        <%=message.body%>\n      </div>\n      <div class="clear"></div>\n    </div>\n\n  <% } else { %>\n    <div class="fullWidth" style="text-align: right; font-size: 10px; color: #777777; margin-bottom: 10px; padding-right: 20px;">\n        <%=moment(message.date).format("hh:mm")%> - (<%=moment(message.date).fromNow()%>)\n      </div>\n      <div class="fullWidth">\n        <img class="myPicture chat-picture right">\n        <div class="triangle-right right">\n          <%=message.body%>\n        </div>\n        <div class="clear"></div>\n      </div>\n\n  <% } %>\n<% }); %>\n<div id="last_message_<%=chatID%>"></div>\n<% } %>'}),define("views/chat/ChatWindowView",["jquery","underscore","backbone","shared","moment","text!templates/chat/chatWindowTemplate.html","text!templates/chat/chatWindowMessagesTemplate.html","views/home/LoadingView"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({el:e("#content"),chatID:"",currentContact:null,render:function(){var n=r.im.getContactsByID(this.chatID);this.currentContact=n;var i=this,o=function(e){i.renderMessages(),r.menuView.setChatBadge(r.im.qtdUnreadMessages())},u=function(t){if(t.from==i.currentContact.jid){var r="";t.state=="composing"&&(r=" (está escrevendo...)"),e.trim(n.name)!=""?e("#chatUserName").html(n.name+r):e("#chatUserName").html(n.jid+r)}};r.im.addOnMessageListener(o),r.im.addOnComposingListener(u),r.im.addOnErrorListener(r.onIMErrorFunction),r.im.addOnDisconnectListener(r.onIMDisconnectFunction),r.menuView.setChatBadge(r.im.qtdUnreadMessages());var a={chatID:this.chatID,contact:n,_:t,Shared:r},f=t.template(s,a);this.$el.html(f),this.renderMessages();var l=e(".topHeader").outerHeight(!0),c=e(".chatArea").outerHeight(true)==null?0:e(".chatArea").outerHeight(!0);this.scrollToLastMessage(),r.setCurrentView(2,this)},events:{"keydown #msgToSend":"sendMessage","click .icon_close":"closeChatWindow","click .panel-heading span.icon_minim":"minimChatWindow"},closeChatWindow:function(t){t!=undefined&&t.preventDefault(),e("#chat_window_content_"+this.chatID).remove()},minimChatWindow:function(t){t!=undefined&&t.preventDefault(),console.log("minimChatWindow");var n=e("#minim_chat_window_"+this.chatID);console.log(n),n.hasClass("panel-collapsed")?(n.parents(".panel").find(".panel-body").show(),n.removeClass("panel-collapsed"),n.removeClass("glyphicon-plus").addClass("glyphicon-minus"),e("#panel_footer_"+this.chatID).show()):(n.parents(".panel").find(".panel-body").hide(),n.addClass("panel-collapsed"),n.removeClass("glyphicon-minus").addClass("glyphicon-plus"),e("#panel_footer_"+this.chatID).hide())},sendMessage:function(t){t.which==13&&!t.shiftKey&&(r.im.sendMessage(this.currentContact.jid,e("#msgToSend").val()),e("#msgToSend").val(""),e("#msgToSend").blur(),e("#msgToSend").focus())},renderMessages:function(){var n=r.im.getMessagesFromID(this.chatID),s=r.im.getContactsByID(this.chatID),u={Shared:r,messages:n,chatID:this.chatID,contact:s,moment:i,_:t,$:e},a="#scrollerDetail";r.isDesktop()&&(a="#msgs_content_"+this.chatID);var f=t.template(o,u);e(a).html(f),e(".myPicture").each(function(){e(this).css("background-image",e("#userPicture").css("background-image")),e(this).css("background-size","46px 61px")}),this.scrollToLastMessage()},scrollToLastMessage:function(){if(r.scrollDetail!=null)r.scrollDetail.refresh(),r.scrollDetail.scrollToElement(document.getElementById("last_message_"+this.chatID),200);else{var t=document.getElementById("msgs_content_"+this.chatID),n=t.scrollHeight-t.clientHeight;e("#msgs_content_"+this.chatID).animate({scrollTop:n},200)}}});return a}),define("views/chat/ChatListView",["jquery","underscore","backbone","shared","text!templates/chat/chatListTemplate.html","text!templates/chat/chatListTemplateDesktop.html","views/chat/ChatListItemsView","views/chat/ChatWindowView","views/home/LoadingView"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({secondViewName:"",render:function(){var t=this,n="#content",i="#contentDetail";r.isSmartPhoneResolution()&&(i="#content"),r.isDesktop()?(n="#chatDesktop",i="#chatDesktop"):e(i).html(""),r.im.clearListeners();var s=function(e){if(e.id!=t.secondViewName){var n=r.im.getContactsByID(e.id);t.setChatBadge(e.id,n.qtdUnread);if(e.jid!="me"){var i={type:"chat-message",icon:"icon-jabber",title:e.body,description:e.jid,route:"/Chat/"+e.id,timeout:3e3,elementID:"#pageMessage"};r.showMessage(i)}}else t.setChatBadge(t.secondViewName,0),r.im.setAsSeenAllMessagesFromContact(t.secondViewName);r.menuView.setChatBadge(r.im.qtdUnreadMessages())},o=function(t){var n=e("#"+t.id);n.animate({opacity:.25,height:"toggle"},1e3,function(){n.remove(),e("#list_title_"+t.status).removeClass("hidden"),e("#list_"+t.status).append(n);var r=e("#"+t.id+"_status");r.removeClass(),r.addClass("chat-"+t.status),n.animate({opacity:1,height:"toggle"},1e3,function(){})})},f=function(){t.renderContactList(),e(i).html("")};r.im.addOnMessageListener(s),r.im.addOnPresenceListener(o),r.im.addOnErrorListener(r.onIMErrorFunction),r.im.addOnDisconnectListener(r.onIMDisconnectFunction),r.im.addOnErrorListener(f);if(this.secondViewName!=null){if(!r.isDesktop()){var l=new a({el:e(i)});l.render()}r.detailView!=null&&r.detailView.undelegateEvents(),setTimeout(function(){t.setChatBadge(t.secondViewName,0),r.im.setAsSeenAllMessagesFromContact(t.secondViewName),r.isDesktop()&&(i="#chatWindows");var n=new u({el:e(i)});n.chatID=t.secondViewName,n.render()},r.timeoutDelay)}else this.renderContactList()},renderContactList:function(){var n="#content";r.isDesktop()&&(n="#chatDesktop"),console.log(n);var u=this,f=new a({el:e(n)});f.render(),setTimeout(function(){var f={_:t},l;r.isDesktop()?l=t.template(s,f):l=t.template(i,f),e(n).html(l);var c=r.im.isConnected(),h=function(){var e=new o;e.render(),r.setCurrentView(1,u),r.menuView.setChatBadge(r.im.qtdUnreadMessages())};if(!c){var p=new Date;if(p-r.lastReconectionTime>=60)h();else{var d=new a({el:e("#scrollerList")});d.render(),r.router.navigate("ChatReconnect",{trigger:!0})}}else h()},r.timeoutDelay)},initialize:function(){this.secondViewName=""},setChatBadge:function(t,n){var r="#"+t+"_badge";n>0?(e(r).removeClass("hidden"),e(r).html(n)):(e(r).addClass("hidden"),e(r).html(n))}});return f}),define("router",["jquery","underscore","backbone","shared","views/login/LoginView","views/home/HomeView","views/home/OfflineView","views/mail/DetailMessageView","views/mail/ComposeMessageView","views/mail/EditFolderView","views/settings/SettingsListView","views/contacts/ContactsListView","views/contacts/DetailsContactView","views/contacts/AddContactView","views/contacts/DeleteContactView","views/calendar/CalendarListView","views/calendar/CalendarDetailsView","views/calendar/CalendarEditEventView","views/calendar/CalendarDeleteEventView","views/calendar/CalendarFullDayListView","views/chat/ChatListView"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w){var E=n.Router.extend({routes:{Home:"homeView",Login:"loginView",AutomaticLogin:"automaticLoginView",Offline:"offlineView","Switch/*accountName":"switchAccount","Mail/CleanTrash/*PfolderID":"cleanTrashView","Mail/AddFolder/*PfolderID":"newFolderView","Mail/RenameFolder/*PfolderID":"renameFolderView","Mail/DeleteFolder/*PfolderID":"deleteFolderView","Mail/Message/:secondViewName/:msgID/*folderID":"composeMessageView","Mail/Message/:secondViewName/:emailTo":"composeMessageTo","Mail/Message/:secondViewName":"composeMessageView","Mail/Messages/:forceReload/:msgID/*folderID":"detailMessageView",Contacts:"contactsListView","Contacts/Add/:contactID":"addContactView","Contacts/Delete/:contactID":"deleteContactView","Contacts/:secondViewName/OK":"deleteContactsListView","Contacts/:secondViewName/:contactID/:status":"detailsContactView","Contacts/:secondViewName/:contactID":"detailsContactView","Contacts/:secondViewName":"contactsListView","Calendar/FullDay/:year/:month/:day":"calendarFullDayView","Calendar/Events/Add/:year/:month/:day":"calendarAddEventView","Calendar/Events/Edit/:eventID":"calendarEditEventView","Calendar/Events/Delete/:eventID/:year/:month/:day":"calendarDeleteEventView","Calendar/Events/:eventID/:status":"calendarDetailsView","Calendar/Events/:eventID":"calendarDetailsView","Calendar/:year/:month/:day/:status":"calendarListView","Calendar/:year/:month/:day":"calendarListView",Calendar:"calendarListView",ChatReconnect:"chatReconnectView",Chat:"chatListView","Chat/:secondViewName":"chatListView",Settings:"settingsListView","Settings/:secondViewName":"settingsListView",Logout:"logoutView",ContextMenu:"contextMenuView","*actions":"defaultAction"},start:function(){r.isBuiltInExpresso()?n.history.start({pushState:!0,root:"/email/"}):n.history.start({pushState:!0})},setupRouter:function(){var e=this;return e.on("route:homeView",function(e){var t=new s;t.render()}),e.on("route:switchAccount",function(e){r.forceAutomaticLoginInAccountName=e;var t=new i;t.logoutUser(!1)}),e.on("route:newFolderView",function(e){e==undefined&&(e="INBOX"),e=e.replace("#","");var t=new f;t.action="addFolder",t.parentFolderID=e,t.render(),r.menuView.closeMenu()}),e.on("route:cleanTrashView",function(e){e==undefined&&(e="INBOX"),e=e.replace("#","");var t=new f;t.cleanTrash(e),r.menuView.closeMenu()}),e.on("route:renameFolderView",function(e){e==undefined&&(e="INBOX"),e=e.replace("#","");var t=new f;t.action="renameFolder",t.folderID=e,t.render(),r.menuView.closeMenu()}),e.on("route:deleteFolderView",function(e){e=e.replace("#","");var t=new f;t.deleteFolder(e),r.menuView.closeMenu()}),e.on("route:loginView",function(e){var t=new i;t.render()}),e.on("route:automaticLoginView",function(e){var t=new i;t.automaticLogin()}),e.on("route:offlineView",function(e){var t=new o;t.render()}),e.on("route:logoutView",function(e){var t=new i;t.logoutUser()}),e.on("route:defaultAction",function(t){r.versionIsActive?(r.api.getLocalStorageValue("expresso",function(e){if(e!=null){var t=e.auth;t!=null&&r.api.auth(t),r.profile=e.profile}}),r.api.auth()?e.navigate("Home",{trigger:!0}):e.navigate("Login",{trigger:!0})):e.navigate("Offline",{trigger:!0})}),e.on("route:detailMessageView",function(e,t,n){n=n.replace("#","");var i=new s({folderID:n});r.menuView.closeMenu(),i.loadMessagesInFolder(n,"",t,e),n=="INBOX"?r.menuView.selectMenu(1):r.menuView.selectMenu(0),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:composeMessageView",function(e,t,n){var i=new a;i.secondViewName=e,i.msgID=t,i.folderID=n,i.render(),r.menuView.closeMenu(),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:composeMessageTo",function(e,t){var n=new a;n.secondViewName=e,n.emailTo=t,n.render(),r.menuView.closeMenu(),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:settingsListView",function(e){var t=new l;t.secondViewName=e,t.render(),r.menuView.selectMenu(5),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:contactsListView",function(e){contactsListView=new c,contactsListView.secondViewName=e,contactsListView.render(),r.menuView.selectMenu(3),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:deleteContactsListView",function(e){contactsListView=new c,contactsListView.secondViewName=e,contactsListView.status="OK",contactsListView.render(),r.menuView.selectMenu(3),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:detailsContactView",function(e,t,n){detailsContactView=new h,detailsContactView.secondViewName=e,detailsContactView.contactID=t,detailsContactView.status=n,detailsContactView.render(),r.menuView.selectMenu(3),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:addContactView",function(e,t){addContactView=new p,addContactView.contactID=e,addContactView.email=t,addContactView.render(),r.menuView.selectMenu(3),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:deleteContactView",function(e){deleteContactView=new d,deleteContactView.contactID=e,deleteContactView.render(),r.menuView.selectMenu(3),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarListView",function(e,t,n,i){var s=new v;s.year=e,s.month=t,s.day=n,s.fullDay=!1,s.status=i,s.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarFullDayView",function(e,t,n){var i=new b;i.year=e,i.month=t,i.day=n,i.fullDay=!0,i.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarDetailsView",function(e,t){var n=new m;n.eventID=e,n.status=t,n.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarEditEventView",function(e){var t=new g;t.eventID=e,t.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarAddEventView",function(e,t,n){var i=new g({year:e,month:t,day:n});i.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:calendarDeleteEventView",function(e,t,n,i){var s=new y;s.eventID=e,s.year=t,s.month=n,s.day=i,s.render(),r.menuView.selectMenu(2),r.deviceType(r.isSmartPhoneResolution())}),e.on("route:chatListView",function(e){}),e.on("route:contextMenuView",function(){r.menuView.context.toggleMenu()}),e.on("route:chatReconnectView",function(){r.chatReconnect()}),e}});return E}),define("app",["webcomponents","jquery","underscore","backbone","shared","material","router"],function(e,t,n,r,i,s,o){var u=function(){var e=function(){i.router=new o,i.router.setupRouter(),i.router.start()};IS_PHONEGAP?document.addEventListener("deviceready",function(){e()}):e()};return{initialize:u}}),require.config({urlArgs:"bust=14411090641240",paths:{webcomponents:"../bower_components/webcomponentsjs/webcomponents",jquery:"libs/jquery/jquery-min",underscore:"libs/underscore/underscore-min",backbone:"libs/backbone/backbone-min",localstorage:"libs/backbone/localstorage",expressoAPI:"libs/expresso/expressoAPI",expressoIM:"libs/expresso/expressoIM",expressoService:"libs/expresso/expressoService",material:"libs/mdl/material",jqueryui:"libs/jquery-ui/jquery-ui.min",im:"libs/messenger/im",jquery_xmpp:"libs/jquery.xmpp/jquery.xmpp",moment:"libs/moment/moment.min",autocomplete:"libs/jquery.backbone.widget/jquery.backbone.widgets",jquery_migrate:"libs/jquery-migrate/jquery-migrate-1.2.1.min",jqueryui_datepicker_ptBR:"libs/jquery-ui/jquery.ui.datepicker-pt-BR",jquery_autogrow:"libs/jquery.autogrow/jquery.autogrowtextarea",wijmo:"libs/jquery.wijmo/jquery.wijmo.min",wijdialog:"libs/jquery.wijmo/jquery.wijmo.wijdialog",linkify:"libs/linkify/ba-linkify",tinysort:"libs/jquery.tinysort/jquery.tinysort.min",tinysort_open:"libs/jquery.tinysort/jquery.opensource.min",contextmenu:"libs/jquery.contextmenu/jquery.contextMenu",tweenmax:"libs/tweenmax/TweenMax.min",templates:"../templates"},shim:{localstorage:{deps:["underscore","jquery","backbone"],exports:"Store"},moment:{deps:["jquery"],exports:"moment"},wijmo:{deps:["jquery","jquery_migrate"],exports:"wijmo"},wijdialog:{deps:["jquery","jquery_migrate","wijmo"],exports:"wijdialog"},tinysort:{deps:["jquery","tinysort_open"],exports:"tinysort"},jquery_autogrow:{deps:["jquery"],exports:"jquery_autogrow"},im:{deps:["jquery","jquery_migrate","wijmo","wijdialog","tinysort","tinysort_open","contextmenu","linkify","jquery_autogrow"],exports:"im"},underscore:{exports:"_"},jqueryui:{deps:["jquery"]},tweenmax:{deps:["jquery"]},autocomplete:{deps:["jquery"]},jqueryui_datepicker_ptBR:{deps:["jquery","jqueryui"]},enforceDefine:!1},packages:[]}),require(["app"],function(e){e.initialize()}),define("main",function(){});